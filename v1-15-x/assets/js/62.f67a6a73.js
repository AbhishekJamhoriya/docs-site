(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{479:function(t,e,a){"use strict";a.r(e);var s=a(3),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"onboarding-a-spring-boot-based-rest-api-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onboarding-a-spring-boot-based-rest-api-service"}},[t._v("#")]),t._v(" Onboarding a Spring Boot based REST API Service")]),t._v(" "),a("p",[t._v("This guide is part of a series of guides to onboard a REST API service with the Zowe API Mediation Layer.\nAs an API developer, you can onboard your REST API service built with the Spring Boot framework with the Zowe API Mediation Layer.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" Before API ML version 1.2, the API ML provided an integration enabler based on Spring Cloud Netflix components. From version 1.3 and later, the API ML uses a new implementation based on the Plain Java Enabler (PJE) that is not backwards compatible with the previous enabler versions. API ML core services (Discovery Service, Gateway, and API Catalog) support both the old and new enabler versions.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" For more information about how to utilize another onboarding method, see:")]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/onboard-plain-java-enabler.html"}},[t._v("Onboard a REST API service with the Plain Java Enabler (PJE)")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/onboard-direct-eureka-call.html"}},[t._v("Onboard a REST service directly calling eureka with xml configuration")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/onboard-static-definition.html"}},[t._v("Onboard an existing REST API service without code changes")])],1)]),t._v(" "),a("h2",{attrs:{id:"outline-of-onboarding-a-rest-service-using-spring-boot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#outline-of-onboarding-a-rest-service-using-spring-boot"}},[t._v("#")]),t._v(" Outline of onboarding a REST service using Spring Boot")]),t._v(" "),a("p",[t._v("The following steps outline the overall process to onboard a REST service with the API ML using a Spring Boot enabler. Each step is described in further detail in this article.")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"#selecting-a-spring-boot-enabler"}},[t._v("Selecting a Spring Boot Enabler")])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#configuring-your-project"}},[t._v("Configuring your project")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#gradle-build-automation-system"}},[t._v("Gradle build automation system")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#maven-build-automation-system"}},[t._v("Maven build automation system")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#configuring-your-spring-boot-based-service-to-onboard-with-api-ml"}},[t._v("Configuring your Spring Boot based service to onboard with API ML")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Sample-API-ML-Onboarding-Configuration"}},[t._v("Sample API ML Onboarding Configuration")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#SAF-Keyring-configuration"}},[t._v("SAF Keyring configuration")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Custom-Metadata"}},[t._v("Custom Metadata")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Api-Mediation-Layer-specific-metadata"}},[t._v("Api Mediation Layer specific metadata")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#registering-and-unregistering-your-service-with-api-ml"}},[t._v("Registering and unregistering your service with API ML")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#Unregistering-your-service-with-API-ML"}},[t._v("Unregistering your service with API ML")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Basic-routing"}},[t._v("Basic routing")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#adding-api-documentation"}},[t._v("Adding API documentation")])])]),t._v(" "),a("li",[a("p",[t._v("(Optional) "),a("a",{attrs:{href:"#validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[t._v("Validating your API service discoverability")])])]),t._v(" "),a("li",[a("p",[t._v("(Optional) "),a("a",{attrs:{href:"#troubleshooting"}},[t._v("Troubleshooting")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#log-messages-during-registration-problems"}},[t._v("Log messages during registration problems")])])])])]),t._v(" "),a("h2",{attrs:{id:"selecting-a-spring-boot-enabler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#selecting-a-spring-boot-enabler"}},[t._v("#")]),t._v(" Selecting a Spring Boot Enabler")]),t._v(" "),a("p",[t._v("Add a dependency on the Spring Enabler version to your project build configuration that corresponds to the Spring Boot version that you use for the whole project:")]),t._v(" "),a("ul",[a("li",[t._v("onboarding-enabler-spring-v1")]),t._v(" "),a("li",[t._v("onboarding-enabler-spring-v2")])]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" The process of onboarding an API service is the same for both Spring Boot enabler versions.")]),t._v(" "),a("h2",{attrs:{id:"configuring-your-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-your-project"}},[t._v("#")]),t._v(" Configuring your project")]),t._v(" "),a("p",[t._v("Use either "),a("em",[t._v("Gradle")]),t._v(" or "),a("em",[t._v("Maven")]),t._v(" as your build automation system to manage your project builds.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" You can download the selected enabler artifact from the "),a("a",{attrs:{href:"https://zowe.jfrog.io/zowe/libs-release/org/zowe/apiml/sdk/onboarding-enabler-java/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Zowe Artifactory"),a("OutboundLink")],1),t._v(" for latest stable versions.. Alternatively, if you decide to build the API ML from source, it is necessary to publish the enabler artifact to your Artifactory. Publish the enabler artifact by using the "),a("em",[t._v("Gradle")]),t._v(" tasks provided in the source code.")]),t._v(" "),a("h3",{attrs:{id:"gradle-build-automation-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-build-automation-system"}},[t._v("#")]),t._v(" Gradle build automation system")]),t._v(" "),a("p",[t._v("Use the following procedure to use "),a("em",[t._v("Gradle")]),t._v(" as your build automation system.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Create a "),a("code",[t._v("gradle.properties")]),t._v(" file in the root of your project if one does not already exist.")])]),t._v(" "),a("li",[a("p",[t._v("In the "),a("code",[t._v("gradle.properties")]),t._v(" file, set the URL of the specific Artifactory containing the "),a("em",[t._v("SpringEnabler")]),t._v(" artifact.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# Repository URL for getting the enabler-java artifact\nartifactoryMavenRepo=https://zowe.jfrog.io/zowe/libs-release/\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Add the following "),a("em",[t._v("Gradle")]),t._v(" code block to the "),a("code",[t._v("repositories")]),t._v(" section of your "),a("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("repositories {\n    ...\n\n    maven {\n        url artifactoryMavenRepo\n    }\n}\n")])])])]),t._v(" "),a("li",[a("p",[t._v("In the same "),a("code",[t._v("build.gradle")]),t._v(" file, add the necessary dependencies for your service. If you use the "),a("em",[t._v("SpringEnabler")]),t._v(" from the Zowe Artifactory, add the following code block to your "),a("code",[t._v("build.gradle")]),t._v(" script:")]),t._v(" "),a("p",[t._v("Use the corresponding artifact according to the Spring version you are using.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For Spring boot version 2.1.1, use the following artifact:")]),t._v(" "),a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("implementation "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"org.zowe.apiml.sdk:onboarding-enabler-spring-v2-springboot-2.1.1.RELEASE:'),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),t._v("zoweApimlVersion")]),t._v('"')]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("For Spring boot version 1.5.9, use the following artifact:")]),t._v(" "),a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("implementation "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"org.zowe.apiml.sdk:onboarding-enabler-spring-v1-springboot-2.1.1.RELEASE:'),a("span",{pre:!0,attrs:{class:"token expression"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),t._v("zoweApimlVersion")]),t._v('"')]),t._v("\n")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Notes:")])]),t._v(" "),a("ul",[a("li",[t._v("You may need to add additional dependencies as required by your service implementation.")]),t._v(" "),a("li",[t._v("The information provided in this file is valid for "),a("code",[t._v("ZoweApimlVersion 1.3.0")]),t._v(" and above.")])])]),t._v(" "),a("li",[a("p",[t._v("In your project home directory, run the "),a("code",[t._v("gradle clean build")]),t._v(" command to build your project. Alternatively, you can run "),a("code",[t._v("gradlew")]),t._v(" to use the specific gradle version that is working with your project.")])])]),t._v(" "),a("h3",{attrs:{id:"maven-build-automation-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven-build-automation-system"}},[t._v("#")]),t._v(" Maven build automation system")]),t._v(" "),a("p",[t._v("Use the following procedure if you use "),a("em",[t._v("Maven")]),t._v(" as your build automation system.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Add the following "),a("em",[t._v("XML")]),t._v(" tags within the newly created "),a("code",[t._v("pom.xml")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repositories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repository")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://zowe.jfrog.io/zowe/libs-release/"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("snapshots")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("snapshots")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repository")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repositories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("**Tip:** If you want to use snapshot version, replace libs-release with libs-snapshot in the repository url and change snapshots->enabled to true.\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Add the proper dependencies")]),t._v(" "),a("p",[t._v("2.1 For spring version 2.1.1, use the following artifact")]),t._v(" "),a("div",{staticClass:"language-maven extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<dependency>\n    <groupId>org.zowe.apiml.sdk</groupId>\n    <artifactId>onboarding-enabler-spring-v2-springboot-2.1.1.RELEASE</artifactId>\n    <version>$zoweApimlVersion</version>\n</dependency>\n")])])]),a("p",[t._v("2.2 For spring version 1.5.9, use the following artifact")]),t._v(" "),a("div",{staticClass:"language-maven extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<dependency>\n    <groupId>org.zowe.apiml.sdk</groupId>\n    <artifactId>onboarding-enabler-spring-v1-springboot-2.1.1.RELEASE</artifactId>\n    <version>$zoweApimlVersion</version>\n</dependency>\n")])])])]),t._v(" "),a("li",[a("p",[t._v("In the directory of your project, run the "),a("code",[t._v("mvn clean package")]),t._v(" command to build the project.")])])]),t._v(" "),a("h2",{attrs:{id:"configuring-your-spring-boot-based-service-to-onboard-with-api-ml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-your-spring-boot-based-service-to-onboard-with-api-ml"}},[t._v("#")]),t._v(" Configuring your Spring Boot based service to onboard with API ML")]),t._v(" "),a("p",[t._v("To configure a Spring Boot based service, it is useful to first understand how API ML enabled service Spring Boot based configuration relates to configuration using the Plain Java Enabler.")]),t._v(" "),a("p",[t._v("Spring Boot expects to find the default configuration of an application in an "),a("code",[t._v("application.yml")]),t._v(" file that is placed on the classpath. Typically "),a("code",[t._v("application.yml")]),t._v(" contains Spring Boot specific properties such as properties that are used to start a web application container including TLS security, different spring configuration profiles definitions, and other properties. This "),a("code",[t._v("application.yml")]),t._v(" must contain the Plain Java Enabler API ML service configuration under the "),a("code",[t._v("apiml.service")]),t._v(" prefix. The API ML configuration under this prefix is necessary to synchronize the configuration of "),a("code",[t._v("apiml.service")]),t._v(" with the spring "),a("code",[t._v("server")]),t._v(" configuration.")]),t._v(" "),a("p",[t._v("Configuration properties belong to two categories:")]),t._v(" "),a("ul",[a("li",[t._v("Service related properties which include endpoints, relative paths, or API documentation definitions.")]),t._v(" "),a("li",[t._v("Environment related properties which include host names, ports, context etc.")])]),t._v(" "),a("p",[t._v("Execution environment related properties should be provided by additional configuration mechanisms that are specific to the target execution environment. Execution environment related properties for development deployments on a local machine differ with those properties on a mainframe system.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("In a development environment, provide execution environment related properties in an additional "),a("code",[t._v("YAML")]),t._v(" file with the system property in the following format:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-Dspring.config.additional-location=PATH_TO_YAML_FILE\n")])])])]),t._v(" "),a("li",[a("p",[t._v("On the mainframe system, provide additional configuration properties and values for existing configuration properties through Java system properties.")]),t._v(" "),a("p",[t._v("Execution environments for local development deployments and mainframe deployment are described in detail later in this article.")])])]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Provide a configuration section for onboarding with API ML in the "),a("code",[t._v("application.yml")]),t._v(" file.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("If you have already onboarded your service with API ML, copy and paste the contents of your existing API ML onboarding configuration file. The default of the API ML onboarding configuration file is the "),a("code",[t._v("service-configuration.yml")]),t._v(" in the "),a("code",[t._v("application.yml")]),t._v(" file under the "),a("code",[t._v("apiml.service")]),t._v(" prefix.")])]),t._v(" "),a("li",[a("p",[t._v("If you have not yet onboarded your REST service with API ML, use the "),a("a",{attrs:{href:"#sample-api-ml-onboarding-configuration"}},[t._v("Sample API Onboarding Configuration")]),t._v(" to get started.")])])])]),t._v(" "),a("li",[a("p",[t._v("If you are reusing your existing API ML onboarding configuration, modify the API ML related properties of the "),a("code",[t._v("application.yml")]),t._v(" file.")]),t._v(" "),a("p",[t._v("a) Remove certain properties under the "),a("code",[t._v("apiml.service")]),t._v(" section, which must be externalized. Properties for removal are described in the following sample of API ML onboarding configuration.")]),t._v(" "),a("p",[t._v("b) Provide the following additional properties under the "),a("code",[t._v("apiml")]),t._v(" section:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("enabled: true # If true, the service will automatically register with API ML discovery service.\n\nenableUrlEncodedCharacters: true\n")])])]),a("p",[t._v("These additional properties are contained in the following sample.")])])]),t._v(" "),a("h3",{attrs:{id:"sample-api-ml-onboarding-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sample-api-ml-onboarding-configuration"}},[t._v("#")]),t._v(" Sample API ML Onboarding Configuration")]),t._v(" "),a("p",[t._v("In the following sample API ML onboarding configuration, properties prefixed with "),a("code",[t._v("###")]),t._v(" (3 hashtags) indicate that their value must be provided as "),a("code",[t._v("-Dsystem.property.key=PROPERTY_VALUE")]),t._v(" defined in the mainframe execution environment.\nThe "),a("code",[t._v("-Dsystem.property.key")]),t._v(" must be the same as the flattened path of the YAML property which is commented out with "),a("code",[t._v("###")]),t._v(".\nThese properties must not be defined (uncommented) in your default service YAML configuration file.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("     "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiml")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### hostname:")]),t._v("\n")])])]),a("p",[t._v("In this example from the YAML configuration file, when the application service is run on the mainframe, provide your mainframe hostname value on the Java execution command line in the following format:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-Dapiml.service.hostname=YOUR-MAINFRAME-HOSTNAME-VALUE\n")])])]),a("p",[t._v("Since this value is provided in the Java execution command line, leave the property commented out in the "),a("code",[t._v("application.yml")]),t._v(".")]),t._v(" "),a("p",[t._v("For development purposes, you can replace or add any property by providing the same configuration structure in an external\nYAML configuration file. When running your application, provide the name of the external/additional\nconfiguration file on the command line in the following format:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-Dspring.config.additional-location=PATH_TO_YOUR_EXTERNAL_CONFIG_FILE\n")])])]),a("p",[t._v("A property notation provided in the format "),a("code",[t._v("-Dproperty.key=PROPERTY_VALUE")]),t._v(" can be used for two purposes:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("To provide a runtime value for any "),a("code",[t._v("YAML")]),t._v(" property if\n"),a("code",[t._v("${property.key}")]),t._v(" is used as its value (after "),a("code",[t._v(":")]),t._v(") in the YAML configuration file")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("some_property_path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("property.key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("To add a property to configuration if the property does not already exist")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PROPERTY_VALUE\n")])])])])]),t._v(" "),a("p",[a("strong",[t._v("Note")]),t._v(": System properties provided with "),a("code",[t._v("-D")]),t._v(" notation on the command line will not replace properties defined\nin any of the YAML configuration files.")]),t._v(" "),a("h3",{attrs:{id:"api-ml-onboarding-configuration-sample"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-ml-onboarding-configuration-sample"}},[t._v("#")]),t._v(" API ML Onboarding Configuration Sample")]),t._v(" "),a("p",[t._v("Some parameters which are specific for your service deployment\nare written in "),a("code",[t._v("${fill.your.parameterValue}")]),t._v(" format. For your service configuration file, provide actual values or externalize your configuration using "),a("code",[t._v("-D")]),t._v(" java commandline parameters.")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.serviceId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Has to be same as apiml.service.serviceId property")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiml")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Decision if the service should automatically register with API ML discovery service")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enableUrlEncodedCharacters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Decision if the service requests the API ML GW to receive encoded characters in the URL")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The root of API ML onboarding configuration")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.serviceId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The symbolic name of the service")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.description"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# API service description")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scheme")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hostname can be externalized by specifying -Dapiml.service.hostname command line parameter")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# port can be externalized by specifying -Dapiml.service.port command line parameter")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceIpAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.ipAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# serviceIpAddress can be externalized by specifying -Dapiml.service.ipAddress command line parameter")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("baseUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("contextPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.serviceId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# By default the contextPath is set to be the same as apiml.service.serviceId, but doesn't have to be the same")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("homePageRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("statusPageRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/application/info\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("healthCheckRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/application/health\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("discoveryServiceUrls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.discoveryServiceHost1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.discoveryServicePort1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/eureka "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# discoveryServiceUrlscan be externalized by specifying -Dapiml.service.discoveryServiceUrls command line parameter")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ui/v1"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api/v1"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/api/v1\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ws/v1"')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service-url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/ws\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("authentication")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scheme")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" httpBasicPassTicket\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("applid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ZOWEAPPL\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.zowe.sampleservice\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.0.0\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api/v1\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.scheme"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.hostname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.port"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("apiml.service.contextPath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("doc\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("documentationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//www.zowe.org\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("catalog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cademoapps                                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Provide ID for your service Catalog tile")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sample API Mediation Layer Applications\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Applications which demonstrate how to make a service integrated to the API Mediation Layer ecosystem\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.0.1\n\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ssl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## This part configures the http client that connects to Discovery Service. You might reuse your server.ssl.xxx properties that configure your application's servlet.")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("verifySslCertificatesOfServices")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TLSv1.2\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled-protocols")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TLSv1.2\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStoreType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.keystoretype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStoreType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.truststoretype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### DEFINE FOLLOWING PROPERTIES IN EXTERNAL CONFIGURATION")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyAlias")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.keyAlias"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.keyPassword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your..keyStore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStorePassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.keyStorePassword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.trustStore"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStorePassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("fill.your.trustStorePassword"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Optional metadata section")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("customMetadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("yourqualifier")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value1\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value2\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# rest of your configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# server: ....")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yourApplicationConfiguration: ....")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# and other properties")]),t._v("\n")])])]),a("p",[a("strong",[t._v("Tip:")]),t._v(" To determine if your configuration is complete, set the logging level to "),a("code",[t._v("debug")]),t._v(" and run your application. Setting the logging level to 'debug' enables you to troubleshoot issues with certificates for HTTPS and connections with other services.")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logging")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("level")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ROOT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" INFO\n     "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("org.zowe.apiml")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DEBUG\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("Provide the suitable parameter corresponding to your runtime environment:")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For a local machine runtime environment, provide the following parameter on your command line:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-Dspring.config.additional-location=PATH-TO_EXTERNAL-YAML-CONFIG-FILE\n")])])]),a("p",[t._v("At runtime, Spring will merge the two "),a("code",[t._v("YAML")]),t._v(" configuration files, whereby the properties in the external file have higher priority.")])]),t._v(" "),a("li",[a("p",[t._v("For a mainframe execution environment, provide environment specific configuration properties. Define these configuration properties and provide them using Java System Properties on the application execution command line.")]),t._v(" "),a("p",[a("strong",[t._v("Important!")]),t._v(" Ensure that the default configuration contains only properties which are not dependent on the deployment environment.\nDo not include security sensitive data in the default configuration.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" For details about the configuration properties,\nsee "),a("router-link",{attrs:{to:"/extend/extend-apiml/onboard-plain-java-enabler.html#configuring-your-service"}},[t._v("Configuring your service")]),t._v("\nin the article "),a("em",[t._v("Onboarding a REST API service with the Plain Java Enabler (PJE)")]),t._v(".")],1)])]),t._v(" "),a("h3",{attrs:{id:"saf-keyring-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#saf-keyring-configuration"}},[t._v("#")]),t._v(" SAF Keyring configuration")]),t._v(" "),a("p",[t._v("You can choose to use a SAF keyring instead of keystore and truststore for storing certificates.\nFor information about required certificates, see "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-security.html#Zowe-API-ML-TLS-requirements"}},[t._v("Zowe API ML TLS requirements")]),t._v(". For information about running Java on z/OS with a keyring, see "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-security.html#API-ML-SAF-Keyring"}},[t._v("SAF Keyring")]),t._v(". Make sure that the enabler can access and read the keyring. Please refer to documentation of your security system for details.")],1),t._v(" "),a("p",[t._v("The following example shows enabler configuration with keyrings:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("ssl:\n    keyAlias: localhost\n    keyPassword: password\n    keyStore: safkeyring:////my_racf_id/my_key_ring\n    keyStorePassword: password\n    keyStoreType: JCERACFKS\n    trustStore: safkeyring:////my_racf_id/my_key_ring\n    trustStoreType: JCERACFKS\n    trustStorePassword: password\n")])])]),a("h3",{attrs:{id:"custom-metadata"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#custom-metadata"}},[t._v("#")]),t._v(" Custom Metadata")]),t._v(" "),a("p",[t._v("Custom metadata are described "),a("router-link",{attrs:{to:"/extend/extend-apiml/custom-metadata.html"}},[t._v("here")]),t._v(".")],1),t._v(" "),a("h2",{attrs:{id:"registering-and-unregistering-your-service-with-api-ml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-and-unregistering-your-service-with-api-ml"}},[t._v("#")]),t._v(" Registering and unregistering your service with API ML")]),t._v(" "),a("p",[t._v("Onboarding a REST service to the API ML means registering the service with the API ML Discovery Service. The registration is triggered automatically by Spring after the service application context is fully initialized by firing a "),a("code",[t._v("ContextRefreshed")]),t._v(" event.")]),t._v(" "),a("p",[t._v("To register your REST service with API ML using a Spring Boot enabler, annotate your application "),a("code",[t._v("main")]),t._v(" class with "),a("code",[t._v("@EnableApiDiscovery")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"unregistering-your-service-with-api-ml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unregistering-your-service-with-api-ml"}},[t._v("#")]),t._v(" Unregistering your service with API ML")]),t._v(" "),a("p",[t._v("Unregistering a service onboarded with API ML is done automatically at the end of the service application shutdown process in which Spring fires a "),a("code",[t._v("ContextClosed")]),t._v(" event. The Spring onboarding enabler listens for this event and issues an "),a("code",[t._v("unregister")]),t._v(" REST call to the API ML Discovery Service.")]),t._v(" "),a("h3",{attrs:{id:"basic-routing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic-routing"}},[t._v("#")]),t._v(" Basic routing")]),t._v(" "),a("p",[t._v("See "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-routing.html"}},[t._v("API ML Basic Routing")]),t._v(" for more information about basic routing in the API ML.")],1),t._v(" "),a("h2",{attrs:{id:"adding-api-documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-api-documentation"}},[t._v("#")]),t._v(" Adding API documentation")]),t._v(" "),a("p",[t._v("Use the following procedure to add Swagger API documentation to your project.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Add a SpringFox Swagger dependency.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For "),a("em",[t._v("Gradle")]),t._v(", add the following dependency in "),a("code",[t._v("build.gradle")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("compile "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"io.springfox:springfox-swagger2:2.9.2"')]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("For "),a("em",[t._v("Maven")]),t._v(", add the following dependency in "),a("code",[t._v("pom.xml")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.springfox"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("springfox-swagger2"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.9.2"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[t._v("Add a Spring configuration class to your project.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zowe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apiml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sampleservice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableWebMvc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurerAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PathSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestHandlerSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Contact")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("swagger2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableSwagger2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableSwagger2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableWebMvc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SwaggerConfiguration")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurerAdapter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SWAGGER_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestHandlerSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PathSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Spring REST API"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example of REST API"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Customize this configuration according to your specifications. For more information about customization properties,\nsee "),a("a",{attrs:{href:"https://springfox.github.io/springfox/docs/snapshot/#configuring-springfox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Springfox documentation"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" The current SpringFox Version 2.9.2 does not support OpenAPI 3.0.\nFor more information about the open feature request see this "),a("a",{attrs:{href:"https://github.com/springfox/springfox/issues/2022",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1),t._v(".")])])]),t._v(" "),a("h2",{attrs:{id:"validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[t._v("#")]),t._v(" Validating the discoverability of your API service by the Discovery Service")]),t._v(" "),a("p",[t._v("Once you build and start your service successfully, you can use the option of validating that your service is registered correctly with the API ML Discovery Service.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[a("router-link",{attrs:{to:"/extend/extend-apiml/onboard-overview.html#validating-successful-onboarding"}},[t._v("Validate successful onboarding")])],1)]),t._v(" "),a("li",[a("p",[t._v("Check that you can access your API service endpoints through the Gateway.")])]),t._v(" "),a("li",[a("p",[t._v("(Optional) Check that you can access your API service endpoints directly outside of the Gateway.")])])]),t._v(" "),a("p",[t._v("Specific addresses and user credentials for the individual API ML components depend on your target runtime environment.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" If you are working with local installation of API ML and you are using our dummy identity provider, enter "),a("code",[t._v("user")]),t._v("\nfor both "),a("code",[t._v("username")]),t._v(" and "),a("code",[t._v("password")]),t._v(". If API ML was installed by system administrators, ask them to provide you\nwith actual addresses of API ML components and the respective user credentials.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" Wait for the Discovery Service to fully register your service. This process may take a few minutes after your\nservice was successfully started.")]),t._v(" "),a("h2",{attrs:{id:"troubleshooting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")]),t._v(" "),a("h4",{attrs:{id:"log-messages-during-registration-problems"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-messages-during-registration-problems"}},[t._v("#")]),t._v(" Log messages during registration problems")]),t._v(" "),a("p",[t._v("When an Enabler connects to the Discovery Service and fails, an error message prints to the Enabler log. The default setting does not suppress these messages as they are useful to resolve problems during the Enabler registration. Possible reasons for failure include the location of Discovery Service is not correct, the Discovery Service is down, or the TLS certificate is invalid. These messages continue to print to the Enabler log, while the Enabler retries to connect to the Discovery Service.")]),t._v(" "),a("p",[t._v("To fully suppress these messages in your logging framework, set the log levels to "),a("code",[t._v("OFF")]),t._v(" on the following loggers:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("com.netflix.discovery.DiscoveryClient, com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient\n")])])]),a("p",[t._v("Some logging frameworks provide other tools to suppress repeated messages. Consult the documentation of the logging framework you use to find out what tools are available. The following example demonstrates how the Logback framework can be used to suppress repeated messages.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("p",[t._v("The Logback framework provides a filter tool, "),a("a",{attrs:{href:"http://logback.qos.ch/manual/filters.html#DuplicateMessageFilter",target:"_blank",rel:"noopener noreferrer"}},[t._v("DuplicateMessageFilter"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("Add the following code to your configuration file if you use XML configuration:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('    <turboFilter class="ch.qos.logback.classic.turbo.DuplicateMessageFilter">\n        <AllowedRepetitions>0</AllowedRepetitions>\n    </turboFilter>\n')])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" For more information, see the "),a("a",{attrs:{href:"https://github.com/zowe/api-layer/blob/master/apiml-common/src/main/resources/logback.xml",target:"_blank",rel:"noopener noreferrer"}},[t._v("full configuration used in the Core Services"),a("OutboundLink")],1),t._v(" in GitHub.")])])}),[],!1,null,null,null);e.default=n.exports}}]);