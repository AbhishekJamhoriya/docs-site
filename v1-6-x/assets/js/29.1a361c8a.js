(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{315:function(e,t,a){e.exports=a.p+"assets/img/Error.68cb8744.png"},403:function(e,t,a){"use strict";a.r(t);var r=a(15),s=Object(r.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"troubleshooting-api-ml"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-api-ml","aria-hidden":"true"}},[e._v("#")]),e._v(" Troubleshooting API ML")]),e._v(" "),r("p",[e._v("As an API Mediation Layer user, you may encounter problems with how the API ML functions. This article presents known API ML issues and their solutions.")]),e._v(" "),r("h2",{attrs:{id:"error-message-codes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#error-message-codes","aria-hidden":"true"}},[e._v("#")]),e._v(" Error Message Codes")]),e._v(" "),r("p",[e._v("The following error message codes may appear on logs or API responses. Use the following message code references and the corresponding reasons and actions to help troubleshoot issues.")]),e._v(" "),r("h3",{attrs:{id:"zwead700w"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zwead700w","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAD700W")]),e._v(" "),r("p",[e._v("Static API definition directory '%s' is not a directory or does not exist")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("One of the specified static API definition directories does not exist or is not a directory.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Review the static API definition directories and their setup. The static definition directories is specified as a launch parameter to a discovery service jar. The property key is: "),r("code",[e._v("apiml.discovery.staticApiDefinitionsDirectories")])]),e._v(" "),r("h3",{attrs:{id:"zwead701e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zwead701e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAD701E")]),e._v(" "),r("p",[e._v("Error loading static API definition file '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("A problem occurred while reading (IO operation) of a specific static API definition file.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the file data is not corrupted or incorrectly encoded.")]),e._v(" "),r("h3",{attrs:{id:"zwead702w"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zwead702w","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAD702W")]),e._v(" "),r("p",[e._v("Unable to process static API definition data: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("A problem occurred while parsing a static API definition file.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Review the mentioned static API definition file for errors.\nRefer to the specific log message to see what is the exact cause of the problem:")]),e._v(" "),r("ul",[r("li",[e._v("ServiceId is not defined in the file '%s'. The instance will not be created. Make sure to specify the ServiceId.")]),e._v(" "),r("li",[e._v("The "),r("code",[e._v("instanceBaseUrls")]),e._v(" parameter of %s is not defined. The instance will not be created. Make sure to specify the "),r("code",[e._v("InstanceBaseUrl")]),e._v(" property.")]),e._v(" "),r("li",[e._v("The API Catalog UI tile ID %s is invalid. The service %s will not have an API Catalog UI tile. Specify the correct catalog title ID.")]),e._v(" "),r("li",[e._v("One of the instanceBaseUrl of %s is not defined. The instance will not be created. Make sure to specify the InstanceBaseUrl property.")]),e._v(" "),r("li",[e._v("The URL %s does not contain a hostname. The instance of %s will not be created. The specified URL is malformed. Make sure to specify valid URL.")]),e._v(" "),r("li",[e._v("The URL %s does not contain a port number. The instance of %s will not be created.")]),e._v(" "),r("li",[e._v("The specified URL is missing a port number. Make sure to specify a valid URL.")]),e._v(" "),r("li",[e._v("The URL %s is malformed. The instance of %s will not be created: The Specified URL is malformed. Make sure to specify a valid URL.")]),e._v(" "),r("li",[e._v("The hostname of URL %s is unknown. The instance of %s will not be created: Thes specified hostname of the URL is invalid. Make sure to specify valid hostname.")]),e._v(" "),r("li",[e._v("Invalid protocol. The specified protocol of the URL is invalid. Make sure to specify valid protocol.")])]),e._v(" "),r("h3",{attrs:{id:"zwead703e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zwead703e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAD703E")]),e._v(" "),r("p",[e._v("I/O problem occurred during reading static API definition directory: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("The property files of type .yml were not found.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Review the paths for validity of your .yml files.")]),e._v(" "),r("h3",{attrs:{id:"zweam100e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam100e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM100E")]),e._v(" "),r("p",[e._v("Could not read properties from: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("The Build Info properties file was empty or null.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that "),r("code",[e._v("META-INF/build-info.properties")]),e._v(" and "),r("code",[e._v("META-INF/git.properties")]),e._v(" exist and are not empty.")]),e._v(" "),r("h3",{attrs:{id:"zweam101e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam101e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM101E")]),e._v(" "),r("p",[e._v("ΙΟ Error reading properties from: '%s' Details: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while reading the Build Info properties file.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that "),r("code",[e._v("META-INF/build-info.properties")]),e._v(" and "),r("code",[e._v("META-INF/git.properties")]),e._v(" exist and are not corrupted.")]),e._v(" "),r("h3",{attrs:{id:"zweam401e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam401e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM401E")]),e._v(" "),r("p",[e._v("Error in HTTPS configuration: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An Unknown error occurred while setting up an HTTP client during service initialization followed by a system exit.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Start the service again in debug mode to get a more descriptive message. This error indicates it is not a configuration issue.")]),e._v(" "),r("h3",{attrs:{id:"zweam600w"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam600w","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM600W")]),e._v(" "),r("p",[e._v("Invalid parameter in metadata: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An invalid apiInfo parameter was found while parsing the service metadata.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Remove or fix the referenced metadata parameter.")]),e._v(" "),r("h3",{attrs:{id:"zweam500w"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam500w","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM500W")]),e._v(" "),r("p",[e._v("The service is not verifying the TLS/SSL certificates of the services")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("This is a warning that the SSL Context will be created without verifying certificates.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("If this was not an intentional use, stop the service and set the "),r("code",[e._v("verifySslCertificatesOfServices")]),e._v(" parameter to "),r("code",[e._v("true")]),e._v(". Then restart the service.")]),e._v(" "),r("h3",{attrs:{id:"zweam400e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam400e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM400E")]),e._v(" "),r("p",[e._v("Error initializing HTTP client: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while initializing the HTTP Client. The "),r("code",[e._v("sslContextBuilder")]),e._v(" was disrupted either when trusting the connection or while building the secure socket protocol implementation.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Contact support for assistance.")]),e._v(" "),r("h3",{attrs:{id:"zweam501w"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam501w","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM501W")]),e._v(" "),r("p",[e._v("Service is configured to use insecure HTTP protocol. For production use, please switch to HTTPS instead.")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("This service is registered to Discovery service with an unsecure HTTP protocol.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("If you are in production, restart your service with the "),r("code",[e._v("verifySslCertificatesOfServices")]),e._v(" parameter set to "),r("code",[e._v("true")]),e._v(" and have your service use SSL certification.")]),e._v(" "),r("h3",{attrs:{id:"zweam502e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam502e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM502E")]),e._v(" "),r("p",[e._v("Error reading secret key: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while reading the secret key from keystore or keyring. The key loads but could not be encoded in base64 format.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the specified key is in the right format and is not corrupt.")]),e._v(" "),r("h3",{attrs:{id:"zweam503e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam503e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM503E")]),e._v(" "),r("p",[e._v("Error loading secret key: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while loading the secret key from the keystore or keyring")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure the key exists and the passwords, paths, and aliases are correct.")]),e._v(" "),r("h3",{attrs:{id:"zweam504e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam504e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM504E")]),e._v(" "),r("p",[e._v("Error loading public key: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while loading the public key from keystore or keyring.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure the key and keystore exist and the paths and aliases are correct.")]),e._v(" "),r("h3",{attrs:{id:"zweam601e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam601e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM601E")]),e._v(" "),r("p",[e._v("z/OSMF service name not found. Set the parameter "),r("code",[e._v("apiml.security.auth.zosmfServiceId")]),e._v(" to your service name.")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("The parameter "),r("code",[e._v("zosmfserviceId")]),e._v(" was not configured correctly and could not be validated.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the parameter "),r("code",[e._v("apiml.security.auth.zosmfServiceId")]),e._v(" is correctly entered with a valid zosmf instance URL.")]),e._v(" "),r("h3",{attrs:{id:"zweam505e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam505e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM505E")]),e._v(" "),r("p",[e._v("Error initializing SSL/TLS context: '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("An error occurred while trying to initialize the context for an SSL connection regarding the truststore.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Check that your truststore is correct. If no problems are determined in the truststore, contact support.")]),e._v(" "),r("h3",{attrs:{id:"zweam506e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam506e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM506E")]),e._v(" "),r("p",[e._v("Truststore Password configuration parameter is not defined")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("Your truststore password was not set in the configuration.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the parameter "),r("code",[e._v("server.ssl.trustStorePassword")]),e._v(" in the properties or yaml file contains the correct password for your truststore.")]),e._v(" "),r("h3",{attrs:{id:"zweam507e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam507e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM507E")]),e._v(" "),r("p",[e._v("Truststore configuration parameter is not defined but it is required")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("The truststore usage is set as mandatory, but the truststore location was not provided.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("If you need a truststore, edit the "),r("code",[e._v("server.ssl.truststore")]),e._v(", "),r("code",[e._v("server.ssl.truststorePassword")]),e._v(" and "),r("code",[e._v("server.ssl.truststoreType")]),e._v(" parameters with valid data.\nIf you do not require a truststore, change the "),r("code",[e._v("trustStoreRequired")]),e._v(" boolean parameter to "),r("code",[e._v("false")]),e._v(".")]),e._v(" "),r("h3",{attrs:{id:"zweam508e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam508e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM508E")]),e._v(" "),r("p",[e._v("Keystore not found, server.ssl.keyStore configuration parameter is not defined")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("Your keystore path was not set in the configuration.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the correct path to your keystore is contained in the parameter "),r("code",[e._v("server.ssl.keyStore")]),e._v(" in the properties or yaml file of your service.")]),e._v(" "),r("h3",{attrs:{id:"zweam509e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam509e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM509E")]),e._v(" "),r("p",[e._v("Keystore password not found, server.ssl.keyStorePassword configuration parameter is not defined")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("Your keystore password was not set in the configuration.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the correct password to your keystore in the parameter "),r("code",[e._v("server.ssl.keyStorePassword")]),e._v(" is contained in the properties or yaml file of your service.")]),e._v(" "),r("h3",{attrs:{id:"zweam510e"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#zweam510e","aria-hidden":"true"}},[e._v("#")]),e._v(" ZWEAM510E")]),e._v(" "),r("p",[e._v("Invalid key alias '%s'")]),e._v(" "),r("p",[r("strong",[e._v("Reason:")])]),e._v(" "),r("p",[e._v("The key alias you provided was not found.")]),e._v(" "),r("p",[r("strong",[e._v("Action:")])]),e._v(" "),r("p",[e._v("Ensure that the key alias provided for the key exists in the provided keystore.")]),e._v(" "),r("h2",{attrs:{id:"enable-api-ml-debug-mode"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#enable-api-ml-debug-mode","aria-hidden":"true"}},[e._v("#")]),e._v(" Enable API ML Debug Mode")]),e._v(" "),r("p",[e._v("Use debug mode to activate the following functions:")]),e._v(" "),r("ul",[r("li",[e._v("Display additional debug messages for API ML")]),e._v(" "),r("li",[e._v("Enable changing log level for individual code components")])]),e._v(" "),r("p",[r("strong",[e._v("Important:")]),e._v(" We highly recommend that you enable debug mode only when you want to troubleshoot issues.\nDisable debug mode when you are not troubleshooting. Running in debug mode while operating API ML can adversely affect\nits performance and create large log files that consume a large volume of disk space.")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Locate the following shell script files in the "),r("code",[e._v("<Zowe install directory>/api-mediation/scripts")]),e._v(" directory:")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("api-mediation-start-catalog.sh")])]),e._v(" "),r("li",[r("code",[e._v("api-mediation-start-discovery.sh")])]),e._v(" "),r("li",[r("code",[e._v("api-mediation-start-gateway.sh")])])])]),e._v(" "),r("li",[r("p",[e._v("Open a file, for which you want to enable the debug mode.")])]),e._v(" "),r("li",[r("p",[e._v("Find the line which contains the "),r("code",[e._v("LOG_LEVEL=")]),e._v(" parameter and set the value to "),r("code",[e._v("debug")]),e._v(":")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("LOG_LEVEL=debug\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Restart Zowe™.")]),e._v(" "),r("p",[e._v("You have enabled the debug mode.")])]),e._v(" "),r("li",[r("p",[e._v("(Optional) Reproduce a bug that causes issues and review debug messages. If you are unable to resolve the issue, create an issue "),r("a",{attrs:{href:"https://github.com/zowe/api-layer/issues/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Disable the debug mode. Modify the line which contains the "),r("code",[e._v("spring.profiles.include")]),e._v(" parameter back to default:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("-Dspring.profiles.include= \\\n")])])])]),e._v(" "),r("li",[r("p",[e._v("Restart Zowe.")]),e._v(" "),r("p",[e._v("You have disabled the debug mode.")])])]),e._v(" "),r("hr"),e._v(" "),r("h2",{attrs:{id:"change-the-log-level-of-individual-code-components"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#change-the-log-level-of-individual-code-components","aria-hidden":"true"}},[e._v("#")]),e._v(" Change the Log Level of Individual Code Components")]),e._v(" "),r("p",[e._v("You can change the log level of a particular code component of the API ML internal service at run time.")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Enable API ML Debug Mode as described in Enable API ML Debug Mode.\nThis activates the application/loggers endpoints in each API ML internal service (Gateway, Discovery Service, and Catalog).")])]),e._v(" "),r("li",[r("p",[e._v("List the available loggers of a service by issuing the GET request for the given service URL:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("GET scheme://hostname:port/application/loggers\n")])])]),r("p",[e._v("Where:")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("scheme")])]),e._v(" "),r("p",[e._v("API ML service scheme (http or https)")])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("hostname")])]),e._v(" "),r("p",[e._v("API ML service hostname")])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("port")])]),e._v(" "),r("p",[e._v("TCP port where API ML service listens on. The port is defined by the configuration parameter MFS_GW_PORT for the Gateway,\nMFS_DS_PORT for the Discovery Service (by default, set to gateway port + 1), and MFS_AC_PORT for the Catalog\n(by default, set to gateway port + 2).")])])]),e._v(" "),r("p",[r("strong",[e._v("Exception:")]),e._v(" For the catalog you will able to get list the available loggers by issuing the GET request for the given service URL:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("GET [gateway-scheme]://[gateway-hostname]:[gateway-port]/api/v1/apicatalog/application/loggers\n")])])]),r("p",[r("strong",[e._v("Tip:")]),e._v(" One way to issue REST calls is to use the http command in the free HTTPie tool: https://httpie.org/.")]),e._v(" "),r("p",[r("strong",[e._v("Example:")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('HTTPie command:\nhttp GET https://lpar.ca.com:10000/application/loggers\n\nOutput:\n{"levels":["OFF","ERROR","WARN","INFO","DEBUG","TRACE"],\n "loggers":{\n   "ROOT":{"configuredLevel":"INFO","effectiveLevel":"INFO"},\n   "com":{"configuredLevel":null,"effectiveLevel":"INFO"},\n   "com.ca":{"configuredLevel":null,"effectiveLevel":"INFO"},\n   ...\n }\n}\n')])])])]),e._v(" "),r("li",[r("p",[e._v("Alternatively, you extract the configuration of a specific logger using the extended "),r("strong",[e._v("GET")]),e._v(" request:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("GET scheme://hostname:port/application/loggers/{name}\n")])])]),r("p",[e._v("Where:")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("{name}")])]),e._v(" "),r("p",[e._v("is the logger name")])])])]),e._v(" "),r("li",[r("p",[e._v("Change the log level of the given component of the API ML internal service. Use the POST request for the given service URL:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("POST scheme://hostname:port/application/loggers/{name}\n")])])]),r("p",[e._v("The POST request requires a new log level parameter value that is provided in the request body:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('{\n\n"configuredLevel": "level"\n\n}\n')])])]),r("p",[e._v("Where:")]),e._v(" "),r("ul",[r("li",[r("p",[r("strong",[e._v("level")])]),e._v(" "),r("p",[e._v("is the new log level: "),r("strong",[e._v("OFF")]),e._v(", "),r("strong",[e._v("ERROR")]),e._v(", "),r("strong",[e._v("WARN")]),e._v(", "),r("strong",[e._v("INFO")]),e._v(", "),r("strong",[e._v("DEBUG")]),e._v(", "),r("strong",[e._v("TRACE")])])])]),e._v(" "),r("p",[r("strong",[e._v("Example:")])]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("http POST https://hostname:port/application/loggers/com.ca.mfaas.enable.model configuredLevel=WARN\n")])])])])]),e._v(" "),r("h2",{attrs:{id:"known-issues"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#known-issues","aria-hidden":"true"}},[e._v("#")]),e._v(" Known Issues")]),e._v(" "),r("h3",{attrs:{id:"api-ml-stops-accepting-connections-after-z-os-tcp-ip-stack-is-recycled"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#api-ml-stops-accepting-connections-after-z-os-tcp-ip-stack-is-recycled","aria-hidden":"true"}},[e._v("#")]),e._v(" API ML stops accepting connections after z/OS TCP/IP stack is recycled")]),e._v(" "),r("p",[r("strong",[e._v("Symptom:")])]),e._v(" "),r("p",[e._v("When z/OS TCP/IP stack is restarted, it is possible that the internal services of API Mediation Layer\n(Gateway, Catalog, and Discovery Service) stop accepting all incoming connections, go into a continuous loop,\nand write a numerous error messages in the log.")]),e._v(" "),r("p",[r("strong",[e._v("Sample message:")])]),e._v(" "),r("p",[e._v("The following message is a typical error message displayed in STDOUT:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("2018-Sep-12 12:17:22.850. org.apache.tomcat.util.net.NioEndpoint -- Socket accept failed java.io.IOException: EDC5122I Input/output error.\n\n.at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method) ~.na:1.8.0.\n.at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:478) ~.na:1.8.0.\n.at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:287) ~.na:1.8.0.\n.at org.apache.tomcat.util.net.NioEndpoint$Acceptor.run(NioEndpoint.java:455) ~.tomcat-coyote-8.5.29.jar!/:8.5.29.\n.at java.lang.Thread.run(Thread.java:811) .na:2.9 (12-15-2017).\n")])])]),r("p",[r("strong",[e._v("Solution:")])]),e._v(" "),r("p",[e._v("Restart API Mediation Layer.")]),e._v(" "),r("p",[r("strong",[e._v("Tip:")]),e._v("  To prevent this issue from occurring, it is strongly recommended not to restart the TCP/IP stack while API ML is running.")]),e._v(" "),r("h3",{attrs:{id:"sec0002-error-when-logging-in-to-api-catalog"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sec0002-error-when-logging-in-to-api-catalog","aria-hidden":"true"}},[e._v("#")]),e._v(" SEC0002 error when logging in to API Catalog")]),e._v(" "),r("p",[e._v("SEC0002 error typically appears when users fail to log in to API Catalog. The following image shows the API Catalog login page with the SEC0002 error.")]),e._v(" "),r("img",{attrs:{src:a(315),alt:"SEC0002 Error",title:"SEC0002 Error",width:"450",height:"350"}}),e._v(" "),r("p",[e._v("The error is caused by failed z/OSMF authentication. To determine the reason authentication failed, open the ZOWESVR joblog and look for a message that contains "),r("code",[e._v("ZosmfAuthenticationProvider")]),e._v(". The following is an example of the message that contains "),r("code",[e._v("ZosmfAuthenticationProvider")]),e._v(":")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("2019-08-05 11:25:03.431 ERROR 5 --- .0.0-7552-exec-3. c.c.m.s.l.ZosmfAuthenticationProvider    : Can not access z/OSMF service. Uri 'https://ABC12.slv.broadcom.net:1443' returned: I/O error on GET request for \"https://ABC12.slv.broadcom.net:1443/zosmf/info\": ... \n")])])]),r("p",[e._v("Check the rest of the message, and identify the cause of the problem. The following list provides the possible reasons and solutions for the z/OSMF authentication issue:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#connection-refused"}},[e._v("Connection refused")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#missing-z/osmf-host-name-in-subject-alternative-names"}},[e._v("Missing z/OSMF host name in subject alternative names")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#invalid-z/osmf-host-name-in-subject-alternative-names"}},[e._v("Invalid z/OSMF host name in subject alternative names")])])]),e._v(" "),r("h4",{attrs:{id:"connection-refused"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#connection-refused","aria-hidden":"true"}},[e._v("#")]),e._v(" Connection refused")]),e._v(" "),r("p",[e._v("In the following message, failure to connect to API Catalog occurs when connection is refused:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Connect to ABC12.slv.broadcom.net:1443 .ABC12.slv.broadcom.net/127.0.0.1. failed: EDC8128I Connection refused.; nested exception is org.apache.http.conn.HttpHostConnectException: \n")])])]),r("p",[e._v("The reason for the refused connection message is either invalid z/OSMF configuration or z/OSMF being unavailable. The preceding message indicates that z/OSMF is not on the 127.0.0.1:1443 interface.")]),e._v(" "),r("p",[r("strong",[e._v("Solution:")])]),e._v(" "),r("h4",{attrs:{id:"configure-z-osmf"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#configure-z-osmf","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure z/OSMF")]),e._v(" "),r("p",[e._v("Make sure that z/OSMF is running and is on 127.0.0.1:1443 interface, and try to log in to API Catalog again. If you get the same error message, change z/OSMF configuration.")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Locate the z/OSMF PARMLIB member IZUPRMxx.")]),e._v(" "),r("p",[e._v("For example, locate IZUPRM00 member in SYS1.PARMLIB.")])]),e._v(" "),r("li",[r("p",[e._v("Change the current "),r("code",[e._v("HOSTNAME")]),e._v(" configuration to "),r("code",[e._v("HOSTNAME('*')")]),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Change the current "),r("code",[e._v("HTTP_SSL_PORT")]),e._v(" configuration to "),r("code",[e._v("HTTP_SSL_PORT('1443')")]),e._v(".")]),e._v(" "),r("p",[r("strong",[e._v("Important!")]),e._v(" If you change the port in the z/OSMF configuration file, all your applications lose connection to z/OSMF.")])])]),e._v(" "),r("p",[e._v("For more information, see "),r("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.3.0/com.ibm.zos.v2r3.izua300/izuconfig_IZUPRMxx.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Syntax rules for IZUPRMxx"),r("OutboundLink")],1),e._v(".")]),e._v(" "),r("p",[e._v("If changing the z/OSMF configuration does not fix the issue, reconfigure Zowe.")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[e._v("Open "),r("code",[e._v(".zowe_profile")]),e._v(" in the home directory of the user who installed Zowe.")]),e._v(" "),r("li",[e._v("Modify the value of the "),r("code",[e._v("ZOWE_ZOSMF_PORT")]),e._v(" variable.")]),e._v(" "),r("li",[e._v("Reinstall Zowe.")])]),e._v(" "),r("h4",{attrs:{id:"missing-z-osmf-host-name-in-subject-alternative-names"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#missing-z-osmf-host-name-in-subject-alternative-names","aria-hidden":"true"}},[e._v("#")]),e._v(" Missing z/OSMF host name in subject alternative names")]),e._v(" "),r("p",[e._v("In following message, failure to connect to API Catalog is caused by a missing z/OSMF host name in the subject alternative names:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Certificate for <ABC12.slv.broadcom.net> doesn't match any of the subject alternative names: ..; nested exception is javax.net.ssl.SSLPeerUnverifiedException: Certificate for <ABC12.slv.broadcom.net> doesn't match any of the subject alternative names: ..\n")])])]),r("p",[r("strong",[e._v("Solutions:")])]),e._v(" "),r("p",[e._v("Fix the missing z/OSMF host name in subject alternative names using the following methods:")]),e._v(" "),r("p",[r("strong",[e._v("Note:")]),e._v(" Apply the insecure fix only if you use API Catalog for testing purposes.")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#Secure-fix"}},[e._v("Secure fix")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#insecure-fix"}},[e._v("Insecure fix")])])]),e._v(" "),r("h4",{attrs:{id:"secure-fix"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#secure-fix","aria-hidden":"true"}},[e._v("#")]),e._v(" Secure fix")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[r("p",[e._v("Obtain a valid certificate for z/OSMF and place it in the z/OSMF keyring. For more information, see "),r("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.3.0/com.ibm.zos.v2r3.izua300/izuconfig_KeyringAndCertificate.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configure the z/OSMF Keyring and Certificate"),r("OutboundLink")],1),e._v(".")])]),e._v(" "),r("li",[r("p",[e._v("Navigate to "),r("code",[e._v("$ZOWE_RUNTIME/api-mediation")]),e._v(" and run the following command:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("scripts/apiml_cm.sh --action trust-zosmf \n")])])]),r("p",[e._v("2a. (Optional) If you do not use the default z/OSMF userid (IZUSVR) and keyring (IZUKeyring.IZUDFLT), issue the following command:")]),e._v(" "),r("pre",[r("code",[e._v("scripts/apiml_cm.sh --action trust-zosmf--zosmf-userid **ZOSMF_USER** --zosmf-keyring **ZOSMF_KEYRING**\n")])]),e._v(" "),r("p",[e._v("where;")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("--zosmf-keyring")]),e._v(" and "),r("code",[e._v("--zosmf-userid")]),e._v(" - options that override the default userid and keyring accordingly.")])])])]),e._v(" "),r("h4",{attrs:{id:"insecure-fix"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#insecure-fix","aria-hidden":"true"}},[e._v("#")]),e._v(" Insecure fix")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[e._v("Set the value of the "),r("code",[e._v("verifyCertificatesOfServices")]),e._v(" property to "),r("code",[e._v("false")]),e._v(" in "),r("code",[e._v("zowe-install.yaml")]),e._v(" to disable verification of certificates in Zowe.")]),e._v(" "),r("li",[e._v("Reinstall Zowe.")])]),e._v(" "),r("h4",{attrs:{id:"invalid-z-osmf-host-name-in-subject-alternative-names"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#invalid-z-osmf-host-name-in-subject-alternative-names","aria-hidden":"true"}},[e._v("#")]),e._v(" Invalid z/OSMF host name in subject alternative names")]),e._v(" "),r("p",[e._v("In the following message, failure to connect to API Catalog is caused by an invalid z/OSMF host name in the subject alternative names:")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("Certificate for <ABC12.slv.broadcom.net> doesn't match any of the subject alternative names: [abc12.ca.com, abc12, localhost, abc12-slck, abc12-slck.ca.com, abc12-slck1, abc12-slck1.ca.com, abc12-slck2, abc12-slck2.ca.com, usilabc12, usilabc12.ca.com]; \nnested exception is javax.net.ssl.SSLPeerUnverifiedException: Certificate for <ABC12.slv.broadcom.net> doesn't match any of the subject alternative names: [abc12.ca.com, abc12, localhost, abc12-slck, abc12-slck.ca.com, abc12-slck1, abc12-slck1.ca.com, abc12-slck2, abc12-slck2.ca.com, usilabc12, usilabc12.ca.com]\n")])])]),r("p",[r("strong",[e._v("Solutions:")])]),e._v(" "),r("p",[e._v("Fix the invalid z/OSMF host name in the subject alternative names using the following methods:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#request-a-new-certificate"}},[e._v("Request a new certificate")])]),e._v(" "),r("li",[r("a",{attrs:{href:"#change-the-zowe_explorer_host-variable"}},[e._v("Change the ZOWE_EXPLORER_HOST variable")])])]),e._v(" "),r("h4",{attrs:{id:"request-a-new-certificate"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#request-a-new-certificate","aria-hidden":"true"}},[e._v("#")]),e._v(" Request a new certificate")]),e._v(" "),r("p",[e._v("Request a new certificate that contains a valid z/OSMF host name in the subject alternative names.")]),e._v(" "),r("h4",{attrs:{id:"change-the-zowe-explorer-host-variable"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#change-the-zowe-explorer-host-variable","aria-hidden":"true"}},[e._v("#")]),e._v(" Change the ZOWE_EXPLORER_HOST variable")]),e._v(" "),r("p",[e._v("Change "),r("code",[e._v("ZOWE_EXPLORER_HOST")]),e._v(" variable to fix the issue.")]),e._v(" "),r("p",[r("strong",[e._v("Follow these steps:")])]),e._v(" "),r("ol",[r("li",[e._v("Open .zowe_profile in the home directory of the user who installed Zowe.")]),e._v(" "),r("li",[e._v("Change  "),r("code",[e._v("ZOWE_EXPLORER_HOST")]),e._v(" to a host name from the subject alternative names of the z/OSMF certificate. For example, issue the following command:"),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("export ZOWE_EXPLORER_HOST=SAN (change this to the correct one > in the code block).\n")])])])]),e._v(" "),r("li",[e._v("Reinstall Zowe.")])])])},[],!1,null,null,null);t.default=s.exports}}]);