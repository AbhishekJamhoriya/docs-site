(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{393:function(t,e,a){"use strict";a.r(e);var s=a(3),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"onboarding-a-rest-api-service-with-the-plain-java-enabler-pje"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onboarding-a-rest-api-service-with-the-plain-java-enabler-pje"}},[t._v("#")]),t._v(" Onboarding a REST API service with the Plain Java Enabler (PJE)")]),t._v(" "),a("p",[t._v("This article is part of a series of onboarding guides, which outline the process of onboarding REST API services to the Zowe API Mediation Layer (API ML). As a service developer, you can onboard a REST service with the API ML with the Zowe API Mediation Layer using our Plain Java Eabler ("),a("em",[t._v("PJE")]),t._v("). This enabler is built without a dependency on Spring Cloud, Spring Boot, or SpringFramework.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" For more information about onboarding API services with the API ML, see the "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-overview.html"}},[t._v("Onboarding Overview")]),t._v(".")],1),t._v(" "),a("h2",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("p",[t._v("Zowe API ML is a lightweight API management system based on the following Netflix components:")]),t._v(" "),a("ul",[a("li",[t._v("Eureka - a discovery service used for services registration and discovery")]),t._v(" "),a("li",[t._v("Zuul - reverse proxy / API Gateway")]),t._v(" "),a("li",[t._v("Ribbon - load ballancer")])]),t._v(" "),a("p",[t._v("The API ML Discovery Service component uses Netflix/Eureka as a REST services registry.\nEureka endpoints are used to register a service with the API ML Discovery Service.")]),t._v(" "),a("p",[t._v("The API ML provides onboarding enabler libraries. Using these libraries is the recommended approach to onboard a REST service with the API ML. While it is possible to call the Eureka registration endpoint directly, this approach requires preparing corresponding configuration data. Doing so is unnecessarily complex and time-consuming.")]),t._v(" "),a("p",[t._v("Additionally, while the "),a("em",[t._v("PJE")]),t._v(" library can be used in REST API projects based on SpringFramework or the Spring Boot framework, it is not recommended to use this enabler in projects that depend on SpringCloud Netflix components. Configuration settings in the "),a("em",[t._v("PJE")]),t._v(" and SpringCloud Eureka Client are different. Using the two configuration settings in combination makes the result state of the discovery registry unpredictable.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" For more information about how to utilize another API ML enabler, see:")]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-a-spring-boot-rest-api-service.html"}},[t._v("Onboard a Spring Boot REST API service")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-rest-service-direct-eureka-call.html"}},[t._v("Onboard a REST service directly calling eureka with xml configuration")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-an-existing-rest-api-service-without-code-changes.html"}},[t._v("Onboard an existing REST API service without code changes")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-an-existing-java-rest-api-service-without-spring-boot-with-zowe-api-mediation-layer.html"}},[t._v("Java REST APIs service without Spring Boot")])],1)]),t._v(" "),a("h2",{attrs:{id:"onboarding-your-rest-service-with-api-ml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onboarding-your-rest-service-with-api-ml"}},[t._v("#")]),t._v(" Onboarding your REST service with API ML")]),t._v(" "),a("p",[t._v("The following steps outline the overall process to onboard a REST service with the API ML using the "),a("em",[t._v("PJE")]),t._v(". Each step is described in further detail in this article.")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"#prerequisites"}},[t._v("Prerequisites")])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#configuring-your-project"}},[t._v("Configuring your project")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#gradle-guide"}},[t._v("Gradle guide")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#maven-guide"}},[t._v("Maven guide")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#configuring-your-service"}},[t._v("Configuring your service")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#rest-service-identification"}},[t._v("REST service identification")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#administrative-endponts"}},[t._v("Administrative endponts")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-info"}},[t._v("API info")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api=routing-information"}},[t._v("API routing information")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-catalog-information"}},[t._v("API Catalog information")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-security"}},[t._v("API Security")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#eureka-discovery-service"}},[t._v("Eureka Discovery Service")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#registering-your-service-with-api-ml"}},[t._v("Registering your service with API ML")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#add-a-web-application-context-listener-class"}},[t._v("Add a web application context listener class")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#register-a-web-application-context-listener"}},[t._v("Register a web application context listener")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#load-service-configuration"}},[t._v("Load service configuration")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#initialize-eureka-client"}},[t._v("Initialize Eureka Client")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#register-with-eureka-discovery-service"}},[t._v("Register with Eureka Discovery Service")])])])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"#adding-api-documentation"}},[t._v("Adding API documentation")])])]),t._v(" "),a("li",[a("p",[t._v("(Optional) "),a("a",{attrs:{href:"#validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[t._v("Validating your API service discoverability")])])])]),t._v(" "),a("h2",{attrs:{id:"prerequisites"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),a("p",[t._v("Ensure that the following prerequisites are met before you begin to use the "),a("em",[t._v("PJE")]),t._v(" to onboard your REST service with the API ML:")]),t._v(" "),a("ul",[a("li",[t._v("Your REST API service is written in Java.")]),t._v(" "),a("li",[t._v("The service is enabled to communicate with API ML Discovery Service over a TLS v1.2 secured connection.")])]),t._v(" "),a("p",[a("strong",[t._v("Notes:")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("This documentation is valid for "),a("code",[t._v("ZoweApimlVersion 1.2.0")]),t._v(" and higher. We recommend that you check the Giza Artifactory for newer versions.")])]),t._v(" "),a("li",[a("p",[t._v("Following this guide enables REST services to be deployed on a z/OS environment. Deployment to a z/OS environment, however, is not required. As such, you can first develop on a local machine before you deploy on z/OS.")])])]),t._v(" "),a("h2",{attrs:{id:"configuring-your-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-your-project"}},[t._v("#")]),t._v(" Configuring your project")]),t._v(" "),a("p",[t._v("Use either "),a("em",[t._v("Gradle")]),t._v(" or "),a("em",[t._v("Maven")]),t._v(" build automation systems to configure your project. Use the appropriate configuration procedure corresponding to your build automation system.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" You can use either the Giza Artifactory or an Artifactory of your choice. However, if you decide to build the API ML from source, you are required to publish the enabler artifact to your Artifactory. Publish the enabler artifact by using the provided "),a("em",[t._v("Gradle")]),t._v(" tasks provided in the source code.")]),t._v(" "),a("h3",{attrs:{id:"gradle-build-automation-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gradle-build-automation-system"}},[t._v("#")]),t._v(" Gradle build automation system")]),t._v(" "),a("p",[t._v("Use the following procedure to use "),a("em",[t._v("Gradle")]),t._v(" as your build automation system.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Create a "),a("code",[t._v("gradle.properties")]),t._v(" file in the root of your project if one does not already exist.")])]),t._v(" "),a("li",[a("p",[t._v("In the "),a("code",[t._v("gradle.properties")]),t._v(" file, set the URL of the specific Artifactory containing the "),a("em",[t._v("PJE")]),t._v(" artifact. Provide the corresponding credentials to gain access to the Maven repository.")]),t._v(" "),a("p",[t._v("If you are using the Giza Artifactory, use the credentials in the following code block:")]),t._v(" "),a("div",{staticClass:"language-ini extra-class"},[a("pre",{pre:!0,attrs:{class:"language-ini"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Repository URL for getting the enabler-java artifact")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("artifactoryMavenRepo")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("https://gizaartifactory.jfrog.io/gizaartifactory/libs-release")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Artifactory credentials for builds:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mavenUser")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("apilayer-build")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("mavenPassword")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("lHj7sjJmAxL5k7obuf80Of+tCLQYZPMVpDob5oJG1NI=")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Add the following "),a("em",[t._v("Gradle")]),t._v(" code block to the "),a("code",[t._v("repositories")]),t._v(" section of your "),a("code",[t._v("build.gradle")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("repositories {\n    ...\n\n    maven {\n        url artifactoryMavenRepo\n        credentials {\n            username mavenUser\n            password mavenPassword\n        }\n    }\n}\n")])])])]),t._v(" "),a("li",[a("p",[t._v("In the same "),a("code",[t._v("build.gradle")]),t._v(" file, add the necessary dependencies for your service. If you use the Java enabler from the Giza Artifactory, add the following code block to your "),a("code",[t._v("build.gradle")]),t._v(" script:")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('implementation "org.zowe.apiml.sdk:mfaas-integration-enabler-java:$zoweApimlVersion"\nimplementation "org.zowe.apiml.sdk:common-service-core:$zoweApimlVersion"\n')])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" The published artifact from the Giza Artifactory also contains the enabler dependencies from other software packages. If you are using an Artifactory other than Giza, manually provide the following dependencies in your service "),a("code",[t._v("build.gradle")]),t._v(" script:")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('implementation "org.zowe.apiml.sdk:mfaas-integration-enabler-java:$zoweApimlVersion"\nimplementation "org.zowe.apiml.sdk:common-service-core:$zoweApimlVersion"\nimplementation libraries.eureka_client\nimplementation libraries.httpcore\nimplementation libraries.jackson_databind\nimplementation libraries.jackson_dataformat_yaml\n\nprovidedCompile libraries.javax_servlet_api\ncompileOnly libraries.lombok\n')])])]),a("p",[a("strong",[t._v("Notes:")])]),t._v(" "),a("ul",[a("li",[t._v("You may need to add more dependencies as required by your service implementation.")]),t._v(" "),a("li",[t._v("The information provided in this file is valid for "),a("code",[t._v("ZoweApimlVersion 1.1.12")]),t._v(" and above.")])])]),t._v(" "),a("li",[a("p",[t._v("In your project home directory, run the "),a("code",[t._v("gradle clean build")]),t._v(" command to build your project. Alternatively, you can run "),a("code",[t._v("gradlew")]),t._v(" to use the specific gradle version that is working with your project.")])])]),t._v(" "),a("h3",{attrs:{id:"maven-build-automation-system"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven-build-automation-system"}},[t._v("#")]),t._v(" Maven build automation system")]),t._v(" "),a("p",[t._v("Use the following procedure if you use "),a("em",[t._v("Maven")]),t._v(" as your build automation system.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Add the following "),a("em",[t._v("XML")]),t._v(" tags within the newly created "),a("code",[t._v("pom.xml")]),t._v(" file:")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repositories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repository")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://gizaartifactory.jfrog.io/gizaartifactory/libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("snapshots")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("snapshots")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repository")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repositories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Create a "),a("code",[t._v("settings.xml")]),t._v(" file and copy the following "),a("em",[t._v("XML")]),t._v(" code block that defines the credentials for the Artifactory:")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("settings")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/SETTINGS/1.0.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/SETTINGS/1.0.0\n                  https://maven.apache.org/xsd/settings-1.0.0.xsd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("servers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("libs-release"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("apilayer-build"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n         "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("lHj7sjJmAxL5k7obuf80Of+tCLQYZPMVpDob5oJG1NI="),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("servers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("settings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("Tip:")]),t._v(" If you want to use "),a("em",[t._v("snapshot")]),t._v(" version, set the "),a("code",[t._v("/servers/server/id")]),t._v(" to "),a("code",[t._v("libs-snapshot")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("Copy the "),a("code",[t._v("settings.xml")]),t._v(" file inside the "),a("code",[t._v("${user.home}/.m2/")]),t._v(" directory.")])]),t._v(" "),a("li",[a("p",[t._v("In the directory of your project, run the "),a("code",[t._v("mvn package")]),t._v(" command to build the project.")])])]),t._v(" "),a("h2",{attrs:{id:"configuring-your-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-your-service"}},[t._v("#")]),t._v(" Configuring your service")]),t._v(" "),a("p",[t._v("Provide default service configuration in the "),a("code",[t._v("service-configuration.yml")]),t._v(" file located in your service source tree resources directory.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" To externalize service onboarding configuration, see: "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-plain-java-enabler-external-configuration.html"}},[t._v("Externalizing onboarding configuration")]),t._v(".")],1),t._v(" "),a("p",[t._v("The following code snippet shows an example of "),a("code",[t._v("service-configuration.yml")]),t._v(". Some parameters values which are specific for your service deployment\nare written in "),a("code",[t._v("#{parameterValue}")]),t._v(" format. For your service configuration file, provide actual values or externalize your onboarding configuration.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sampleservice\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Hello API ML\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sample API ML REST Service\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("baseUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("samplehost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sampleport"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sampleservice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceIpAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sampleHostIpAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("homePageRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /application/home\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("statusPageRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /application/info\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("healthCheckRelativeUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /application/health\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("discoveryServiceUrls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("discoveryServiceHost1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("discoveryServicePort1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/eureka\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("discoveryServiceHost2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("discoveryServicePort2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/eureka\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("routes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api/v1\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /sampleservice/api/v1\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.zowe.sampleservice\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" api/v1\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("swaggerUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sampleServiceSwaggerHost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sampleServiceSwaggerPort"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/sampleservice/api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("doc\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("doumentationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("catalog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" sampleservice\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Hello API ML\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sample application to demonstrate exposing a REST API in the ZOWE API ML\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.0.0\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ssl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("verifySslCertificatesOfServices")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TLSv1.2\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ciphers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" TLS_RSA_WITH_AES_128_CBC_SHA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TLS_DHE_RSA_WITH_AES_256_CBC_SHA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyAlias")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" localhost\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyPassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keystore/localhost.keystore.p12\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStoreType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PKCS12\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyStorePassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keystore/localhost.truststore.p12\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStoreType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PKCS12\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trustStorePassword")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" password\n")])])]),a("p",[t._v("The onboarding configuration parameters are broken down into the following groups:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#rest-service-identification"}},[t._v("REST service identification")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#administrative-endpoints"}},[t._v("Administrative endpoints")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-info"}},[t._v("API info")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-routing-information"}},[t._v("API routing information")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-catalog-information"}},[t._v("API catalog information")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#api-security"}},[t._v("API security")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#eureka-discovery-service"}},[t._v("Eureka Discovery Service")])])]),t._v(" "),a("h3",{attrs:{id:"rest-service-identification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest-service-identification"}},[t._v("#")]),t._v(" REST service identification")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("serviceId")])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("serviceId")]),t._v(" uniquely identifies one or more instance of a microservice in the API ML and is used as part of the service URL path in the API ML gateway address space.\nAdditionally, the API ML Gateway uses the "),a("code",[t._v("serviceId")]),t._v(" for routing to the API service instances.\nWhen two API services use the same "),a("code",[t._v("serviceId")]),t._v(", the API Gateway considers the services as clones of each other.\nAn incoming API request can be routed to either of them through utilized load balancing mechanism.")]),t._v(" "),a("p",[a("strong",[t._v("Important!")]),t._v("  Ensure that the "),a("code",[t._v("serviceId")]),t._v(" is set properly with the following considerations:")]),t._v(" "),a("ul",[a("li",[t._v("The same "),a("code",[t._v("servicedId")]),t._v(" should only be set for multiple API service instances for API scalability.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("servicedId")]),t._v(" value must only contain lowercase alphanumeric characters.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("servicedId")]),t._v(" cannot contain more than 40 characters.")])]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("If the "),a("code",[t._v("serviceId")]),t._v(" is "),a("code",[t._v("sampleservice")]),t._v(", the service URL in the API ML Gateway address space appears as the following path:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://gateway-host:gateway-port/api/v1/sampleservice/...\n")])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("title")])]),t._v(" "),a("p",[t._v("This parameter specifies the human readable name of the API service instance. This value is displayed in the API Catalog when a specific API service instance is selected.\nThis parameter can be externalized and set by the customer system administrator.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" We recommend that service developer provides a default value of the "),a("code",[t._v("title")]),t._v(". Use a title that describes the service instance so that the end user knows the specific purpose of the service instance.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("description")])]),t._v(" "),a("p",[t._v("This parameter is a short description of the API service. This value is displayed in the API Catalog when a specific API service instance is selected. This parameter can be externalized and set by the customer system administrator.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" Describe the service so that the end user understands the function of the service.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("baseUrl")])]),t._v(" "),a("p",[t._v("This parameter specifies the base URL for the following administrative endpoints:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("homePageRelativeUrl")])]),t._v(" "),a("li",[a("strong",[t._v("statusPageRelativeUrl")])]),t._v(" "),a("li",[a("strong",[t._v("healthCheckRelativeUrl")])])]),t._v(" "),a("p",[t._v("Use the following format to include your service name in the URL path:")]),t._v(" "),a("p",[a("code",[t._v("protocol://host:port/servicename")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("serviceIpAddress")]),t._v(" (Optional)")]),t._v(" "),a("p",[t._v("This parameter specifies the IP address of the service and can be provided by system administrator in externalized service configuration.\nIf this parameter is not present in the configuration file or is not set as a service context parameter, it will be resolved from the hostname part of the "),a("code",[t._v("baseUrl")]),t._v(".")])])]),t._v(" "),a("h3",{attrs:{id:"administrative-endpoints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#administrative-endpoints"}},[t._v("#")]),t._v(" Administrative endpoints")]),t._v(" "),a("p",[t._v("The following snippet presents the format of the administrative endpoint properties:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("homePageRelativeUrl:\nstatusPageRelativeUrl: /application/info\nhealthCheckRelativeUrl: /application/health\n")])])]),a("p",[t._v("where:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("homePageRelativeUrl")])]),t._v(" "),a("p",[t._v("specifies the relative path to the home page of your service. The path should start with "),a("code",[t._v("/")]),t._v(".\nIf your service has no home page, leave this parameter blank.")]),t._v(" "),a("p",[a("strong",[t._v("Examples:")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("homePageRelativeUrl:")]),t._v(" This service has no home page")]),t._v(" "),a("li",[a("code",[t._v("homePageRelativeUrl: /")]),t._v(" This service has a home page with URL "),a("code",[t._v("${baseUrl}/")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("statusPageRelativeUrl")])]),t._v(" "),a("p",[t._v("specifies the relative path to the status page of your service.")]),t._v(" "),a("p",[t._v("Start this path with "),a("code",[t._v("/")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("p",[a("code",[t._v("statusPageRelativeUrl: /application/info")])]),t._v(" "),a("p",[t._v("This results in the URL:\n"),a("code",[t._v("${baseUrl}/application/info")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("healthCheckRelativeUrl")])]),t._v(" "),a("p",[t._v("specifies the relative path to the health check endpoint of your service.")]),t._v(" "),a("p",[t._v("Start this URL with "),a("code",[t._v("/")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("p",[a("code",[t._v("healthCheckRelativeUrl: /application/health")])]),t._v(" "),a("p",[t._v("This results in the URL:\n"),a("code",[t._v("${baseUrl}/application/health")])])])]),t._v(" "),a("h3",{attrs:{id:"api-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-info"}},[t._v("#")]),t._v(" API info")]),t._v(" "),a("p",[t._v("REST services can provide multiple APIs. Add API info parameters for each API that your service wants to expose on the API ML.")]),t._v(" "),a("p",[t._v("The following snippet presents the information properties of a single API:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("apiInfo:\n    - apiId: org.zowe.sampleservice\n    version: v1\n    gatewayUrl: api/v1\n    swaggerUrl: http://localhost:10021/sampleservice/api-doc\n    documentationUrl: http://your.service.documentation.url\n")])])]),a("p",[t._v("where:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("apiInfo.apiId")])]),t._v(" "),a("p",[t._v("specifies the API identifier that is registered in the API ML installation.\nThe API ID uniquely identifies the API in the API ML.\nThe "),a("code",[t._v("apiId")]),t._v(" can be used to locate the same APIs that are provided by different service instances. The API developer defines this ID.\nThe "),a("code",[t._v("apiId")]),t._v(" must be a string of up to 64 characters\nthat uses lowercase alphanumeric characters and a dot: "),a("code",[t._v(".")]),t._v(" .")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("apiInfo.version")])]),t._v(" "),a("p",[t._v("specifies the api "),a("code",[t._v("version")]),t._v(". This parameter is used to correctly retrieve the API documentation according to requested version of the API.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("apiInfo.gatewayUrl")])]),t._v(" "),a("p",[t._v("specifies the base path at the API Gateway where the API is available.\nEnsure that this value is the same path as the "),a("code",[t._v("gatewayUrl")]),t._v(" value in the "),a("code",[t._v("routes")]),t._v(" sections that apply to this API.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("apiInfo.swaggerUrl")]),t._v(" (Optional)")]),t._v(" "),a("p",[t._v("specifies the Http or Https address where the Swagger JSON document is available.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("apiInfo.documentationUrl")]),t._v(" (Optional)")]),t._v(" "),a("p",[t._v("specifies the link to the external documentation. A link to the external documentation can be included along with the Swagger documentation.")])])]),t._v(" "),a("h3",{attrs:{id:"api-routing-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-routing-information"}},[t._v("#")]),t._v(" API routing information")]),t._v(" "),a("p",[t._v("The API routing group provides the required routing information used by the API ML Gateway when routing incoming requests to the corresponding REST API service.\nA single route can be used to direct REST calls to multiple resources or API endpoints. The route definition provides rules used by the API ML Gateway to rewrite the URL\nin the Gateway address space. Currently, the routing information consists of two parameters per route: The "),a("code",[t._v("gatewayUrl")]),t._v(" and "),a("code",[t._v("serviceUrl")]),t._v(". These two parameters together specify a rule for how the API service endpoints are mapped to the API Gateway endpoints.")]),t._v(" "),a("p",[t._v("The following snippet is an example of the API routing information properties.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("routes:\n    - gatewayUrl: api\n    serviceUrl: /sampleservice\n    - gatewayUrl: api/v1\n    serviceUrl: /sampleservice/api/v1\n    - gatewayUrl: api/v1/api-doc\n    serviceUrl: /sampleservice/api-doc\n")])])]),a("p",[t._v("where:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("routes")])]),t._v(" "),a("p",[t._v("specifies the container element for the routes.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("routes.gatewayUrl")])]),t._v(" "),a("p",[t._v("The gatewayUrl parameter specifies the portion of the gateway URL which is replaced by the serviceUrl path part.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("routes.serviceUrl")])]),t._v(" "),a("p",[t._v("The serviceUrl parameter provides a portion of the service instance URL path which replaces the gatewayUrl part.")])])]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" The routes configuration contains a prefix before the "),a("code",[t._v("gatewayUrl")]),t._v(" and "),a("code",[t._v("serviceUrl")]),t._v(".\nThis prefix is used to differentiate the routes. It is automatically calculated by the API ML enabler.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" For more information about API ML routing, see: "),a("a",{attrs:{href:"https://github.com/zowe/api-layer/wiki/API-Gateway-Routing",target:"_blank",rel:"noopener noreferrer"}},[t._v("API Gateway Routing"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"api-catalog-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-catalog-information"}},[t._v("#")]),t._v(" API Catalog information")]),t._v(" "),a("p",[t._v("The API ML Catalog UI displays information about discoverable REST services registered with the API ML Discovery Service.\nInformation displayed in the Catalog is defined by the metadata provided by your service during registration.\nThe Catalog groups correlated services in the same tile, if these services are configured with the same "),a("code",[t._v("catalog.tile.id")]),t._v(" metadata parameter.")]),t._v(" "),a("p",[t._v("The following code block is an example of configuration of a service tile in the Catalog:")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("   catalog:\n     tile:\n       id: apimediationlayer\n       title:  API Mediation Layer API\n       description: The API Mediation Layer for z/OS internal API services.\n       version: 1.0.0\n")])])]),a("p",[t._v("where:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("catalog.tile.id")])]),t._v(" "),a("p",[t._v("specifies the unique identifier for the product family of API services.\nThis is a value used by the API ML to group multiple API services into a single tile.\nEach unique identifier represents a single API dashboard tile in the Catalog.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v("  Specify a value that does not interfere with API services from other products. We recommend that you use your company and product name as part of the ID.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("catalog.tile.title")])]),t._v(" "),a("p",[t._v("specifies the title of the product family of the API service. This value is displayed in the API Catalog dashboard as the tile title.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("catalog.tile.description")])]),t._v(" "),a("p",[t._v("is the detailed description of the API services product family. This value is displayed in the API Catalog UI dashboard as the tile description.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("catalog.tile.version")])]),t._v(" "),a("p",[t._v("specifies the semantic version of this API Catalog tile.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" Ensure that you increase the version number when you introduce changes to the API service product family details.")])])]),t._v(" "),a("h3",{attrs:{id:"api-security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-security"}},[t._v("#")]),t._v(" API Security")]),t._v(" "),a("p",[t._v("REST services onboarded with the API ML act as both a client and a server. When communicating to API ML Discovery service, a REST service acts as a client. When the API ML Gateway is routing requests to a service, the REST service acts as a server.\nThese two roles have different requirements.\nThe Zowe API ML Discovery Service communicates with its clients in secure Https mode. As such, TLS/SSL configuration setup is required when a service is acting as a server. In this case, the system administrator decides if the service will communicate with its clients securely or not.")]),t._v(" "),a("p",[t._v("Client services need to configure several TLS/SSL parameters in order to communicate with the API ML Discovery service.\nWhen an enabler is used to onboard a service, the configuration is provided in the "),a("code",[t._v("ssl")]),t._v(" section/group in the same "),a("em",[t._v("YAML")]),t._v(" file that is used to configure the Eureka paramaters and the service metadata.")]),t._v(" "),a("p",[t._v("For more information about API ML security see: "),a("router-link",{attrs:{to:"/extend/extend-apiml/api-mediation-onboard-an-existing-java-rest-api-service_plain-java-enabler.html#api-mediation-security.html"}},[t._v("API ML security")])],1),t._v(" "),a("p",[t._v("TLS/SSL configuration consists of the following parameters:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("verifySslCertificatesOfServices")])]),t._v(" "),a("p",[t._v("This parameter makes it possible to prevent server certificate validation.")]),t._v(" "),a("p",[a("strong",[t._v("Important!")]),t._v(" Ensure that this parameter is set to "),a("code",[t._v("true")]),t._v(" in production environments. Setting this parameter to "),a("code",[t._v("false")]),t._v(" in production environemnts significantly degrades the overall security of the system.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("protocol")])]),t._v(" "),a("p",[t._v("This parameter specifies the TLS protocol version currently used by Zowe API ML Discovery Service.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" We recommend you use "),a("code",[t._v("TLSv1.2")]),t._v(" as your security protocol")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("keyAlias")])]),t._v(" "),a("p",[t._v("This parameter specifies the "),a("code",[t._v("alias")]),t._v(" used to address the private key in the keystore.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("keyPassword")])]),t._v(" "),a("p",[t._v("This parameter specifies the password associated with the private key.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("keyStore")])]),t._v(" "),a("p",[t._v("This parameter specifies the keystore file used to store the private key.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("keyStorePassword")])]),t._v(" "),a("p",[t._v("This parameter specifies the password used to unlock the keystore.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("keyStoreType")])]),t._v(" "),a("p",[t._v("This parameter specifies the type of the keystore.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("trustStore")])]),t._v(" "),a("p",[t._v("This parameter specifies the truststore file used to keep other parties public keys and certificates.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("trustStorePassword: password")])]),t._v(" "),a("p",[t._v("This parameter specifies the password used to unlock the truststore.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("trustStoreType: PKCS12")])]),t._v(" "),a("p",[t._v("This parameter specifies the truststore type. The default for this parameter is PKCS12.")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("ciphers:")]),t._v(" (Optional)")]),t._v(" "),a("p",[t._v("This parameter specifies the recommended ciphers.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA,TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n")])])]),a("p",[t._v("To secure the transfer of data, TLS/SSL uses one or more cipher suites. A cipher suite is a combination of authentication, encryption, and message authentication code (MAC) algorithms. CIphers are used during the negotiation of security settings for a TLS/SSL connection as well as for the transfer of data.")])])]),t._v(" "),a("p",[a("strong",[t._v("Notes:")])]),t._v(" "),a("ul",[a("li",[t._v("Ensure that you define both the key store and the trust store even if your server is not using an Https port.")]),t._v(" "),a("li",[t._v("Currently "),a("code",[t._v("ciphers")]),t._v(" is not used. It is optional and serves as a place holder only.")])]),t._v(" "),a("h3",{attrs:{id:"eureka-discovery-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eureka-discovery-service"}},[t._v("#")]),t._v(" Eureka Discovery Service")]),t._v(" "),a("p",[t._v("Eureka Discovery Service parameters group contains a single parameter used to address Eureka Discovery Service location.\nAn example is presented in the following snippet:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("discoveryServiceUrls:\n- https://localhost:10011/eureka\n- http://......\n")])])]),a("p",[t._v("where:")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("discoveryServiceUrls")])]),t._v(" "),a("p",[t._v("specifies the public URL of the Discovery Service. The system administrator at the customer site defines this parameter.\nIt is possible to provide multiple values in order to utilize fail over and/or load balancing mechanisms.")])])]),t._v(" "),a("h2",{attrs:{id:"registering-your-service-with-api-ml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-your-service-with-api-ml"}},[t._v("#")]),t._v(" Registering your service with API ML")]),t._v(" "),a("p",[t._v("The following steps outline the process of registering your service with API ML. Each step is described in detail in this article.")]),t._v(" "),a("ol",[a("li",[t._v("Add a web application context listener class")]),t._v(" "),a("li",[t._v("Register a web application context listener")]),t._v(" "),a("li",[t._v("Load service configuration")]),t._v(" "),a("li",[t._v("Register with Eureka discovery service")]),t._v(" "),a("li",[t._v("Unregister your service")])]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Add a web application context listener class.")]),t._v(" "),a("p",[t._v("The web application context listener implements two methods to perform necessary actions at application start-up time as well as when the application context is destroyed:")]),t._v(" "),a("ul",[a("li",[t._v("The "),a("code",[t._v("contextInitialized")]),t._v(" method invokes the "),a("code",[t._v("apiMediationClient.register(config)")]),t._v(" method to register the application with API Mediation Layer when the application starts.")]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("contextDestroyed")]),t._v(" method invokes the "),a("code",[t._v("apiMediationClient.unregister()")]),t._v(" method when the application shuts down. This unregisters the application from the API Mediation Layer.")])])]),t._v(" "),a("li",[a("p",[t._v("Register a web application context listener.")]),t._v(" "),a("p",[t._v("Add the following code block to the deployment descriptor "),a("code",[t._v("web.xml")]),t._v(" to register a context listener:")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("listener-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.your.package.ApiDiscoveryListener"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener-class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("listener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Load the service configuration.")]),t._v(" "),a("p",[t._v("Load your service configuration from a file "),a("code",[t._v("service-configuration.yml")]),t._v(" file.\nThe configuration parameters are described in the preceding section, "),a("a",{attrs:{href:"#configuring-your-service"}},[t._v("Configuring your service")]),t._v(".")]),t._v(" "),a("p",[t._v("Use the following code as an example of how to load the service configuration.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('@Override\npublic void contextInitialized(ServletContextEvent sce) {\n   ...\n   String configurationFile = "/service-configuration.yml";\n   ApiMediationServiceConfig config = new ApiMediationServiceConfigReader().loadConfiguration(configurationFile);\n   ...\n')])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" The "),a("code",[t._v("ApiMediationServiceConfigReader")]),t._v(" class also provides other methods for loading the configuration from two files, "),a("code",[t._v("java.util.Map")]),t._v(" instances, or directly from a string. Check the "),a("code",[t._v("ApiMediationServiceConfigReader")]),t._v(" class JavaDoc for details.")])]),t._v(" "),a("li",[a("p",[t._v("Register with Eureka Discovery Service.")]),t._v(" "),a("p",[t._v("Use the following call to register your service instance with Eureka Discovery Service:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  try {\n      apiMediationClient = new ApiMediationClientImpl()\n      apiMediationClient.register(config);\n  } catch (ServiceDefinitionException sde) {\n      log.error("Service configuration failed. Check log for previous errors: ", sde);\n  }\n')])])])]),t._v(" "),a("li",[a("p",[t._v("Unregister your service.")]),t._v(" "),a("p",[t._v("Use the "),a("code",[t._v("contextDestroyed")]),t._v(" method to unregister your service instance from Eureka Discovery Service in the following format:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("@Override\npublic void contextDestroyed(ServletContextEvent sce) {\n    if (apiMediationClient != null) {\n        apiMediationClient.unregister();\n    }\n\n    apiMediationClient = null;\n}\n")])])])])]),t._v(" "),a("p",[t._v("The following code block is a full example of a context listener class implementation.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("pre",[a("code",[t._v('import org.zowe.apiml.eurekaservice.client.ApiMediationClient;\nimport org.zowe.apiml.eurekaservice.client.config.ApiMediationServiceConfig;\nimport org.zowe.apiml.eurekaservice.client.impl.ApiMediationClientImpl;\nimport org.zowe.apiml.eurekaservice.client.util.ApiMediationServiceConfigReader;\nimport org.zowe.apiml.exception.ServiceDefinitionException;\nimport lombok.extern.slf4j.Slf4j;\n\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\n\n/**\n *  API ML Micro service implementation of ServletContextListener interface.\n */\n@Slf4j\npublic class ApiDiscoveryListener implements ServletContextListener {\n\n    /**\n     * @{link ApiMediationClient} instance used to register and unregister the service with API ML Discovery service.\n     */\n    private ApiMediationClient apiMediationClient;\n\n    /**\n     *  Loads a {@link ApiMediationServiceConfig} using an instance of class ApiMediationServiceConfigReader\n     *  and registers this micro service with API ML.\n     *\n     *  {@link ApiMediationServiceConfigReader} has several methods for loading configuration from YAML file,\n     *  {@link java.util.Map} or a string containing the configuration data.\n     *\n     *  Here we use the most convenient method for our Java Servlet based service,\n     *  i.e expecting all the necessary initialization information to be present\n     *  in the  {@link javax.servlet.ServletContext} init parameters.\n\n     *  After successful initialization, this method creates an {@link ApiMediationClient} instance,\n     *  which is then used to register this service with API ML Discovery Service.\n     *\n     *  The registration method of ApiMediationClientImpl catches all RuntimeExceptions\n     *  and only can throw {@link ServiceDefinitionException} checked exception.\n     *\n     * @param sce\n     */\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        try {\n            /*\n             * Load configuration method with ServletContext\n             */\n            ApiMediationServiceConfig config = new ApiMediationServiceConfigReader().loadConfiguration(sce.getServletContext());\n            if (config  != null) {\n                /*\n                 * Instantiate {@link ApiMediationClientImpl} which is used to un/register the service with API ML Discovery Service.\n                 */\n                apiMediationClient = new ApiMediationClientImpl();\n\n                /*\n                 * Call the {@link ApiMediationClient} instance to register your micro service with API ML Discovery Service.\n                 */\n                apiMediationClient.register(config);\n            }\n        } catch (ServiceDefinitionException sde) {\n            log.error("Service configuration failed. Check log for previous errors: ", sde);\n        }\n    }\n\n    /**\n     * If apiMediationClient is not null, attmpts to unregister this service from API ML registry.\n     */\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        if (apiMediationClient != null) {\n            apiMediationClient.unregister();\n        }\n\n        apiMediationClient = null;\n    }\n}\n')])]),t._v(" "),a("h2",{attrs:{id:"adding-api-documentation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-api-documentation"}},[t._v("#")]),t._v(" Adding API documentation")]),t._v(" "),a("p",[t._v("Use the following procedure to add Swagger API documentation to your project.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Add a Springfox Swagger dependency.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For "),a("em",[t._v("Gradle")]),t._v(" add the following dependency in "),a("code",[t._v("build.gradle")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('compile "io.springfox:springfox-swagger2:2.8.0"\n')])])])]),t._v(" "),a("li",[a("p",[t._v("For "),a("em",[t._v("Maven")]),t._v(" add the following dependency in "),a("code",[t._v("pom.xml")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("io.springfox"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("springfox-swagger2"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.8.0"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[t._v("Add a Spring configuration class to your project.")]),t._v(" "),a("p",[a("strong",[t._v("Example:")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zowe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("apiml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sampleservice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableWebMvc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("springframework"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("servlet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurerAdapter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PathSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("builders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestHandlerSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Contact")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spi")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spring"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("springfox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("swagger2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EnableSwagger2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableSwagger2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableWebMvc")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SwaggerConfiguration")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurerAdapter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Docket")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DocumentationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SWAGGER_2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RequestHandlerSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("paths")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PathSelectors")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ApiInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Spring REST API"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example of REST API"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ArrayList")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Customize this configuration according to your specifications. For more information about customization properties,\nsee "),a("a",{attrs:{href:"https://springfox.github.io/springfox/docs/snapshot/#configuring-springfox",target:"_blank",rel:"noopener noreferrer"}},[t._v("Springfox documentation"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" The current SpringFox Version 2.8 does not support OpenAPI 3.0.\nFor more information about the open feature request see this "),a("a",{attrs:{href:"https://github.com/springfox/springfox/issues/2022",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1),t._v(".")])])]),t._v(" "),a("h2",{attrs:{id:"validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#validating-the-discoverability-of-your-api-service-by-the-discovery-service"}},[t._v("#")]),t._v(" Validating the discoverability of your API service by the Discovery Service")]),t._v(" "),a("p",[t._v("Once you are able to build and start your service successfully, you can use the option of validating that your service is registered correctly with the API ML Discovery Service.")]),t._v(" "),a("p",[t._v("Validatiing your service registration can be done in the API ML Discovery Service and the API ML Catalog. If your service appears in the Discovery Service UI but is not visible in the API Catalog,\ncheck to make sure that your configuration settings are correct.")]),t._v(" "),a("p",[t._v("Specific addresses and user credentials for the individual API ML components depend on your target runtime environment.")]),t._v(" "),a("p",[a("strong",[t._v("Note:")]),t._v(" If you are working with local installation of API ML and you are using our dummy identity provider, enter "),a("code",[t._v("user")]),t._v("\nfor both "),a("code",[t._v("username")]),t._v(" and "),a("code",[t._v("password")]),t._v(". If API ML was installed by system administrators, ask them to provide you\nwith actual addresses of API ML components and the respective user credentials.")]),t._v(" "),a("p",[a("strong",[t._v("Tip:")]),t._v(" Wait for the Discovery Service to discover your service. This process may take a few minutes after your service was successfully started.")]),t._v(" "),a("p",[a("strong",[t._v("Follow these steps:")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Use the Http "),a("code",[t._v("GET")]),t._v(" method in the following format to query the Discovery Service for your service instance information:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http://{eureka_hostname}:{eureka_port}/eureka/apps/{serviceId}\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Check your service metadata.")]),t._v(" "),a("p",[a("strong",[t._v("Response example:")])]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{serviceId}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("instanceId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{hostname}:{serviceId}:{port}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("instanceId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("hostName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{hostname}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("hostName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{serviceId}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ipAddr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{ipAddress}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ipAddr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("UP"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("port")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("false"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{port}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("securePort")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("enabled")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{port}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("securePort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("vipAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{serviceId}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("vipAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("secureVipAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{serviceId}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("secureVipAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.service.description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Sample API service showing how to onboard the service"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.service.description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.api__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("api/v1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.api__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.catalog.tile.version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.0.1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.catalog.tile.version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.ws__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/sampleclient/ws"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.ws__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.ws__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ws/v1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.ws__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.catalog.tile.description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Applications which demonstrate how to make a service integrated to the API Mediation Layer ecosystem"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.catalog.tile.description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.service.title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Sample Service ©"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.service.title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.ui__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("ui/v1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.ui__v1.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.apiInfo.0.apiId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.zowe.sampleclient"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.apiInfo.0.apiId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.apiInfo.0.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("api/v1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.apiInfo.0.gatewayUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.apiInfo.0.documentationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://www.zowe.org"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.apiInfo.0.documentationUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.catalog.tile.id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("samples"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.catalog.tile.id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.ui__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/sampleclient"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.ui__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.routes.api__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("/sampleclient/api/v1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.routes.api__v1.serviceUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.apiInfo.0.swaggerUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://hostname/sampleclient/api-doc"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.apiInfo.0.swaggerUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("apiml.catalog.tile.title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Sample API Mediation Layer Applications"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("apiml.catalog.tile.title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("application")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Check that your API service is displayed in the API Catalog and all information including API documentation is correct.")])]),t._v(" "),a("li",[a("p",[t._v("Check that you can access your API service endpoints through the Gateway.")])]),t._v(" "),a("li",[a("p",[t._v("(Optional) Check that you can access your API service endpoints directly outside of the Gateway.")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);