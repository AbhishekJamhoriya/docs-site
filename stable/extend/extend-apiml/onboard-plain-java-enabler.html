<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Onboarding a REST API service with the Plain Java Enabler (PJE) | Zowe Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/stable/favicon.ico">
    <meta name="description" content="Version 1.21.x LTS">
    <meta name="google-site-verification" content="FFi0biHTX9XKglMxt3n2NZkB-knrnPxIrgBXpIZqlzc">
    
    <link rel="preload" href="/stable/assets/css/0.styles.ff884e29.css" as="style"><link rel="preload" href="/stable/assets/js/app.d4e4d04d.js" as="script"><link rel="preload" href="/stable/assets/js/7.cc74b79f.js" as="script"><link rel="preload" href="/stable/assets/js/3.4dacec81.js" as="script"><link rel="preload" href="/stable/assets/js/37.e094a3cb.js" as="script"><link rel="prefetch" href="/stable/assets/js/10.77d71edb.js"><link rel="prefetch" href="/stable/assets/js/100.cb3c7520.js"><link rel="prefetch" href="/stable/assets/js/101.274c3185.js"><link rel="prefetch" href="/stable/assets/js/102.ec29550d.js"><link rel="prefetch" href="/stable/assets/js/103.eb4c4eee.js"><link rel="prefetch" href="/stable/assets/js/104.9e7ba099.js"><link rel="prefetch" href="/stable/assets/js/105.794e9911.js"><link rel="prefetch" href="/stable/assets/js/106.0dd03ba1.js"><link rel="prefetch" href="/stable/assets/js/107.bc0aad22.js"><link rel="prefetch" href="/stable/assets/js/108.088da3ed.js"><link rel="prefetch" href="/stable/assets/js/109.6767cc5b.js"><link rel="prefetch" href="/stable/assets/js/11.f7350317.js"><link rel="prefetch" href="/stable/assets/js/110.7d1b391b.js"><link rel="prefetch" href="/stable/assets/js/111.e53fed43.js"><link rel="prefetch" href="/stable/assets/js/112.1d733716.js"><link rel="prefetch" href="/stable/assets/js/113.f5630a89.js"><link rel="prefetch" href="/stable/assets/js/114.f700abd1.js"><link rel="prefetch" href="/stable/assets/js/115.985662de.js"><link rel="prefetch" href="/stable/assets/js/116.4853d08e.js"><link rel="prefetch" href="/stable/assets/js/117.15b0d9ff.js"><link rel="prefetch" href="/stable/assets/js/118.54193f97.js"><link rel="prefetch" href="/stable/assets/js/119.af811fae.js"><link rel="prefetch" href="/stable/assets/js/12.44875b7c.js"><link rel="prefetch" href="/stable/assets/js/120.28253298.js"><link rel="prefetch" href="/stable/assets/js/121.c2612ded.js"><link rel="prefetch" href="/stable/assets/js/122.b7c6e60e.js"><link rel="prefetch" href="/stable/assets/js/123.f76cce6d.js"><link rel="prefetch" href="/stable/assets/js/124.103235c8.js"><link rel="prefetch" href="/stable/assets/js/125.28eb6806.js"><link rel="prefetch" href="/stable/assets/js/126.1cf28968.js"><link rel="prefetch" href="/stable/assets/js/127.2ef98f61.js"><link rel="prefetch" href="/stable/assets/js/128.b68cf4c4.js"><link rel="prefetch" href="/stable/assets/js/129.db446801.js"><link rel="prefetch" href="/stable/assets/js/13.1228564b.js"><link rel="prefetch" href="/stable/assets/js/130.e235cbe9.js"><link rel="prefetch" href="/stable/assets/js/131.a83a4c38.js"><link rel="prefetch" href="/stable/assets/js/132.78fbfc14.js"><link rel="prefetch" href="/stable/assets/js/133.252c0420.js"><link rel="prefetch" href="/stable/assets/js/134.5221c437.js"><link rel="prefetch" href="/stable/assets/js/135.76660a83.js"><link rel="prefetch" href="/stable/assets/js/136.559ca2da.js"><link rel="prefetch" href="/stable/assets/js/137.71449faf.js"><link rel="prefetch" href="/stable/assets/js/138.f043dd5f.js"><link rel="prefetch" href="/stable/assets/js/139.2283a89e.js"><link rel="prefetch" href="/stable/assets/js/14.bd5e220c.js"><link rel="prefetch" href="/stable/assets/js/140.35bc9271.js"><link rel="prefetch" href="/stable/assets/js/141.01413af3.js"><link rel="prefetch" href="/stable/assets/js/142.e22f7726.js"><link rel="prefetch" href="/stable/assets/js/143.e58ec530.js"><link rel="prefetch" href="/stable/assets/js/144.52a431f9.js"><link rel="prefetch" href="/stable/assets/js/145.5419e398.js"><link rel="prefetch" href="/stable/assets/js/146.a1ce0b92.js"><link rel="prefetch" href="/stable/assets/js/147.2fe012ad.js"><link rel="prefetch" href="/stable/assets/js/148.5c974bc4.js"><link rel="prefetch" href="/stable/assets/js/149.05782210.js"><link rel="prefetch" href="/stable/assets/js/15.71142f11.js"><link rel="prefetch" href="/stable/assets/js/150.89b31b50.js"><link rel="prefetch" href="/stable/assets/js/151.2edabb60.js"><link rel="prefetch" href="/stable/assets/js/152.21c978f4.js"><link rel="prefetch" href="/stable/assets/js/153.5872efe6.js"><link rel="prefetch" href="/stable/assets/js/154.9572d061.js"><link rel="prefetch" href="/stable/assets/js/155.fd8c6bf9.js"><link rel="prefetch" href="/stable/assets/js/156.ca4909a4.js"><link rel="prefetch" href="/stable/assets/js/157.e654c3a2.js"><link rel="prefetch" href="/stable/assets/js/158.ca431b7d.js"><link rel="prefetch" href="/stable/assets/js/159.523e46cc.js"><link rel="prefetch" href="/stable/assets/js/16.53ea7bf0.js"><link rel="prefetch" href="/stable/assets/js/160.fa65aa60.js"><link rel="prefetch" href="/stable/assets/js/161.cf1d1551.js"><link rel="prefetch" href="/stable/assets/js/162.b092519b.js"><link rel="prefetch" href="/stable/assets/js/163.b583e15b.js"><link rel="prefetch" href="/stable/assets/js/164.c6d854b7.js"><link rel="prefetch" href="/stable/assets/js/165.da845fb7.js"><link rel="prefetch" href="/stable/assets/js/166.23771c77.js"><link rel="prefetch" href="/stable/assets/js/167.48324a18.js"><link rel="prefetch" href="/stable/assets/js/168.70b0df71.js"><link rel="prefetch" href="/stable/assets/js/169.1356f49e.js"><link rel="prefetch" href="/stable/assets/js/17.003b429f.js"><link rel="prefetch" href="/stable/assets/js/170.f2254fa7.js"><link rel="prefetch" href="/stable/assets/js/171.9a3951a2.js"><link rel="prefetch" href="/stable/assets/js/172.8cb59fa1.js"><link rel="prefetch" href="/stable/assets/js/173.4fb5dc22.js"><link rel="prefetch" href="/stable/assets/js/174.1ab41ee2.js"><link rel="prefetch" href="/stable/assets/js/175.43b79d56.js"><link rel="prefetch" href="/stable/assets/js/176.1c153261.js"><link rel="prefetch" href="/stable/assets/js/177.c09a65a3.js"><link rel="prefetch" href="/stable/assets/js/18.50b3c02f.js"><link rel="prefetch" href="/stable/assets/js/19.5c06f71b.js"><link rel="prefetch" href="/stable/assets/js/20.7f51790a.js"><link rel="prefetch" href="/stable/assets/js/21.da05eef1.js"><link rel="prefetch" href="/stable/assets/js/22.0f8a0199.js"><link rel="prefetch" href="/stable/assets/js/23.3c5ff1cb.js"><link rel="prefetch" href="/stable/assets/js/24.fdc3582e.js"><link rel="prefetch" href="/stable/assets/js/25.735bfa29.js"><link rel="prefetch" href="/stable/assets/js/26.d957a4dd.js"><link rel="prefetch" href="/stable/assets/js/27.c77a5b5f.js"><link rel="prefetch" href="/stable/assets/js/28.9fbdf72d.js"><link rel="prefetch" href="/stable/assets/js/29.b48f2d81.js"><link rel="prefetch" href="/stable/assets/js/30.1ed992b4.js"><link rel="prefetch" href="/stable/assets/js/31.3c16e8ee.js"><link rel="prefetch" href="/stable/assets/js/32.959be415.js"><link rel="prefetch" href="/stable/assets/js/33.772e0d29.js"><link rel="prefetch" href="/stable/assets/js/34.1a744db3.js"><link rel="prefetch" href="/stable/assets/js/35.a2ed45e7.js"><link rel="prefetch" href="/stable/assets/js/36.e788e101.js"><link rel="prefetch" href="/stable/assets/js/38.461061b4.js"><link rel="prefetch" href="/stable/assets/js/39.f692dac9.js"><link rel="prefetch" href="/stable/assets/js/4.3aa71383.js"><link rel="prefetch" href="/stable/assets/js/40.032577aa.js"><link rel="prefetch" href="/stable/assets/js/41.a502688c.js"><link rel="prefetch" href="/stable/assets/js/42.f4f38046.js"><link rel="prefetch" href="/stable/assets/js/43.b73c7b0c.js"><link rel="prefetch" href="/stable/assets/js/44.b0768159.js"><link rel="prefetch" href="/stable/assets/js/45.2673daee.js"><link rel="prefetch" href="/stable/assets/js/46.cecf4732.js"><link rel="prefetch" href="/stable/assets/js/47.1eccc192.js"><link rel="prefetch" href="/stable/assets/js/48.70d25798.js"><link rel="prefetch" href="/stable/assets/js/49.8701dfe4.js"><link rel="prefetch" href="/stable/assets/js/5.bfd86cad.js"><link rel="prefetch" href="/stable/assets/js/50.fcdf5f1d.js"><link rel="prefetch" href="/stable/assets/js/51.3867ca04.js"><link rel="prefetch" href="/stable/assets/js/52.cd782dde.js"><link rel="prefetch" href="/stable/assets/js/53.397a0b0d.js"><link rel="prefetch" href="/stable/assets/js/54.8a0d3b1b.js"><link rel="prefetch" href="/stable/assets/js/55.85363387.js"><link rel="prefetch" href="/stable/assets/js/56.010fc24b.js"><link rel="prefetch" href="/stable/assets/js/57.e06a558c.js"><link rel="prefetch" href="/stable/assets/js/58.ff962d5c.js"><link rel="prefetch" href="/stable/assets/js/59.41d17d6d.js"><link rel="prefetch" href="/stable/assets/js/6.2fd17a53.js"><link rel="prefetch" href="/stable/assets/js/60.49b94bb2.js"><link rel="prefetch" href="/stable/assets/js/61.29254d0e.js"><link rel="prefetch" href="/stable/assets/js/62.7eaa3802.js"><link rel="prefetch" href="/stable/assets/js/63.ef23940c.js"><link rel="prefetch" href="/stable/assets/js/64.c9bd15d5.js"><link rel="prefetch" href="/stable/assets/js/65.b2552a4f.js"><link rel="prefetch" href="/stable/assets/js/66.3a6d3efd.js"><link rel="prefetch" href="/stable/assets/js/67.a970976f.js"><link rel="prefetch" href="/stable/assets/js/68.2f7ace83.js"><link rel="prefetch" href="/stable/assets/js/69.3fdbe318.js"><link rel="prefetch" href="/stable/assets/js/70.af5d938f.js"><link rel="prefetch" href="/stable/assets/js/71.068f470a.js"><link rel="prefetch" href="/stable/assets/js/72.32e66b71.js"><link rel="prefetch" href="/stable/assets/js/73.76f03bac.js"><link rel="prefetch" href="/stable/assets/js/74.3ab84166.js"><link rel="prefetch" href="/stable/assets/js/75.323dd53a.js"><link rel="prefetch" href="/stable/assets/js/76.ce2b92bb.js"><link rel="prefetch" href="/stable/assets/js/77.95fdcfd6.js"><link rel="prefetch" href="/stable/assets/js/78.089b8165.js"><link rel="prefetch" href="/stable/assets/js/79.9dd82920.js"><link rel="prefetch" href="/stable/assets/js/8.9b263b0a.js"><link rel="prefetch" href="/stable/assets/js/80.acd462f0.js"><link rel="prefetch" href="/stable/assets/js/81.e92b540f.js"><link rel="prefetch" href="/stable/assets/js/82.263fd7e4.js"><link rel="prefetch" href="/stable/assets/js/83.f4313612.js"><link rel="prefetch" href="/stable/assets/js/84.a224ed50.js"><link rel="prefetch" href="/stable/assets/js/85.0168be2b.js"><link rel="prefetch" href="/stable/assets/js/86.c0de8067.js"><link rel="prefetch" href="/stable/assets/js/87.bad9ffa1.js"><link rel="prefetch" href="/stable/assets/js/88.56418ac7.js"><link rel="prefetch" href="/stable/assets/js/89.ca863654.js"><link rel="prefetch" href="/stable/assets/js/9.f809e881.js"><link rel="prefetch" href="/stable/assets/js/90.5c001eab.js"><link rel="prefetch" href="/stable/assets/js/91.e93b3a94.js"><link rel="prefetch" href="/stable/assets/js/92.b02555c2.js"><link rel="prefetch" href="/stable/assets/js/93.cdd851cc.js"><link rel="prefetch" href="/stable/assets/js/94.fb1bd4e1.js"><link rel="prefetch" href="/stable/assets/js/95.6995f16d.js"><link rel="prefetch" href="/stable/assets/js/96.76f0a43f.js"><link rel="prefetch" href="/stable/assets/js/97.a1178fc2.js"><link rel="prefetch" href="/stable/assets/js/98.65c8a94a.js"><link rel="prefetch" href="/stable/assets/js/99.99c4fd71.js"><link rel="prefetch" href="/stable/assets/js/vendors~docsearch.f6f870cb.js">
    <link rel="stylesheet" href="/stable/assets/css/0.styles.ff884e29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/stable/" class="home-link router-link-active"><!----> <span class="site-name">Zowe Docs</span></a> <div class="site-description"></div> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/getting-started/overview.html" class="nav-link"><!----> <span>Zowe fundamentals</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/summaryofchanges.html" class="nav-link"><!----> <span>What's new</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/zowe-getting-started.html" class="nav-link"><!----> <span>Zowe quick start</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/user-roadmap-apiml.html" class="nav-link"><!----> <span>Learning paths</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/zowe-resources.html" class="nav-link"><!----> <span>Zowe resources</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guide" class="dropdown-title"><span class="title">User Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guide" class="mobile-dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/user-guide/installandconfig.html" class="nav-link"><!----> <span>Planning and preparing the installation</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/install-zos.html" class="nav-link"><!----> <span>Installing Zowe z/OS components</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/install-docker.html" class="nav-link"><!----> <span>Installing Zowe Docker Bundle</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/cli-installcli.html" class="nav-link"><!----> <span>Installing Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/mvd-configuration.html" class="nav-link"><!----> <span>Advanced Zowe configuration</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/zowe-getting-started-tutorial.html" class="nav-link"><!----> <span>Using Zowe</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/cli-extending.html" class="nav-link"><!----> <span>Zowe CLI extensions and plug-ins</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/ze-install.html" class="nav-link"><!----> <span>Zowe Explorer</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Extending" class="dropdown-title"><span class="title">Extending</span> <span class="arrow down"></span></button> <button type="button" aria-label="Extending" class="mobile-dropdown-title"><span class="title">Extending</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/extend/extend-zowe-overview.html" class="nav-link"><!----> <span>Overview</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-cli/cli-devTutorials.html" class="nav-link"><!----> <span>Developing for Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-apiml/onboard-overview.html" class="nav-link"><!----> <span>Developing for Zowe API Mediation Layer</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-desktop/mvd-extendingzlux.html" class="nav-link"><!----> <span>Developing for Zowe Application Framework</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-sdks.html" class="nav-link"><!----> <span>Developing for Zowe SDKs</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/zowe-conformance-program.html" class="nav-link"><!----> <span>Zowe Conformance Program</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Troubleshooting" class="dropdown-title"><span class="title">Troubleshooting</span> <span class="arrow down"></span></button> <button type="button" aria-label="Troubleshooting" class="mobile-dropdown-title"><span class="title">Troubleshooting</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshooting.html" class="nav-link"><!----> <span>Overview</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-zos.html" class="nav-link"><!----> <span>z/OS component installation</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-apiml.html" class="nav-link"><!----> <span>Zowe API Mediation Layer</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/app-framework/app-troubleshoot.html" class="nav-link"><!----> <span>Zowe Application Framework</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-zos-services.html" class="nav-link"><!----> <span>Zowe z/OS Services</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/cli/troubleshoot-cli.html" class="nav-link"><!----> <span>Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/ze/troubleshoot-ze.html" class="nav-link"><!----> <span>Zowe Explorer</span></a></li></ul></div></div><div class="nav-item can-hide-first"><div class="dropdown-wrapper"><button type="button" aria-label="Contributing" class="dropdown-title"><span class="title">Contributing</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contributing" class="mobile-dropdown-title"><span class="title">Contributing</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/contribute/roadmap-contribute.html" class="nav-link"><!----> <span>How to contribute</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/guidelines-code/categories.html" class="nav-link"><!----> <span>Code guidelines</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/guidelines-ui/ui.html" class="nav-link"><!----> <span>UI guidelines</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/contributing.html" class="nav-link"><!----> <span>Contributing to documentation</span></a></li></ul></div></div><div class="nav-item can-hide-first"><div class="dropdown-wrapper"><button type="button" aria-label="References" class="dropdown-title"><span class="title">References</span> <span class="arrow down"></span></button> <button type="button" aria-label="References" class="mobile-dropdown-title"><span class="title">References</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/appendix/zowe-cli-commannd-reference.html" class="nav-link"><!----> <span>Zowe CLI command reference</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/zowe-api-reference.html" class="nav-link"><!----> <span>Zowe API reference</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/bill-of-materials.html" class="nav-link"><!----> <span>Bill of Materials</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/tpsr.html" class="nav-link"><!----> <span>Third-Party Software Requirements</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/" class="nav-link">
  v1.21.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-20-x/" class="nav-link">
  v1.20.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-19-x/" class="nav-link">
  v1.19.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-18-x/" class="nav-link">
  v1.18.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-17-x/" class="nav-link">
  v1.17.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-16-x/" class="nav-link">
  v1.16.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-15-x/" class="nav-link">
  v1.15.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-14-x/" class="nav-link">
  v1.14.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-13-x/" class="nav-link">
  v1.13.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-12-x/" class="nav-link">
  v1.12.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-11-x/" class="nav-link">
  v1.11.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-10-x/" class="nav-link">
  v1.10.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-9-x/" class="nav-link">
  v1.9.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-8-x/" class="nav-link">
  v1.8.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-7-x/" class="nav-link">
  v1.7.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-6-x/" class="nav-link">
  v1.6.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-5-x/" class="nav-link">
  v1.5.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-4-x/" class="nav-link">
  v1.4.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-3-x/" class="nav-link">
  v1.3.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-2-x/" class="nav-link">
  v1.2.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-1-x/" class="nav-link">
  v1.1.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-0-x/" class="nav-link">
  v1.0.x
</a></li></ul></div></div><div class="nav-item"><a href="https://zowe.org" target="_blank" rel="noopener noreferrer" class="nav-link external"><img src="/stable/assets/zowe-logo.png" title="Zowe.org" width="20" height="20" style="vertical-align:top;"> <span class="not-in-navbar">Zowe.org</span></a></div> <a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link"><img src="/stable/assets/github-mark-32px.png" width="20" height="20" title="GitHub" style="vertical-align:top"> <span class="not-in-navbar">GitHub</span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div class="sidebar-section">Extending</div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Getting Started" class="dropdown-title"><span class="title">Getting Started</span> <span class="arrow down"></span></button> <button type="button" aria-label="Getting Started" class="mobile-dropdown-title"><span class="title">Getting Started</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/getting-started/overview.html" class="nav-link"><!----> <span>Zowe fundamentals</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/summaryofchanges.html" class="nav-link"><!----> <span>What's new</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/zowe-getting-started.html" class="nav-link"><!----> <span>Zowe quick start</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/user-roadmap-apiml.html" class="nav-link"><!----> <span>Learning paths</span></a></li><li class="dropdown-item"><!----> <a href="/stable/getting-started/zowe-resources.html" class="nav-link"><!----> <span>Zowe resources</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="User Guide" class="dropdown-title"><span class="title">User Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="User Guide" class="mobile-dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/user-guide/installandconfig.html" class="nav-link"><!----> <span>Planning and preparing the installation</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/install-zos.html" class="nav-link"><!----> <span>Installing Zowe z/OS components</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/install-docker.html" class="nav-link"><!----> <span>Installing Zowe Docker Bundle</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/cli-installcli.html" class="nav-link"><!----> <span>Installing Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/mvd-configuration.html" class="nav-link"><!----> <span>Advanced Zowe configuration</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/zowe-getting-started-tutorial.html" class="nav-link"><!----> <span>Using Zowe</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/cli-extending.html" class="nav-link"><!----> <span>Zowe CLI extensions and plug-ins</span></a></li><li class="dropdown-item"><!----> <a href="/stable/user-guide/ze-install.html" class="nav-link"><!----> <span>Zowe Explorer</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Extending" class="dropdown-title"><span class="title">Extending</span> <span class="arrow down"></span></button> <button type="button" aria-label="Extending" class="mobile-dropdown-title"><span class="title">Extending</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/extend/extend-zowe-overview.html" class="nav-link"><!----> <span>Overview</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-cli/cli-devTutorials.html" class="nav-link"><!----> <span>Developing for Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-apiml/onboard-overview.html" class="nav-link"><!----> <span>Developing for Zowe API Mediation Layer</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-desktop/mvd-extendingzlux.html" class="nav-link"><!----> <span>Developing for Zowe Application Framework</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/extend-sdks.html" class="nav-link"><!----> <span>Developing for Zowe SDKs</span></a></li><li class="dropdown-item"><!----> <a href="/stable/extend/zowe-conformance-program.html" class="nav-link"><!----> <span>Zowe Conformance Program</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Troubleshooting" class="dropdown-title"><span class="title">Troubleshooting</span> <span class="arrow down"></span></button> <button type="button" aria-label="Troubleshooting" class="mobile-dropdown-title"><span class="title">Troubleshooting</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshooting.html" class="nav-link"><!----> <span>Overview</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-zos.html" class="nav-link"><!----> <span>z/OS component installation</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-apiml.html" class="nav-link"><!----> <span>Zowe API Mediation Layer</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/app-framework/app-troubleshoot.html" class="nav-link"><!----> <span>Zowe Application Framework</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/troubleshoot-zos-services.html" class="nav-link"><!----> <span>Zowe z/OS Services</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/cli/troubleshoot-cli.html" class="nav-link"><!----> <span>Zowe CLI</span></a></li><li class="dropdown-item"><!----> <a href="/stable/troubleshoot/ze/troubleshoot-ze.html" class="nav-link"><!----> <span>Zowe Explorer</span></a></li></ul></div></div><div class="nav-item can-hide-first"><div class="dropdown-wrapper"><button type="button" aria-label="Contributing" class="dropdown-title"><span class="title">Contributing</span> <span class="arrow down"></span></button> <button type="button" aria-label="Contributing" class="mobile-dropdown-title"><span class="title">Contributing</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/contribute/roadmap-contribute.html" class="nav-link"><!----> <span>How to contribute</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/guidelines-code/categories.html" class="nav-link"><!----> <span>Code guidelines</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/guidelines-ui/ui.html" class="nav-link"><!----> <span>UI guidelines</span></a></li><li class="dropdown-item"><!----> <a href="/stable/contribute/contributing.html" class="nav-link"><!----> <span>Contributing to documentation</span></a></li></ul></div></div><div class="nav-item can-hide-first"><div class="dropdown-wrapper"><button type="button" aria-label="References" class="dropdown-title"><span class="title">References</span> <span class="arrow down"></span></button> <button type="button" aria-label="References" class="mobile-dropdown-title"><span class="title">References</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/appendix/zowe-cli-commannd-reference.html" class="nav-link"><!----> <span>Zowe CLI command reference</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/zowe-api-reference.html" class="nav-link"><!----> <span>Zowe API reference</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/bill-of-materials.html" class="nav-link"><!----> <span>Bill of Materials</span></a></li><li class="dropdown-item"><!----> <a href="/stable/appendix/tpsr.html" class="nav-link"><!----> <span>Third-Party Software Requirements</span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions" class="dropdown-title"><span class="title">Versions</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions" class="mobile-dropdown-title"><span class="title">Versions</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stable/" class="nav-link">
  v1.21.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-20-x/" class="nav-link">
  v1.20.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-19-x/" class="nav-link">
  v1.19.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-18-x/" class="nav-link">
  v1.18.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-17-x/" class="nav-link">
  v1.17.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-16-x/" class="nav-link">
  v1.16.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-15-x/" class="nav-link">
  v1.15.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-14-x/" class="nav-link">
  v1.14.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-13-x/" class="nav-link">
  v1.13.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-12-x/" class="nav-link">
  v1.12.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-11-x/" class="nav-link">
  v1.11.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-10-x/" class="nav-link">
  v1.10.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-9-x/" class="nav-link">
  v1.9.x LTS
</a></li><li class="dropdown-item"><!----> <a href="/v1-8-x/" class="nav-link">
  v1.8.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-7-x/" class="nav-link">
  v1.7.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-6-x/" class="nav-link">
  v1.6.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-5-x/" class="nav-link">
  v1.5.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-4-x/" class="nav-link">
  v1.4.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-3-x/" class="nav-link">
  v1.3.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-2-x/" class="nav-link">
  v1.2.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-1-x/" class="nav-link">
  v1.1.x
</a></li><li class="dropdown-item"><!----> <a href="/v1-0-x/" class="nav-link">
  v1.0.x
</a></li></ul></div></div><div class="nav-item"><a href="https://zowe.org" target="_blank" rel="noopener noreferrer" class="nav-link external"><img src="/stable/assets/zowe-logo.png" title="Zowe.org" width="20" height="20" style="vertical-align:top;"> <span class="not-in-navbar">Zowe.org</span></a></div> <a href="https://github.com/zowe/docs-site" target="_blank" rel="noopener noreferrer" class="repo-link"><img src="/stable/assets/github-mark-32px.png" width="20" height="20" title="GitHub" style="vertical-align:top"> <span class="not-in-navbar">GitHub</span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Overview</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developing for Zowe CLI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Developing for Zowe API Mediation Layer</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stable/extend/extend-apiml/onboard-overview.html" class="sidebar-link">Onboarding Overview</a></li><li><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html" aria-current="page" class="active sidebar-link">Onboarding a REST API service with the Plain Java Enabler (PJE)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#introduction" class="sidebar-link">Introduction</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#onboarding-your-rest-service-with-api-ml" class="sidebar-link">Onboarding your REST service with API ML</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#configuring-your-project" class="sidebar-link">Configuring your project</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#gradle-build-automation-system" class="sidebar-link">Gradle build automation system</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#maven-build-automation-system" class="sidebar-link">Maven build automation system</a></li></ul></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#configuring-your-service" class="sidebar-link">Configuring your service</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#rest-service-identification" class="sidebar-link">REST service identification</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#administrative-endpoints" class="sidebar-link">Administrative endpoints</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#api-info" class="sidebar-link">API info</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#api-routing-information" class="sidebar-link">API routing information</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#api-catalog-information" class="sidebar-link">API Catalog information</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#authentication-parameters" class="sidebar-link">Authentication parameters</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#api-security" class="sidebar-link">API Security</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#saf-keyring-configuration" class="sidebar-link">SAF Keyring configuration</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#eureka-discovery-service" class="sidebar-link">Eureka Discovery Service</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#custom-metadata" class="sidebar-link">Custom Metadata</a></li></ul></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#registering-your-service-with-api-ml" class="sidebar-link">Registering your service with API ML</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#validating-the-discoverability-of-your-api-service-by-the-discovery-service" class="sidebar-link">Validating the discoverability of your API service by the Discovery Service</a></li><li class="sidebar-sub-header"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler.html#troubleshooting" class="sidebar-link">Troubleshooting</a></li></ul></li><li><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler-external-configuration.html" class="sidebar-link">API Mediation Layer onboarding configuration</a></li><li><a href="/stable/extend/extend-apiml/onboard-direct-eureka-call.html" class="sidebar-link">Onboarding a service with the Zowe API Meditation Layer without an onboarding enabler</a></li><li><a href="/stable/extend/extend-apiml/onboard-spring-boot-enabler.html" class="sidebar-link">Onboarding a Spring Boot based REST API Service</a></li><li><a href="/stable/extend/extend-apiml/onboard-micronaut-enabler.html" class="sidebar-link">Onboarding a Micronaut based REST API service</a></li><li><a href="/stable/extend/extend-apiml/onboard-nodejs-enabler.html" class="sidebar-link">Onboarding a Node.js based REST API service</a></li><li><a href="/stable/extend/extend-apiml/onboard-static-definition.html" class="sidebar-link">Onboard a REST API without code changes required</a></li><li><a href="/stable/extend/extend-apiml/api-mediation-sso.html" class="sidebar-link">Zowe API Mediation Layer Single-Sign-On Overview</a></li><li><a href="/stable/extend/extend-apiml/service-information.html" class="sidebar-link">Obtaining Information about API Services</a></li><li><a href="/stable/extend/extend-apiml/api-mediation-message-service.html" class="sidebar-link">API Mediation Layer Message Service Component</a></li><li><a href="/stable/extend/extend-apiml/api-mediation-security.html" class="sidebar-link">Zowe API Mediation Layer Security</a></li><li><a href="/stable/extend/extend-apiml/api-mediation-routing.html" class="sidebar-link">API Mediation Layer routing</a></li><li><a href="/stable/extend/extend-apiml/api-mediation-passtickets.html" class="sidebar-link">Enabling PassTicket creation for API Services that Accept PassTickets</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developing for Zowe Application Framework</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Developing for Zowe SDKs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stable/extend/extend-sdks.html" class="sidebar-link">Developing for Zowe SDKs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Zowe Conformance Program</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/stable/extend/zowe-conformance-program.html" class="sidebar-link">Zowe Conformance Program</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="onboarding-a-rest-api-service-with-the-plain-java-enabler-pje"><a href="#onboarding-a-rest-api-service-with-the-plain-java-enabler-pje" class="header-anchor">#</a> Onboarding a REST API service with the Plain Java Enabler (PJE)</h1> <p>This article is part of a series of onboarding guides, which outline the process of onboarding REST API services to the Zowe API Mediation Layer (API ML). As a service developer, you can onboard a REST service with the API ML with the Zowe API Mediation Layer using our Plain Java Enabler (PJE). This enabler is built without a dependency on Spring Cloud, Spring Boot, or SpringFramework.</p> <p><strong>Tip:</strong> For more information about onboarding API services with the API ML, see the <a href="/stable/extend/extend-apiml/onboard-overview.html">Onboarding Overview</a>.</p> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Zowe API ML is a lightweight API management system based on the following Netflix components:</p> <ul><li>Eureka - a discovery service used for services registration and discovery</li> <li>Zuul - reverse proxy / API Gateway</li> <li>Ribbon - load balancer</li></ul> <p>The API ML Discovery Service component uses Netflix/Eureka as a REST services registry.
Eureka endpoints are used to register a service with the API ML Discovery Service.</p> <p>The API ML provides onboarding enabler libraries. The libraries are JAR artifacts available through an artifactory. Using these libraries is the recommended approach to onboard a REST service with the API ML.</p> <p>The PJE library serves the needs of Java developers who are not using either <a href="https://spring.io/projects/spring-boot" target="_blank" rel="noopener noreferrer">Spring Boot<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or the <a href="https://spring.io/" target="_blank" rel="noopener noreferrer">Spring Framework<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If Spring Boot or the Spring framework are used in the project you would like to onboard, see the <a href="/stable/extend/extend-apiml/onboard-overview.html">Onboarding Overview</a> for the corresponding enablers.</p> <p>Additionally, this enabler is not intended for use in projects that depend on <a href="https://spring.io/projects/spring-cloud-netflix" target="_blank" rel="noopener noreferrer">Spring Cloud Netflix<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> components. Configuration settings in the PJE and Spring Cloud Netflix Eureka Client are different. Using the two configuration settings in combination makes the result state of the discovery registry unpredictable.</p> <p><strong>Tip:</strong> For more information about how to utilize another API ML enablers, see the documentation in
the <a href="/stable/extend/extend-apiml/onboard-overview.html">Onboarding Overview</a>.</p> <h2 id="onboarding-your-rest-service-with-api-ml"><a href="#onboarding-your-rest-service-with-api-ml" class="header-anchor">#</a> Onboarding your REST service with API ML</h2> <p>The following steps outline the overall process to onboard a REST service with the API ML using the PJE. Each step is described in further detail in this article.</p> <ol><li><p><a href="#prerequisites">Prerequisites</a></p></li> <li><p><a href="#configuring-your-project">Configuring your project</a></p> <ul><li><a href="#gradle-build-automation-system">Gradle build automation system</a></li> <li><a href="#maven-build-automation-system">Maven build automation system</a></li></ul></li> <li><p><a href="#configuring-your-service">Configuring your service</a></p> <ul><li><a href="#rest-service-identification">REST service identification</a></li> <li><a href="#administrative-endpoints">Administrative endpoints</a></li> <li><a href="#api-info">API info</a></li> <li><a href="#api-routing-information">API routing information</a></li> <li><a href="#api-catalog-information">API Catalog information</a></li> <li><a href="#authentication-parameters">Authentication parameters</a></li> <li><a href="#api-security">API Security</a></li> <li><a href="#saf-keyring-configuration">SAF Keyring configuration</a></li> <li><a href="#eureka-discovery-service">Eureka Discovery Service</a></li></ul></li> <li><p><a href="#registering-your-service-with-api-ml">Registering your service with API ML</a></p></li> <li><p>(Optional) <a href="#validating-the-discoverability-of-your-api-service-by-the-discovery-service">Validating the discoverability of your API service by the Discovery Service</a></p></li> <li><p>(Optional) <a href="#troubleshooting">Troubleshooting</a></p> <ul><li><a href="#log-messages-during-registration-problems">Log messages during registration problems</a></li></ul></li></ol> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Ensure that the prerequisites from the <a href="/stable/extend/extend-apiml/onboard-overview.html">Onboarding Overview</a> are met.</p> <ul><li>The REST API service to onboard is written in Java</li> <li>The service is enabled to communicate with API ML Discovery Service over a TLS v1.2 secured connection</li></ul> <p><strong>Notes:</strong></p> <ul><li><p>This documentation is valid for API ML version <code>ZoweApimlVersion 1.3.0</code> and higher. We recommend that you check the <a href="https://zowe.jfrog.io/zowe/libs-release/org/zowe/apiml/sdk/onboarding-enabler-java/" target="_blank" rel="noopener noreferrer">Zowe Artifactory<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for latest stable versions.</p></li> <li><p>Following this guide enables REST services to be deployed on a z/OS environment. Deployment to a z/OS environment, however, is not required. As such, you can first develop on a local machine before you deploy on z/OS.</p></li></ul> <h2 id="configuring-your-project"><a href="#configuring-your-project" class="header-anchor">#</a> Configuring your project</h2> <p>Use either <em>Gradle</em> or <em>Maven</em> build automation systems to configure the project with the service to be onboarded. Use the appropriate configuration procedure that corresponds to your build automation system.</p> <p><strong>Note:</strong> You can use either the Zowe Artifactory or an artifactory of your choice. If you decide to build the API ML from source, you are required to publish the enabler artifact to your artifactory. Publish the enabler artifact by using the <em>Gradle</em> tasks provided in the source code.</p> <h3 id="gradle-build-automation-system"><a href="#gradle-build-automation-system" class="header-anchor">#</a> Gradle build automation system</h3> <p>Use the following procedure to use <em>Gradle</em> as your build automation system.</p> <p><strong>Follow these steps:</strong></p> <ol><li><p>Create a <code>gradle.properties</code> file in the root of your project if one does not already exist.</p></li> <li><p>In the <code>gradle.properties</code> file, set the URL of the specific artifactory containing the PJE artifact. Provide the corresponding credentials to gain access to the Maven repository.</p> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token comment"># Repository URL for getting the enabler-java artifact</span>
<span class="token constant">artifactoryMavenRepo</span><span class="token attr-value"><span class="token punctuation">=</span>https://zowe.jfrog.io/zowe/libs-release/</span>
</code></pre></div></li> <li><p>Add the following <em>Gradle</em> code block to the <code>repositories</code> section of your <code>build.gradle</code> file:</p> <div class="language-gradle extra-class"><pre class="language-text"><code>repositories {
    ...

    maven {
        url artifactoryMavenRepo
    }
}
</code></pre></div></li> <li><p>In the same <code>build.gradle</code> file, add the necessary dependencies for your service. If you use the Java enabler from the Zowe Artifactory, add the following code block to your <code>build.gradle</code> script. Replace the <code>$zoweApimlVersion</code> with the proper version of the enabler, for example: <code>1.3.0</code>:</p> <div class="language-gradle extra-class"><pre class="language-text"><code>implementation &quot;org.zowe.apiml.sdk:onboarding-enabler-java:$zoweApimlVersion&quot;
implementation &quot;org.zowe.apiml.sdk:common-service-core:$zoweApimlVersion&quot;
</code></pre></div><p>The published artifact from the Zowe Artifactory also contains the enabler dependencies from other software packages. If you are using an artifactory other than Zowe, add also the following dependencies in your service <code>build.gradle</code> script:</p> <div class="language-gradle extra-class"><pre class="language-text"><code>implementation libraries.eureka_client
implementation libraries.httpcore
implementation libraries.jackson_databind
implementation libraries.jackson_dataformat_yaml

providedCompile libraries.javax_servlet_api
compileOnly libraries.lombok
</code></pre></div><p><strong>Notes:</strong></p> <ul><li>You may need to add more dependencies as required by your service implementation.</li> <li>The information provided in this file is valid for <code>ZoweApimlVersion 1.3.0</code> and higher.</li></ul></li> <li><p>In your project home directory, run the <code>gradle clean build</code> command to build your project. Alternatively, you can run <code>gradlew</code> to use the specific gradle version that is working with your project.</p></li></ol> <h3 id="maven-build-automation-system"><a href="#maven-build-automation-system" class="header-anchor">#</a> Maven build automation system</h3> <p>Use the following procedure if you use <em>Maven</em> as your build automation system.</p> <p><strong>Follow these steps:</strong></p> <ol><li><p>Add the following <em>XML</em> tags within the newly created <code>pom.xml</code> file:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>libs-release<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>libs-release<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://zowe.jfrog.io/zowe/libs-release/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>Tip:</strong> If you want to use snapshot version, replace <code>libs-release</code> with <code>libs-snapshot</code> in the repository url and change snapshots-&gt;enabled to <code>true</code>.</p></li> <li><p>Add the proper dependencies:</p> <div class="language-maven extra-class"><pre class="language-text"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.zowe.apiml.sdk&lt;/groupId&gt;
    &lt;artifactId&gt;onboarding-enabler-java&lt;/artifactId&gt;
    &lt;version&gt;$zoweApimlVersion&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.zowe.apiml.sdk&lt;/groupId&gt;
    &lt;artifactId&gt;common-service-core&lt;/artifactId&gt;
    &lt;version&gt;$zoweApimlVersion&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div></li> <li><p>In the directory of your project, run the <code>mvn clean package</code> command to build the project.</p></li></ol> <h2 id="configuring-your-service"><a href="#configuring-your-service" class="header-anchor">#</a> Configuring your service</h2> <p>To configure your service, create the configuration file <code>service-configuration.yml</code> in your service source tree resources directory. The default path for a java application is <code>src/main/resources</code>. The <code>service-configuration.yml</code> file is used to set the application properties and eureka metadata. Application properties are for your service runtime. For example, the <code>ssl</code> section specifies the keystore and trustore. The eureka metadata is used for registration with API Mediation Layer.</p> <p><strong>Note:</strong> To externalize service onboarding configuration, see: <a href="/stable/extend/extend-apiml/onboard-plain-java-enabler-external-configuration.html">Externalizing onboarding configuration</a>.</p> <p>The following code snippet shows an example of <code>service-configuration.yml</code>. Some parameters which are specific for your service deployment
are in <code>${parameterValue}</code> format. For your service configuration file, provide actual values or externalize your onboarding configuration.</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">serviceId</span><span class="token punctuation">:</span> sampleservice
<span class="token key atrule">title</span><span class="token punctuation">:</span> Hello API ML
<span class="token key atrule">description</span><span class="token punctuation">:</span> Sample API ML REST Service
<span class="token key atrule">baseUrl</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>samplehost<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>sampleport<span class="token punctuation">}</span>/$<span class="token punctuation">{</span>sampleservice<span class="token punctuation">}</span>
<span class="token key atrule">serviceIpAddress</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>sampleHostIpAddress<span class="token punctuation">}</span>
<span class="token key atrule">preferIpAddress</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

<span class="token key atrule">homePageRelativeUrl</span><span class="token punctuation">:</span> /application/home
<span class="token key atrule">statusPageRelativeUrl</span><span class="token punctuation">:</span> /application/info
<span class="token key atrule">healthCheckRelativeUrl</span><span class="token punctuation">:</span> /application/health

<span class="token key atrule">discoveryServiceUrls</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>discoveryServiceHost1<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>discoveryServicePort1<span class="token punctuation">}</span>/eureka
    <span class="token punctuation">-</span> https<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>discoveryServiceHost2<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>discoveryServicePort2<span class="token punctuation">}</span>/eureka

<span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api/v1
      <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span> /sampleservice/api/v1

<span class="token key atrule">authentication</span><span class="token punctuation">:</span>
   <span class="token key atrule">scheme</span><span class="token punctuation">:</span> httpBasicPassTicket
   <span class="token key atrule">applid</span><span class="token punctuation">:</span> ZOWEAPPL

<span class="token key atrule">apiInfo</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">apiId</span><span class="token punctuation">:</span> zowe.apiml.sampleservice
      <span class="token key atrule">version</span><span class="token punctuation">:</span> 1.0.0
      <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api/v1
      <span class="token key atrule">swaggerUrl</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>sampleServiceSwaggerHost<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>sampleServiceSwaggerPort<span class="token punctuation">}</span>/sampleservice/api<span class="token punctuation">-</span>doc
      <span class="token key atrule">doumentationUrl</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//
    <span class="token punctuation">-</span> <span class="token key atrule">apiId</span><span class="token punctuation">:</span> zowe.apiml.sampleservice
      <span class="token key atrule">version</span><span class="token punctuation">:</span> 2.0.0
      <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api/v2
      <span class="token key atrule">swaggerUrl</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>sampleServiceSwaggerHost<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>sampleServiceSwaggerPort<span class="token punctuation">}</span>/sampleservice/api<span class="token punctuation">-</span>doc<span class="token punctuation">?</span>group=api<span class="token punctuation">-</span>v2
      <span class="token key atrule">documentationUrl</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//
      <span class="token key atrule">defaultApi</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">catalog</span><span class="token punctuation">:</span>
    <span class="token key atrule">tile</span><span class="token punctuation">:</span>
        <span class="token key atrule">id</span><span class="token punctuation">:</span> sampleservice
        <span class="token key atrule">title</span><span class="token punctuation">:</span> Hello API ML
        <span class="token key atrule">description</span><span class="token punctuation">:</span> Sample application to demonstrate exposing a REST API in the ZOWE API ML
        <span class="token key atrule">version</span><span class="token punctuation">:</span> 1.0.0

<span class="token key atrule">ssl</span><span class="token punctuation">:</span>
   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">verifySslCertificatesOfServices</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token key atrule">protocol</span><span class="token punctuation">:</span> TLSv1.2
   <span class="token key atrule">keyAlias</span><span class="token punctuation">:</span> localhost
   <span class="token key atrule">keyPassword</span><span class="token punctuation">:</span> password
   <span class="token key atrule">keyStore</span><span class="token punctuation">:</span> keystore/localhost.keystore.p12
   <span class="token key atrule">keyStoreType</span><span class="token punctuation">:</span> PKCS12
   <span class="token key atrule">keyStorePassword</span><span class="token punctuation">:</span> password
   <span class="token key atrule">trustStore</span><span class="token punctuation">:</span> keystore/localhost.truststore.p12
   <span class="token key atrule">trustStoreType</span><span class="token punctuation">:</span> PKCS12
   <span class="token key atrule">trustStorePassword</span><span class="token punctuation">:</span> password
</code></pre></div><p><strong>Optional metadata section</strong></p> <p>The following snippet presents additional optional metadata that can be added.</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">customMetadata</span><span class="token punctuation">:</span>
    <span class="token key atrule">yourqualifier</span><span class="token punctuation">:</span>
        <span class="token key atrule">key1</span><span class="token punctuation">:</span> value1
        <span class="token key atrule">key2</span><span class="token punctuation">:</span> value2
</code></pre></div><p>The onboarding configuration parameters are broken down into the following groups:</p> <ul><li><a href="#rest-service-identification">REST service identification</a></li> <li><a href="#administrative-endpoints">Administrative endpoints</a></li> <li><a href="#api-info">API info</a></li> <li><a href="#api-routing-information">API routing information</a></li> <li><a href="#api-catalog-information">API catalog information</a></li> <li><a href="#authentication-parameters">Authentication parameters</a></li> <li><a href="#api-security">API security</a></li> <li><a href="#saf-keyring-configuration">SAF Keyring configuration</a></li> <li><a href="#eureka-discovery-service">Eureka Discovery Service</a></li> <li><a href="#custom-metadata">Custom Metadata</a></li> <li><a href="#connection-timeout">Connection Timeout</a></li></ul> <h3 id="rest-service-identification"><a href="#rest-service-identification" class="header-anchor">#</a> REST service identification</h3> <ul><li><p><strong>serviceId</strong></p> <p>The <code>serviceId</code> uniquely identifies one or more instance of a microservice in the API ML and is used as part of the service URL path in the API ML Gateway address space.
Additionally, the API ML Gateway uses the <code>serviceId</code> for routing to the API service instances.
When two API services use the same <code>serviceId</code>, the API Gateway considers the services as clones of each other.
An incoming API request can be routed to either of them through utilized load balancing mechanism.</p> <p><strong>Important!</strong>  Ensure that the <code>serviceId</code> is set properly with the following considerations:</p> <ul><li>The same <code>servicedId</code> should only be set for multiple API service instances for API scalability.</li> <li>The <code>servicedId</code> value must only contain lowercase alphanumeric characters.</li> <li>The <code>servicedId</code> cannot contain more than 40 characters.</li></ul> <p><strong>Example:</strong></p> <ul><li><p>If the <code>serviceId</code> is <code>sampleservice</code>, the service URL in the API ML Gateway address space appears as the following path:</p> <div class="language- extra-class"><pre class="language-text"><code>https://gateway-host:gateway-port/api/v1/sampleservice/...
</code></pre></div></li></ul></li> <li><p><strong>title</strong></p> <p>This parameter specifies the human readable name of the API service instance. This value is displayed in the API Catalog when a specific API service instance is selected.
This parameter can be externalized and set by the customer system administrator.</p> <p><strong>Tip:</strong> We recommend that service developer provides a default value of the <code>title</code>. Use a title that describes the service instance so that the end user knows the specific purpose of the service instance.</p></li> <li><p><strong>description</strong></p> <p>This parameter is a short description of the API service. This value is displayed in the API Catalog when a specific API service instance is selected. This parameter can be externalized and set by the customer system administrator.</p> <p><strong>Tip:</strong> Describe the service so that the end user understands the function of the service.</p></li> <li><p><strong>baseUrl</strong></p> <p>This parameter specifies the base URL for the following administrative endpoints:</p> <ul><li><strong>homePageRelativeUrl</strong></li> <li><strong>statusPageRelativeUrl</strong></li> <li><strong>healthCheckRelativeUrl</strong></li></ul> <p>Use the following format to include your service name in the URL path:</p> <p><code>protocol://host:port/servicename</code></p> <p><strong>Note:</strong> Ensure that the <code>baseUrl</code> does not end with a trailing <code>/</code>. Inclusion of <code>/</code> causes a malformed URL if any of the above administrative endpoints begin with a <code>/</code>. It is expected that each administrative endpoint begins with a <code>/</code>. Warnings will be logged if this recommendation is not followed.</p></li> <li><p><strong>serviceIpAddress</strong> (Optional)</p> <p>This parameter specifies the service IP address and can be provided by a system administrator in the externalized service configuration.
If this parameter is not present in the configuration file or is not set as a service context parameter, it is resolved from the hostname part of the <code>baseUrl</code>.</p></li> <li><p><strong>preferIpAddress</strong> (Optional)</p> <p>Set the value of this parameter to <code>true</code> to advertise a service IP address instead of its hostname.</p></li></ul> <h3 id="administrative-endpoints"><a href="#administrative-endpoints" class="header-anchor">#</a> Administrative endpoints</h3> <p>The following snippet presents the format of the administrative endpoint properties:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">homePageRelativeUrl</span><span class="token punctuation">:</span>
<span class="token key atrule">statusPageRelativeUrl</span><span class="token punctuation">:</span> /application/info
<span class="token key atrule">healthCheckRelativeUrl</span><span class="token punctuation">:</span> /application/health
</code></pre></div><p>where:</p> <ul><li><p><strong>homePageRelativeUrl</strong></p> <p>specifies the relative path to the home page of your service.</p> <p>Start this path with <code>/</code>. If your service has no home page, leave this parameter blank.</p> <p><strong>Examples:</strong></p> <ul><li><code>homePageRelativeUrl:</code> This service has no home page</li> <li><code>homePageRelativeUrl: /</code> This service has a home page with URL <code>${baseUrl}/</code></li></ul></li> <li><p><strong>statusPageRelativeUrl</strong></p> <p>specifies the relative path to the status page of your service.</p> <p>Start this path with <code>/</code>.</p> <p><strong>Example:</strong></p> <p><code>statusPageRelativeUrl: /application/info</code></p> <p>This results in the URL:
<code>${baseUrl}/application/info</code></p></li> <li><p><strong>healthCheckRelativeUrl</strong></p> <p>specifies the relative path to the health check endpoint of your service.</p> <p>Start this path with <code>/</code>.</p> <p><strong>Example:</strong></p> <p><code>healthCheckRelativeUrl: /application/health</code></p> <p>This results in the URL:
<code>${baseUrl}/application/health</code></p></li></ul> <h3 id="api-info"><a href="#api-info" class="header-anchor">#</a> API info</h3> <p>REST services can provide multiple APIs. Add API info parameters for each API that your service wants to expose on the API ML.</p> <p>The following snippet presents the information properties of a single API:</p> <div class="language- extra-class"><pre class="language-text"><code>apiInfo:
    - apiId: zowe.apiml.sampleservice
      version: 1.0.0
      gatewayUrl: api/v1
      swaggerUrl: http://localhost:10021/sampleservice/api-doc
      documentationUrl: http://your.service.documentation.url
      defaultApi: true
</code></pre></div><p>where:</p> <ul><li><p><strong>apiInfo.apiId</strong></p> <p>specifies the API identifier that is registered in the API ML installation.
The API ID uniquely identifies the API in the API ML.
The <code>apiId</code> can be used to locate the same APIs that are provided by different service instances. The API developer defines this ID.
The <code>apiId</code> must be a string of up to 64 characters
that uses lowercase alphanumeric characters and a dot: <code>.</code> .</p></li> <li><p><strong>apiInfo.version</strong></p> <p>specifies the api <code>version</code>. This parameter is used to correctly retrieve the API documentation according to requested version of the API.</p></li> <li><p><strong>apiInfo.gatewayUrl</strong></p> <p>specifies the base path at the API Gateway where the API is available.
Ensure that this value is the same path as the <code>gatewayUrl</code> value in the <code>routes</code> sections that apply to this API.</p></li> <li><p><strong>apiInfo.swaggerUrl</strong> (Optional)</p> <p>specifies the Http or Https address where the Swagger JSON document is available.</p></li> <li><p><strong>apiInfo.documentationUrl</strong> (Optional)</p> <p>specifies the link to the external documentation. A link to the external documentation can be included along with the Swagger documentation.</p></li> <li><p><strong>apiInfo.defaultApi</strong> (Optional)</p> <p>specifies that this API is the default one shown in the API Catalog. If no apiInfo fields have <code>defaultApi</code> set to <code>true</code>, the default API is the one
with the highest API <code>version</code>.</p></li></ul> <h3 id="api-routing-information"><a href="#api-routing-information" class="header-anchor">#</a> API routing information</h3> <p>The API routing group provides the required routing information used by the API ML Gateway when routing incoming requests to the corresponding REST API service.
A single route can be used to direct REST calls to multiple resources or API endpoints. The route definition provides rules used by the API ML Gateway to rewrite the URL
in the Gateway address space. Currently, the routing information consists of two parameters per route: The <code>gatewayUrl</code> and <code>serviceUrl</code>. These two parameters together specify a rule for how the API service endpoints are mapped to the API Gateway endpoints.</p> <p>The following snippet is an example of the API routing information properties.</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">routes</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api
      <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span> /sampleservice<span class="token punctuation">-</span>api
    <span class="token punctuation">-</span> <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api/v1
      <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span> /sampleservice<span class="token punctuation">-</span>api/ver1
    <span class="token punctuation">-</span> <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> api/v1/api<span class="token punctuation">-</span>doc
      <span class="token key atrule">serviceUrl</span><span class="token punctuation">:</span> /sampleservice<span class="token punctuation">-</span>api/api<span class="token punctuation">-</span>doc
</code></pre></div><p>where:</p> <ul><li><p><strong>routes</strong></p> <p>specifies the container element for the route.</p></li> <li><p><strong>routes.gatewayUrl</strong></p> <p>The <code>gatewayUrl</code> parameter specifies the portion of the gateway URL which is replaced by the <code>serviceUrl</code> path part.</p></li> <li><p><strong>routes.serviceUrl</strong></p> <p>The <code>serviceUrl</code> parameter provides a portion of the service instance URL path which replaces the <code>gatewayUrl</code> part.</p></li></ul> <p><strong>Examples:</strong></p> <ul><li><div class="language- extra-class"><pre class="language-text"><code>https://gateway:10010/api/sampleservice 
</code></pre></div>is routed to:<div class="language- extra-class"><pre class="language-text"><code>https://service:10015/sampleservice-api
</code></pre></div></li> <li>API major version 1:<div class="language- extra-class"><pre class="language-text"><code>https://gateway:10010/api/v1/sampleservice
</code></pre></div>is routed to:<div class="language- extra-class"><pre class="language-text"><code>https://service:10015/sampleservice-api/ver1
</code></pre></div></li> <li>APIs docs major version 1:<div class="language- extra-class"><pre class="language-text"><code>https://gateway:10010/api/v1/api-doc/sampleservice
</code></pre></div>is routed to:<div class="language- extra-class"><pre class="language-text"><code>https://service:10015/sampleservice-api/api-doc
</code></pre></div></li></ul> <h3 id="api-catalog-information"><a href="#api-catalog-information" class="header-anchor">#</a> API Catalog information</h3> <p>The API ML Catalog UI displays information about discoverable REST services registered with the API ML Discovery Service.
Information displayed in the Catalog is defined by the metadata provided by your service during registration. The following image is an example of a tile in the API Catalog:</p> <p><img src="/stable/assets/img/API-Catalog-Tile.26cafdf2.png" alt="Tile" title="Tile of a sample service in API Catalog"></p> <p>The Catalog groups correlated services in the same tile if these services are configured with the same <code>catalog.tile.id</code> metadata parameter.</p> <p>The following code block is an example of configuration of a service tile in the Catalog:</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>    <span class="token key atrule">catalog</span><span class="token punctuation">:</span>
      <span class="token key atrule">tile</span><span class="token punctuation">:</span>
        <span class="token key atrule">id</span><span class="token punctuation">:</span> apimediationlayer
        <span class="token key atrule">title</span><span class="token punctuation">:</span>  API Mediation Layer API
        <span class="token key atrule">description</span><span class="token punctuation">:</span> The API Mediation Layer for z/OS internal API services.
        <span class="token key atrule">version</span><span class="token punctuation">:</span> 1.0.0
</code></pre></div><p>where:</p> <ul><li><p><strong>catalog.tile.id</strong></p> <p>specifies the unique identifier for the product family of API services.
This is a value used by the API ML to group multiple API services into a single tile.
Each unique identifier represents a single API dashboard tile in the Catalog.</p> <p><strong>Tip:</strong>  Specify a value that does not interfere with API services from other products. We recommend that you use your company and product name as part of the ID.</p></li> <li><p><strong>catalog.tile.title</strong></p> <p>specifies the title of the product family of the API service. This value is displayed in the API Catalog dashboard as the tile title.</p></li> <li><p><strong>catalog.tile.description</strong></p> <p>is the detailed description of the API services product family. This value is displayed in the API Catalog UI dashboard as the tile description.</p></li> <li><p><strong>catalog.tile.version</strong></p> <p>specifies the semantic version of this API Catalog tile.</p> <p><strong>Note:</strong> Ensure that you increase the version number when you introduce changes to the API service product family details.</p></li></ul> <h3 id="authentication-parameters"><a href="#authentication-parameters" class="header-anchor">#</a> Authentication parameters</h3> <p>These parameters are not required. Parameters that are not specified results in the use of the default values.</p> <p>Authentication parameters enables a service to accept the Zowe JWT. The API Gateway translates the token to an authentication method supported by a service.</p> <p>The following example shows the parameters that define the service authentication method:</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">authentication</span><span class="token punctuation">:</span>
    <span class="token key atrule">scheme</span><span class="token punctuation">:</span> httpBasicPassTicket
    <span class="token key atrule">applid</span><span class="token punctuation">:</span> ZOWEAPPL
</code></pre></div><p>where:</p> <ul><li><p><strong>authentication.scheme</strong></p> <p>specifies a service authentication scheme.
The following schemes are supported by the API Gateway:</p> <ul><li><p><strong>bypass</strong></p> <p>This value specifies the token is passed unchanged to service.</p> <p><strong>Note:</strong> This is the default scheme when no authentication parameters are specified.</p></li> <li><p><strong>zoweJwt</strong></p> <p>This value specifies that a service accepts the Zowe JWT. No additional processing is done by the API Gateway.</p></li> <li><p><strong>httpBasicPassTicket</strong></p> <p>This value specifies that a service accepts PassTickets in the Authorization header of the HTTP requests using the basic authentication scheme.
It is necessary to provide a service APPLID in <code>authentication.applid</code> parameter.</p> <p>For more information, see <a href="/stable/extend/extend-apiml/api-mediation-passtickets.html">Enabling PassTicket creation for API Services that Accept PassTickets</a></p></li> <li><p><strong>zosmf</strong></p> <p>This value specifies that a service accepts z/OSMF LTPA (Lightweight Third-Party Authentication).
This scheme should be used only for a z/OSMF service used by the API Gateway Authentication Service and other z/OSMF services that use the same LTPA key.</p> <p>For more information about z/OSMF Single Sign-on, see <a href="https://www.ibm.com/support/knowledgecenter/SSLTBW_2.4.0/com.ibm.zosmfcore.multisysplex.help.doc/izuG00hpManageSecurityCredentials.html" target="_blank" rel="noopener noreferrer">Establishing a single sign-on environment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><strong>x509</strong></p> <p>This value specifies that a service accepts client certificates forwarded in the HTTP header. The Gateway service extracts information from a valid client certificate. To use this scheme, it is necessary to also specify which headers to include. Specify these parameters in <code>headers</code>.</p></li> <li><p><strong>headers</strong></p> <p>When the <code>x509</code> scheme is specified, use the <code>headers</code> parameter to select which values to send to a service. Use one of the following values:</p> <ul><li><p><code>X-Certificate-Public</code></p> <p>The public part of client certificate base64 encoded</p></li> <li><p><code>X-Certificate-DistinguishedName</code></p> <p>The distinguished name from client certificate</p></li> <li><p><code>X-Certificate-CommonName</code></p> <p>The common name from the client certificate</p></li></ul></li></ul></li> <li><p><strong>authentication.applid</strong></p> <p>This parameter specifies a service APPLID.
This parameter is valid only for the <code>httpBasicPassTicket</code> authentication scheme.</p></li></ul> <h3 id="api-security"><a href="#api-security" class="header-anchor">#</a> API Security</h3> <p>REST services onboarded with the API ML act as both a client and a server. When communicating to API ML Discovery service, a REST service acts as a client. When the API ML Gateway is routing requests to a service, the REST service acts as a server.
These two roles have different requirements.
The Zowe API ML Discovery Service communicates with its clients in secure Https mode. As such, TLS/SSL configuration setup is required when a service is acting as a server. In this case, the system administrator decides if the service will communicate with its clients securely or not.</p> <p>Client services need to configure several TLS/SSL parameters in order to communicate with the API ML Discovery service.
When an enabler is used to onboard a service, the configuration is provided in the <code>ssl</code> section/group in the same <em>YAML</em> file that is used to configure the Eureka parameters and the service metadata.</p> <p>For more information about API ML security see: <a href="/stable/extend/extend-apiml/api-mediation-security.html">API ML security</a></p> <p>TLS/SSL configuration consists of the following parameters:</p> <ul><li><p><strong>verifySslCertificatesOfServices</strong></p> <p>This parameter makes it possible to prevent server certificate validation.</p> <p><strong>Important!</strong> Ensure that this parameter is set to <code>true</code> in production environments. Setting this parameter to <code>false</code> in production environments significantly degrades the overall security of the system.</p></li> <li><p><strong>protocol</strong></p> <p>This parameter specifies the TLS protocol version currently used by Zowe API ML Discovery Service.</p> <p><strong>Tip:</strong> We recommend you use <code>TLSv1.2</code> as your security protocol</p></li> <li><p><strong>keyAlias</strong></p> <p>This parameter specifies the <code>alias</code> used to address the private key in the keystore.</p></li> <li><p><strong>keyPassword</strong></p> <p>This parameter specifies the password associated with the private key.</p></li> <li><p><strong>keyStore</strong></p> <p>This parameter specifies the keystore file used to store the private key. When using keyring, this should be set to SAF keyring location. For information about required certificates, see <a href="/stable/extend/extend-apiml/api-mediation-security.html#Zowe-API-ML-TLS-requirements">Zowe API ML TLS requirements</a>.</p></li> <li><p><strong>keyStorePassword</strong></p> <p>This parameter specifies the password used to unlock the keystore.</p></li> <li><p><strong>keyStoreType</strong></p> <p>This parameter specifies the type of the keystore.</p></li> <li><p><strong>trustStore</strong></p> <p>This parameter specifies the truststore file used to keep other parties public keys and certificates. When using keyring, this should be set to SAF keyring location. For information about required certificates, see <a href="/stable/extend/extend-apiml/api-mediation-security.html#Zowe-API-ML-TLS-requirements">Zowe API ML TLS requirements</a>.</p></li> <li><p><strong>trustStorePassword: password</strong></p> <p>This parameter specifies the password used to unlock the truststore.</p></li> <li><p><strong>trustStoreType: PKCS12</strong></p> <p>This parameter specifies the truststore type. The default for this parameter is PKCS12.</p></li></ul> <p><strong>Notes:</strong></p> <ul><li>Ensure that you define both the key store and the trust store even if your server is not using an Https port.</li></ul> <h3 id="saf-keyring-configuration"><a href="#saf-keyring-configuration" class="header-anchor">#</a> SAF Keyring configuration</h3> <p>You can choose to use SAF keyring instead of keystore and truststore for storing certificates.
For information about required certificates, see <a href="/stable/extend/extend-apiml/api-mediation-security.html#Zowe-API-ML-TLS-requirements">Zowe API ML TLS requirements</a>. For information about running Java on z/OS with keyring, see <a href="/stable/extend/extend-apiml/api-mediation-security.html#API-ML-SAF-Keyring">SAF Keyring</a>. Make sure that the enabler can access and read the keyring. Please refer to documentation of your security system for details.</p> <p>The following example shows enabler configuration with keyrings:</p> <div class="language- extra-class"><pre class="language-text"><code>ssl:
    keyAlias: localhost
    keyPassword: password
    keyStore: safkeyring:////my_racf_id/my_key_ring
    keyStorePassword: password
    keyStoreType: JCERACFKS
    trustStore: safkeyring:////my_racf_id/my_key_ring
    trustStoreType: JCERACFKS
    trustStorePassword: password
</code></pre></div><h3 id="eureka-discovery-service"><a href="#eureka-discovery-service" class="header-anchor">#</a> Eureka Discovery Service</h3> <p>The Eureka Discovery Service parameters group contains a single parameter used to address Eureka Discovery Service location.
An example is presented in the following snippet:</p> <p><strong>Example:</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">discoveryServiceUrls</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> https<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>10011/eureka
<span class="token punctuation">-</span> http<span class="token punctuation">:</span>//<span class="token punctuation">...</span><span class="token punctuation">...</span>
</code></pre></div><p>where:</p> <ul><li><p><strong>discoveryServiceUrls</strong></p> <p>Specifies the public URL of the Discovery Service. The system administrator at the customer site defines this parameter.
It is possible to provide multiple values in order to utilize fail over and/or load balancing mechanisms.</p></li></ul> <h3 id="custom-metadata"><a href="#custom-metadata" class="header-anchor">#</a> Custom Metadata</h3> <p>Custom metadata are described <a href="/stable/extend/extend-apiml/custom-metadata.html">here</a>.</p> <h2 id="registering-your-service-with-api-ml"><a href="#registering-your-service-with-api-ml" class="header-anchor">#</a> Registering your service with API ML</h2> <p>The following steps outline the process of registering your service with API ML. Each step is described in detail in this article. The process describes the integration with the usage of the Java application server. The guideline is tested with the Tomcat application server. The specific steps that apply for other application servers may differ.</p> <ol><li>Add a web application context listener class</li> <li>Register a web application context listener</li> <li>Load service configuration</li> <li>Register with Eureka discovery service</li> <li>Unregister your service</li></ol> <p><strong>Follow these steps:</strong></p> <ol><li><p>Implement and add a web application context listener class</p> <p><code>implements javax.servlet.ServletContextListener</code></p> <p>The web application context listener implements two methods to perform necessary actions at application start-up time as well as when the application context is destroyed:</p> <ul><li>The <code>contextInitialized</code> method invokes the <code>apiMediationClient.register(config)</code> method to register the application with API Mediation Layer when the application starts.</li> <li>The <code>contextDestroyed</code> method invokes the <code>apiMediationClient.unregister()</code> method when the application shuts down. This unregisters the application from the API Mediation Layer.</li></ul></li> <li><p>Register a web application context listener.</p> <p>Add the following code block to the deployment descriptor <code>web.xml</code> to register a context listener:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>com.your.package.ApiDiscoveryListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>Load the service configuration.</p> <p>Load your service configuration from a file <code>service-configuration.yml</code> file.
The configuration parameters are described in the preceding section, <a href="#configuring-your-service">Configuring your service</a>.</p> <p>Use the following code as an example of how to load the service configuration.</p> <p><strong>Example:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token class-name">String</span> configurationFile <span class="token operator">=</span> <span class="token string">&quot;/service-configuration.yml&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ApiMediationServiceConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiMediationServiceConfigReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loadConfiguration</span><span class="token punctuation">(</span>configurationFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><p><strong>Note:</strong> The <code>ApiMediationServiceConfigReader</code> class also provides other methods for loading the configuration from two files, <code>java.util.Map</code> instances, or directly from a string. Check the <code>ApiMediationServiceConfigReader</code> class JavaDoc for details.</p></li> <li><p>Register with Eureka Discovery Service.</p> <p>Use the following call to register your service instance with Eureka Discovery Service:</p> <p><strong>Example:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
    apiMediationClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ApiMediationClientImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    apiMediationClient<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ServiceDefinitionException</span> sde<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Service configuration failed. Check log for previous errors: &quot;</span><span class="token punctuation">,</span> sde<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>Unregister your service.</p> <p>Use the <code>contextDestroyed</code> method to unregister your service instance from Eureka Discovery Service in the following format:</p> <p><strong>Example:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>apiMediationClient <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        apiMediationClient<span class="token punctuation">.</span><span class="token function">unregister</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    apiMediationClient <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p>The following code block is a full example of a context listener class implementation.</p> <p><strong>Example:</strong></p> <div class="language- extra-class"><pre><code>import org.zowe.apiml.eurekaservice.client.ApiMediationClient;
import org.zowe.apiml.eurekaservice.client.config.ApiMediationServiceConfig;
import org.zowe.apiml.eurekaservice.client.impl.ApiMediationClientImpl;
import org.zowe.apiml.eurekaservice.client.util.ApiMediationServiceConfigReader;
import org.zowe.apiml.exception.ServiceDefinitionException;
import lombok.extern.slf4j.Slf4j;

import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;

/**
 *  API ML Micro service implementation of ServletContextListener interface.
 */
@Slf4j
public class ApiDiscoveryListener implements ServletContextListener {

    /**
     * @{link ApiMediationClient} instance used to register and unregister the service with API ML Discovery service.
     */
    private ApiMediationClient apiMediationClient;

    /**
     *  Loads a {@link ApiMediationServiceConfig} using an instance of class ApiMediationServiceConfigReader
     *  and registers this micro service with API ML.
     *
     *  {@link ApiMediationServiceConfigReader} has several methods for loading configuration from YAML file,
     *  {@link java.util.Map} or a string containing the configuration data.
     *
     *  Here we use the most convenient method for our Java Servlet based service,
     *  i.e expecting all the necessary initialization information to be present
     *  in the  {@link javax.servlet.ServletContext} init parameters.

     *  After successful initialization, this method creates an {@link ApiMediationClient} instance,
     *  which is then used to register this service with API ML Discovery Service.
     *
     *  The registration method of ApiMediationClientImpl catches all RuntimeExceptions
     *  and only can throw {@link ServiceDefinitionException} checked exception.
     *
     * @param sce
     */
    @Override
    public void contextInitialized(ServletContextEvent sce) {
        try {
            /*
             * Load configuration method with ServletContext
             */
            ApiMediationServiceConfig config = new ApiMediationServiceConfigReader().loadConfiguration(sce.getServletContext());
            if (config  != null) {
                /*
                 * Instantiate {@link ApiMediationClientImpl} which is used to un/register the service with API ML Discovery Service.
                 */
                apiMediationClient = new ApiMediationClientImpl();

                /*
                 * Call the {@link ApiMediationClient} instance to register your micro service with API ML Discovery Service.
                 */
                apiMediationClient.register(config);
            }
        } catch (ServiceDefinitionException sde) {
            log.error(&quot;Service configuration failed. Check log for previous errors: &quot;, sde);
        }
    }

    /**
     * If apiMediationClient is not null, attempt to unregister this service from API ML registry.
     */
    @Override
    public void contextDestroyed(ServletContextEvent sce) {
        if (apiMediationClient != null) {
            apiMediationClient.unregister();
        }

        apiMediationClient = null;
    }
}
</code></pre></div><h2 id="validating-the-discoverability-of-your-api-service-by-the-discovery-service"><a href="#validating-the-discoverability-of-your-api-service-by-the-discovery-service" class="header-anchor">#</a> Validating the discoverability of your API service by the Discovery Service</h2> <p>Once you are able to build and start your service successfully, you can use the option of validating that your service is registered correctly with the API ML Discovery Service.</p> <p><strong>Follow these steps:</strong></p> <ol><li><p><a href="/stable/extend/extend-apiml/onboard-overview.html#verify-successful-onboarding-to-the-api-ml">Validate successful onboarding</a></p></li> <li><p>Check that you can access your API service endpoints through the Gateway.</p></li> <li><p>(Optional) Check that you can access your API service endpoints directly outside of the Gateway.</p></li></ol> <p>Specific addresses and user credentials for the individual API ML components depend on your target runtime environment.</p> <p><strong>Note:</strong> If you are working with local installation of API ML and you are using our dummy identity provider, enter <code>user</code>
for both <code>username</code> and <code>password</code>. If API ML was installed by system administrators, ask them to provide you
with actual addresses of API ML components and the respective user credentials.</p> <p><strong>Tip:</strong> Wait for the Discovery Service to discover your service. This process may take a few minutes after your service was successfully started.</p> <h2 id="troubleshooting"><a href="#troubleshooting" class="header-anchor">#</a> Troubleshooting</h2> <h4 id="log-messages-during-registration-problems"><a href="#log-messages-during-registration-problems" class="header-anchor">#</a> Log messages during registration problems</h4> <p>When an Enabler connects to the Discovery service and fails, an error message prints to the Enabler log. The default setting does not suppress these messages as they are useful to resolve problems during the Enabler registration. Possible reasons for failure include the location of Discovery service is not correct, the Discovery Service is down, or the TLS certificate is invalid.</p> <p>These messages continue to print to the Enabler log, while the Enabler retries to connect to the Discovery Service.
To fully suppress these messages in your logging framework, set the log levels to <code>OFF</code> on the following loggers:</p> <div class="language- extra-class"><pre><code>com.netflix.discovery.DiscoveryClient, com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient
</code></pre></div><p>Some logging frameworks provide other tools to suppress repeated messages. Consult the documentation of the logging framework you use to find out what tools are available. The following example demonstrates how the Logback framework can be used to suppress repeated messages.</p> <p><strong>Example:</strong></p> <p>The Logback framework provides a filter tool, <a href="http://logback.qos.ch/manual/filters.html#DuplicateMessageFilter" target="_blank" rel="noopener noreferrer">DuplicateMessageFilter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Add the following code to your configuration file if you use XML configuration:</p> <div class="language- extra-class"><pre><code>&lt;turboFilter class=&quot;ch.qos.logback.classic.turbo.DuplicateMessageFilter&quot;&gt;
    &lt;AllowedRepetitions&gt;0&lt;/AllowedRepetitions&gt;
&lt;/turboFilter&gt;
</code></pre></div><p><strong>Note:</strong> For more information, see the <a href="https://github.com/zowe/api-layer/blob/master/apiml-common/src/main/resources/logback.xml" target="_blank" rel="noopener noreferrer">full configuration used in the Core Services<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in GitHub.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zowe/docs-site/edit/master/docs/extend/extend-apiml/onboard-plain-java-enabler.md" target="_blank" rel="noopener noreferrer">Propose content change in GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/25/2021, 8:50:29 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/stable/extend/extend-apiml/onboard-overview.html" class="prev">
        Onboarding Overview
      </a></span> <span class="next"><a href="/stable/extend/extend-apiml/onboard-plain-java-enabler-external-configuration.html">
        API Mediation Layer onboarding configuration
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/stable/assets/js/app.d4e4d04d.js" defer></script><script src="/stable/assets/js/7.cc74b79f.js" defer></script><script src="/stable/assets/js/3.4dacec81.js" defer></script><script src="/stable/assets/js/37.e094a3cb.js" defer></script>
  </body>
</html>
