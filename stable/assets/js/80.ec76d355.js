(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{634:function(t,s,e){"use strict";e.r(s);var a=e(18),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"obtaining-information-about-api-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#obtaining-information-about-api-services"}},[t._v("#")]),t._v(" Obtaining Information about API Services")]),t._v(" "),e("p",[t._v("As an API Mediation Layer user, information about API services can be obtained for various purposes. The following list presents some of the use cases for using the API Mediation Layer:")]),t._v(" "),e("ul",[e("li",[t._v("To display available services based on a particular criterion (API ID, hostname, or custom metadata)")]),t._v(" "),e("li",[t._v("To locate a specific API service based on one or more specific criteria (for example the API ID)")]),t._v(" "),e("li",[t._v("To obtain information that permits routing through the API Gateway such as "),e("em",[t._v("baseUrl")]),t._v(" or "),e("em",[t._v("basePath")])]),t._v(" "),e("li",[t._v("To obtain information about an API service, the service APIs, or instances of the service")])]),t._v(" "),e("p",[t._v("This article provides further detail about each of these use cases.")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#api-id-in-the-api-mediation-layer"}},[t._v("API ID in the API Mediation Layer")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#protection-of-service-information"}},[t._v("Protection of Service Information")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#api-endpoints"}},[t._v("API Endpoints")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#obtain-information-about-a-specific-service"}},[t._v("Obtain Information about a  Specific Service")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#obtain-information-about-all-services"}},[t._v("Obtain Information about All Services")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#obtain-information-about-all-services-with-a-specific-api-id"}},[t._v("Obtain Information about All Services with a Specific API ID")])])])])]),t._v(" "),e("h2",{attrs:{id:"api-id-in-the-api-mediation-layer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-id-in-the-api-mediation-layer"}},[t._v("#")]),t._v(" API ID in the API Mediation Layer")]),t._v(" "),e("p",[t._v("The "),e("em",[t._v("API ID")]),t._v(" uniquely identifies the API in the API ML. The API ID can be used to locate the same APIs that are provided by different service instances. The API developer defines this ID.")]),t._v(" "),e("p",[t._v("For more information about "),e("em",[t._v("baseUrl")]),t._v(" or "),e("em",[t._v("basePath")]),t._v(", see "),e("RouterLink",{attrs:{to:"/extend/extend-apiml/api-mediation-components-of-URL.html"}},[t._v("Components of URL")]),t._v(".")],1),t._v(" "),e("h2",{attrs:{id:"protection-of-service-information"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#protection-of-service-information"}},[t._v("#")]),t._v(" Protection of Service Information")]),t._v(" "),e("p",[t._v("Information about API services is considered sensitive as it contains partial information about the internal topology of the mainframe system. As such, this information should be made accessible only by authorized users and services.")]),t._v(" "),e("p",[t._v("Access to this information requires authentication using mainframe credentials, and a SAF resource check is done. The resource class and resource is defined in the "),e("code",[t._v("ZWESECUR")]),t._v(" job. You can find more details about the "),e("code",[t._v("ZWESECUR")]),t._v(" job in "),e("RouterLink",{attrs:{to:"/user-guide/configure-zos-system.html"}},[t._v("Configuring the z/OS system for Zowe")]),t._v(".")],1),t._v(" "),e("p",[t._v("The security administrator needs to permit READ access to the "),e("code",[t._v("APIML.SERVICES")]),t._v(" resource in the "),e("code",[t._v("ZOWE")]),t._v(" resource class to the your that can access the information about API services.")]),t._v(" "),e("p",[t._v("In IBM RACF, the access to the service information can be given by:")]),t._v(" "),e("div",{staticClass:"language-txt extra-class"},[e("pre",{pre:!0,attrs:{class:"language-txt"}},[e("code",[t._v("PERMIT APIML.SERVICES CLASS(ZOWE) ID(user) ACCESS(READ)\n")])])]),e("p",[t._v("In CA Top Secret:")]),t._v(" "),e("div",{staticClass:"language-txt extra-class"},[e("pre",{pre:!0,attrs:{class:"language-txt"}},[e("code",[t._v("TSS PERMIT(user) ZOWE(APIML.SERVICES) ACCESS(READ)\n")])])]),e("p",[t._v("In ACF2:")]),t._v(" "),e("div",{staticClass:"language-txt extra-class"},[e("pre",{pre:!0,attrs:{class:"language-txt"}},[e("code",[t._v("SET RESOURCE(ZWE)\nRECKEY APIML ADD(SERVICES SERVICE(READ) ROLE(user) ALLOW)\nF ACF2,REBUILD(ZWE)\n")])])]),e("p",[t._v("API Gateway can be configured to check for SAF resource authorization in several ways. For details, see "),e("RouterLink",{attrs:{to:"/user-guide/api-mediation/api-gateway-configuration.html#saf-resource-checking"}},[t._v("SAF Resource Checking")])],1),t._v(" "),e("h2",{attrs:{id:"api-endpoints"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-endpoints"}},[t._v("#")]),t._v(" API Endpoints")]),t._v(" "),e("h3",{attrs:{id:"obtain-information-about-a-specific-service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#obtain-information-about-a-specific-service"}},[t._v("#")]),t._v(" Obtain Information about a Specific Service")]),t._v(" "),e("p",[t._v("Use the following method to get information about a specific service:")]),t._v(" "),e("p",[e("code",[t._v("GET /gateway/api/v1/services/{serviceId}")])]),t._v(" "),e("p",[t._v("where:")]),t._v(" "),e("ul",[e("li",[e("strong",[e("code",[t._v("{serviceId}")])]),t._v(" is the service ID of the API service (Example: "),e("code",[t._v("apicatalog")]),t._v(")")])]),t._v(" "),e("p",[t._v("This method returns a JSON response that describes the service. For more information, see "),e("a",{attrs:{href:"#response-format"}},[t._v("Response Format")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"obtain-information-about-all-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#obtain-information-about-all-services"}},[t._v("#")]),t._v(" Obtain Information about All Services")]),t._v(" "),e("p",[t._v("Use the following method to get information about all services:")]),t._v(" "),e("p",[e("code",[t._v("GET /gateway/api/v1/services")])]),t._v(" "),e("p",[t._v("This method returns a JSON response with a list of all services. For more information, see "),e("a",{attrs:{href:"#response-format"}},[t._v("Response Format")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"obtain-information-about-all-services-with-a-specific-api-id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#obtain-information-about-all-services-with-a-specific-api-id"}},[t._v("#")]),t._v(" Obtain Information about All Services with a Specific API ID")]),t._v(" "),e("p",[t._v("Use the following method to get information about all services with a specific API ID:")]),t._v(" "),e("p",[e("code",[t._v("GET /gateway/api/v1/services?apiId={apiId}")])]),t._v(" "),e("p",[t._v("where:")]),t._v(" "),e("ul",[e("li",[e("strong",[e("code",[t._v("{apiId}")])]),t._v(" is the API ID that represents required API (e.g. "),e("code",[t._v("zowe.apiml.apicatalog")]),t._v(")")])]),t._v(" "),e("p",[t._v("This method returns a JSON response with a list of services provided by a specified API ID. For more information, see "),e("a",{attrs:{href:"#response-format"}},[t._v("Response Format")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"response-format"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response-format"}},[t._v("#")]),t._v(" Response Format")]),t._v(" "),e("p",[t._v("This section provides basic information about the structure of the response. The full reference on the field in the response is presented in the API Catalog.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("apiml")]),t._v(" section provides information about the following points:")]),t._v(" "),e("ul",[e("li",[t._v("The service in the "),e("code",[t._v("service")]),t._v(" subsection is displayed.")]),t._v(" "),e("li",[t._v("The APIs that are provided by the service in the "),e("code",[t._v("apiInfo")]),t._v(" section. This section presents each major API version that is provided by at least one instance. For each major version, the lowest minor version is displayed.")]),t._v(" "),e("li",[t._v("The authentication methods that are supported by all instances are displayed.")])]),t._v(" "),e("p",[t._v("API clients can use this information to locate the API based on API ID. "),e("code",[t._v("baseUrl")]),t._v(" or "),e("code",[t._v("basePath")]),t._v(" are used to access the API through the API Gateway.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("instances")]),t._v(" section contains more details about the instances of the service. An API service can provide more application specific details in "),e("code",[t._v("customMetadata")]),t._v(" that can be used by API clients. Do not use information in this section for use cases that API Gateway supports, such as routing or load balancing.")]),t._v(" "),e("p",[e("strong",[t._v("Example:")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"apiml"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"apiInfo"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"apiId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zowe.sample"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"basePath"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/zowesample/api/v1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"baseUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://sys1.acme.net:7554/zowesample/api/v1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"defaultApi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"documentationUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://docs.zowe.org/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"gatewayUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api/v1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"swaggerUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://sys1.acme.net:7554/casample/api/v1/apiDocs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"authentication"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"applid"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TSTAPPL"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scheme"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zoweJwt"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"supportsSso"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"service"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Sample Spring Boot API service that provides Zowe-conformant REST API"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homePageUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://sys1.acme.net:7554/casample/ui/v1/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Zowe Sample API Service"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"instances"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"instanceId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homePageUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://sys1.acme.net:10080/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hostname"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sys1.acme.net"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"customMetadata"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"zos.sysname"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SYS1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"serviceId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zowesample"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"UP"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);