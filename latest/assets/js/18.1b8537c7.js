(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{177:function(e,t,i){e.exports=i.p+"assets/img/apiml-components.dc19f00d.svg"},233:function(e,t,i){"use strict";i.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"zowe-api-mediation-layer-security"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zowe-api-mediation-layer-security","aria-hidden":"true"}},[this._v("#")]),this._v(" Zowe API Mediation Layer Security")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ol",[i("li",[i("a",{attrs:{href:"#introduction-and-requirements"}},[e._v("Introduction and requirements")]),e._v(" "),i("ol",[i("li",[i("a",{attrs:{href:"#transport-level-security"}},[e._v("Transport-level Security")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#authentication"}},[e._v("Authentication")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#authorization"}},[e._v("Authorization")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#types-of-services"}},[e._v("Types of services")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#transport-security-requirements"}},[e._v("Transport Security Requirements")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#authentication-1"}},[e._v("Authentication")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#trust-stores-and-key-stores"}},[e._v("Trust stores and key stores")])])])]),e._v(" "),i("li",[i("a",{attrs:{href:"#client-certificates"}},[e._v("Client Certificates")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#certificate-management-in-zowe-api-mediation-layer"}},[e._v("Certificate Management in Zowe API Mediation Layer")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#running-on-localhost"}},[e._v("Running on localhost")]),e._v(" "),i("ol",[i("li",[i("a",{attrs:{href:"#how-to-start-apiml-on-localhost-with-full-https"}},[e._v("How to start APIML on localhost with full HTTPS")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#certificate-management-script"}},[e._v("Certificate management script")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#generating-own-certificates-for-localhost"}},[e._v("Generating own certificates for localhost")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#generating-certificate-for-a-new-service-on-localhost"}},[e._v("Generating certificate for a new service on localhost")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#add-a-service-with-an-existing-certificate-to-apiml-on-localhost"}},[e._v("Add a service with an existing certificate to APIML on localhost")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#zowe-runtime-on-zos"}},[e._v("Zowe runtime on z/OS")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#certificates-for-zos-installation-from-the-zowe-pax-file"}},[e._v("Certificates for z/OS installation from the Zowe PAX file")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#generating-certificate-for-a-new-service-on-localhost-1"}},[e._v("Generating certificate for a new service on localhost")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#add-a-service-with-an-existing-certificate-to-apiml-on-localhost-1"}},[e._v("Add a service with an existing certificate to APIML on localhost")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"introduction-and-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction-and-requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction and requirements")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"transport-level-security"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transport-level-security","aria-hidden":"true"}},[this._v("#")]),this._v(" Transport-level Security")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"authentication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Authentication")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("user ID and password (and authentication tokes retrieved by using user ID and password)\n"),t("ul",[t("li",[this._v("requests originate from a user")]),this._v(" "),t("li",[this._v("user ID and password are validated by z/OS security manager and then the token is used to access the API service")])])]),this._v(" "),t("li",[this._v("TLS client certificates - for service-only requests")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"authorization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authorization","aria-hidden":"true"}},[this._v("#")]),this._v(" Authorization")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"types-of-services"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#types-of-services","aria-hidden":"true"}},[this._v("#")]),this._v(" Types of services")])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("Gateway Service (GW)")]),this._v(" "),t("ul",[t("li",[this._v("The gateway is the access point for API clients that need to access API services")]),this._v(" "),t("li",[this._v("API Services can be accessed via the gateway by API Clients")]),this._v(" "),t("li",[this._v("Gateway gets information about API Service from Discovery Service")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("Discovery Service (DS)")]),this._v(" "),t("ul",[t("li",[this._v("The discovery service collects information about API Services and provides it to GW and other services")]),this._v(" "),t("li",[this._v("API Mediation services are registered to it too")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("API Catalog (AC)")]),this._v(" "),t("ul",[t("li",[this._v("Displays information about API services in a web UI")]),this._v(" "),t("li",[this._v("Gets information about API Service from Discovery Service")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("Non-APIML Zowe Core services (zLUX, Atlas)")]),this._v(" "),t("ul",[t("li",[this._v("They are like other regular API Client and Service described below")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("API Clients")]),this._v(" "),t("ul",[t("li",[this._v("API Clients are external applications, users, or other API services that are accessing the API services via the GW")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",[i("p",[e._v("API Services")]),e._v(" "),i("ul",[i("li",[e._v("API Services are applications that want to be accessed via the gateway")]),e._v(" "),i("li",[e._v("They register themselves to the DS")]),e._v(" "),i("li",[e._v("API Services can always access other services via GW")]),e._v(" "),i("li",[e._v("API Services can sometimes access other services without GW (in case that they are installed in such way that direct access is possible)")]),e._v(" "),i("li",[e._v("API Services can be API Clients to (when they access other services)")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Following diagram show basic relationships between services:\n"),t("img",{attrs:{src:i(177),alt:"Services Diagram"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"transport-security-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transport-security-requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Transport Security Requirements")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("p",[e._v("API Client")]),e._v(" "),i("ul",[i("li",[e._v("Is not a server")]),e._v(" "),i("li",[e._v("Needs to trust GW")]),e._v(" "),i("li",[e._v("Has a trust store that contains certificate(s) needed to trust GW")])])]),e._v(" "),i("li",[i("p",[e._v("Gateway Service")]),e._v(" "),i("ul",[i("li",[e._v("Provides HTTPS port")]),e._v(" "),i("li",[e._v("Has a key store with the server certificate\n"),i("ul",[i("li",[e._v("The certificate needs to be trusted by API Clients")]),e._v(" "),i("li",[e._v("This certificate should be trusted by web browsers because GW be used to display web UIs")])])]),e._v(" "),i("li",[e._v("Has a trust store that contains certificates needed to trust API Services")])])]),e._v(" "),i("li",[i("p",[e._v("API Catalog")]),e._v(" "),i("ul",[i("li",[e._v("Provides HTTPS port")]),e._v(" "),i("li",[e._v("Has a key store with the server certificate\n"),i("ul",[i("li",[e._v("The certificate needs to be trusted by GW")]),e._v(" "),i("li",[e._v("This certificate does not need to be trusted by anyone else")])])])])]),e._v(" "),i("li",[i("p",[e._v("Discovery Service")]),e._v(" "),i("ul",[i("li",[e._v("Provides HTTPS port")]),e._v(" "),i("li",[e._v("Has a key store with the server certificate\n"),i("ul",[i("li",[e._v("The certificate needs to be trusted by API Clients")])])]),e._v(" "),i("li",[e._v("Has a trust store that contains certificates needed to trust API Services")])])]),e._v(" "),i("li",[i("p",[e._v("API Service")]),e._v(" "),i("ul",[i("li",[e._v("Provides HTTPS port")]),e._v(" "),i("li",[e._v("Has a key store with the server and client certificate\n"),i("ul",[i("li",[e._v("The server certificate needs to be trusted by GW")]),e._v(" "),i("li",[e._v("The client certificate needs to be trusted by DS")]),e._v(" "),i("li",[e._v("The client and server certificates can be the same")]),e._v(" "),i("li",[e._v("These certificates do not need to be trusted by anyone else")])])]),e._v(" "),i("li",[e._v("Has a trust store that contains certificate(s) needed to trust GW and DS")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"authentication-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authentication-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Authentication")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("p",[e._v("API Gateway")]),e._v(" "),i("ul",[i("li",[e._v("API gateway does not handle authentication right now - requests are sent to the API services who need to handle authentication")])])]),e._v(" "),i("li",[i("p",[e._v("API Catalog")]),e._v(" "),i("ul",[i("li",[e._v("API catalog is accessed by users and it needs to be protected by a login")]),e._v(" "),i("li",[e._v("This is done via Authentication and Authorization Service")])])]),e._v(" "),i("li",[i("p",[e._v("Discovery Service")]),e._v(" "),i("ul",[i("li",[e._v("DS is accessed by API Services")]),e._v(" "),i("li",[e._v("This access (reading information and registration) needs to be protected by client certificate")]),e._v(" "),i("li",[e._v("Access can be allowed to users (administrators) - optional")])])]),e._v(" "),i("li",[i("p",[e._v("API Services")]),e._v(" "),i("ul",[i("li",[e._v("It is up to the service")]),e._v(" "),i("li",[e._v("It should be using Authentication and Authorization Service for authentication")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"trust-stores-and-key-stores"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#trust-stores-and-key-stores","aria-hidden":"true"}},[this._v("#")]),this._v(" Trust stores and key stores")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("A "),t("em",[this._v("key store")]),this._v(" is a repository of security certificates - either authorization certificates or public key certificates - plus corresponding private keys, used in TLS encryption. It can be stored in Java specific format (JKS) or use the standard format (PKCS12). The Zowe APIML is using PKCS12 so the key stores can be used\nby other technologies used in Zowe (Node.js).")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("Contains local CA certificate and its private key (needs to be store securely)")]),this._v(" "),t("li",[this._v("It is used to sign certificates of services")]),this._v(" "),t("li",[this._v("Its certificate is trusted by API services and clients")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("server certificate of GW (with PK) - can be signed by local CA or external CA")]),this._v(" "),t("li",[this._v("server certificate of DS (with PK) - can be signed by local CA")]),this._v(" "),t("li",[this._v("server certificate of AC (with PK) - can be signed by local CA")]),this._v(" "),t("li",[this._v("used by APIML services")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("contains local CA public certificate")]),this._v(" "),t("li",[this._v("contains external CA public certificate (optional)")]),this._v(" "),t("li",[this._v("can contain self-signed certificates of API Services that are not signed by local or external CA")]),this._v(" "),t("li",[this._v("used by APIML services")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("they can use the same key store and trust store as APIML for simpler installation and management")]),this._v(" "),t("li",[this._v("or they can have individual stores for higher security")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("contains server and client certificate signed by local CA")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("contains local CA and external CA certificates (optional)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"client-certificates"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client-certificates","aria-hidden":"true"}},[this._v("#")]),this._v(" Client Certificates")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"certificate-management-in-zowe-api-mediation-layer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#certificate-management-in-zowe-api-mediation-layer","aria-hidden":"true"}},[this._v("#")]),this._v(" Certificate Management in Zowe API Mediation Layer")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"running-on-localhost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-on-localhost","aria-hidden":"true"}},[this._v("#")]),this._v(" Running on localhost")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"how-to-start-apiml-on-localhost-with-full-https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-start-apiml-on-localhost-with-full-https","aria-hidden":"true"}},[this._v("#")]),this._v(" How to start APIML on localhost with full HTTPS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"certificate-management-script"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#certificate-management-script","aria-hidden":"true"}},[this._v("#")]),this._v(" Certificate management script")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"generating-own-certificates-for-localhost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generating-own-certificates-for-localhost","aria-hidden":"true"}},[this._v("#")]),this._v(" Generating own certificates for localhost")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Use the following script in the root of the "),t("code",[this._v("api-layer")]),this._v(" repository:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",[this._v("scripts/apiml_cm.sh --action setup\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"generating-certificate-for-a-new-service-on-localhost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generating-certificate-for-a-new-service-on-localhost","aria-hidden":"true"}},[this._v("#")]),this._v(" Generating certificate for a new service on localhost")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"add-a-service-with-an-existing-certificate-to-apiml-on-localhost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-a-service-with-an-existing-certificate-to-apiml-on-localhost","aria-hidden":"true"}},[this._v("#")]),this._v(" Add a service with an existing certificate to APIML on localhost")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"zowe-runtime-on-z-os"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zowe-runtime-on-z-os","aria-hidden":"true"}},[this._v("#")]),this._v(" Zowe runtime on z/OS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"certificates-for-z-os-installation-from-the-zowe-pax-file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#certificates-for-z-os-installation-from-the-zowe-pax-file","aria-hidden":"true"}},[this._v("#")]),this._v(" Certificates for z/OS installation from the Zowe PAX file")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("They are generated by the certificate management script "),t("code",[this._v("apiml_cm.sh")]),this._v(" that is installed to "),t("code",[this._v("$ZOWE_ROOT_DIR/api-mediation/scripts/apiml_cm.sh")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("$ZOWE_ROOT_DIR")]),this._v(" is the directory where you installed the Zowe runtime.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The certificates are generated to the directory "),t("code",[this._v("$ZOWE_ROOT_DIR/api-mediation/keystore")]),this._v(".")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",[i("li",[i("p",[i("code",[e._v("$ZOWE_ROOT_DIR/api-mediation/keystore/local/localhost.keystore.p12")])]),e._v(" "),i("ul",[i("li",[e._v("used for the HTTPS servers")]),e._v(" "),i("li",[e._v("contains the APIML server certificate signed by the local CA and private key for the server")])])]),e._v(" "),i("li",[i("p",[i("code",[e._v("$ZOWE_ROOT_DIR/api-mediation/keystore/local/localhost.truststore.p12")])]),e._v(" "),i("ul",[i("li",[e._v("use to validate trust when communicating with the services that are registered to the APIML")]),e._v(" "),i("li",[e._v("contains the root certificate of the local CA (not the server certificate)")]),e._v(" "),i("li",[e._v("contains the local CA public certificate")]),e._v(" "),i("li",[e._v("can contain additional certificate to trust services that are not signed by local CA")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("p",[t("code",[this._v("$ZOWE_ROOT_DIR/api-mediation/keystoree/local_ca/localca.cer")])]),this._v(" "),t("ul",[t("li",[this._v("public certificate of local CA")])])]),this._v(" "),t("li",[t("p",[t("code",[this._v("$ZOWE_ROOT_DIR/api-mediation/keystore/local_ca/localca.keystore.p12")])]),this._v(" "),t("ul",[t("li",[this._v("private key of the local CA")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"generating-certificate-for-a-new-service-on-localhost-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generating-certificate-for-a-new-service-on-localhost-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Generating certificate for a new service on localhost")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Use the certificate management script that is store at "),t("code",[this._v("$ZOWE_ROOT_DIR/api-mediation/scripts/apiml_cm.sh")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"add-a-service-with-an-existing-certificate-to-apiml-on-localhost-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-a-service-with-an-existing-certificate-to-apiml-on-localhost-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Add a service with an existing certificate to APIML on localhost")])}],a=i(0),s=Object(a.a)({},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),i("p",[e._v("The security of the APIML is done on several levels. They are described in following sections.")]),e._v(" "),e._m(3),e._v(" "),i("p",[e._v("The data need to be secured during transport this is achieved by using TLS protocol for all connections to APIML services. While it is allowed to disable it (e.g. for debugging purposes), the default mode is to have in on.")]),e._v(" "),e._m(4),e._v(" "),i("p",[e._v("Authentication is a way how an entity - a user or an application (API Client or API Service) can prove that they are what they claim to be.")]),e._v(" "),i("p",[e._v("The APIML is using to authentication methods:")]),e._v(" "),e._m(5),e._v(" "),i("p",[e._v("In the future, we would like APIML to support client certificates to access the gateway.")]),e._v(" "),e._m(6),e._v(" "),i("p",[e._v("Authorization is a method how access rights of an entity are determined.")]),e._v(" "),i("p",[e._v("In the APIML, the authorization is done by z/OS security manager ("),i("a",{attrs:{href:"https://www.ca.com/us/products/ca-acf2.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CA ACF2"),i("OutboundLink")],1),e._v(", "),i("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/zosbasics/com.ibm.zos.zsecurity/zsecc_042.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM RACF"),i("OutboundLink")],1),e._v(", "),i("a",{attrs:{href:"https://www.ca.com/us/products/ca-top-secret.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("CA Top Secret"),i("OutboundLink")],1),e._v("). The authentication token is used as a proof of a valid authentication but authorization checks are always done by the z/OS security manager.")]),e._v(" "),e._m(7),e._v(" "),i("ul",[i("li",[i("p",[e._v("Zowe Core services:")]),e._v(" "),i("ul",[i("li",[i("p",[e._v("Zowe APIML services:")]),e._v(" "),i("ul",[e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),i("li",[i("p",[e._v("Authentication and Authorization Service (AAS)")]),e._v(" "),i("ul",[i("li",[e._v("Provides authentication and authorization functionality to check access of users to resources on z/OS")]),e._v(" "),i("li",[e._v("Security service is not provided as an individual microservice but is included to the Gateway Service")]),e._v(" "),i("li",[e._v("More details are on in "),i("a",{attrs:{href:"https://github.com/gizafoundation/api-layer/wiki/Zowe-Authentication-and-Authorization-Service",target:"_blank",rel:"noopener noreferrer"}},[e._v("APIML wiki"),i("OutboundLink")],1)])])])])]),e._v(" "),e._m(11)])]),e._v(" "),e._m(12),e._v(" "),e._m(13)]),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),i("p",[e._v("All the servers need to provide HTTPS ports.")]),e._v(" "),i("p",[e._v("The requirements for the services are following:")]),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),i("p",[e._v("The APIML local CA:")]),e._v(" "),e._m(21),e._v(" "),i("p",[e._v("The APIML key store:")]),e._v(" "),e._m(22),e._v(" "),i("p",[e._v("The APIML trust store:")]),e._v(" "),e._m(23),e._v(" "),i("p",[e._v("Zowe Core services:")]),e._v(" "),e._m(24),e._v(" "),i("p",[e._v("API service key store (for each service)")]),e._v(" "),e._m(25),e._v(" "),i("p",[e._v("API service trust store (for each service)")]),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),i("p",[e._v("A client certificate is a certificate that is used for validation of the HTTPS client.")]),e._v(" "),i("p",[e._v("The client certificate of a Eureka client can be the same certificate as the server certificate of the services which the Eureka client.")]),e._v(" "),e._m(28),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),i("p",[e._v("The https://github.com/zowe/api-layer repository already contains pre-generated certificates that can be used to start APIML with HTTPS on your computer. The certificates are not trusted by your browser so can either ignore security warning or generate your own certificates and add them to the trust store of your browser or system.")]),e._v(" "),i("p",[e._v("The certificates are described in more detail in the https://github.com/zowe/api-layer/blob/https-local-certmgmt-%2372/keystore/README.md.")]),e._v(" "),e._m(31),e._v(" "),i("p",[e._v("Zowe API Mediation layer provides a script that can used on Windows, Mac, Linux, and z/OS\nto generate the certificate and key store for the local CA, API Mediation Layer, and services.")]),e._v(" "),i("p",[e._v("It is stored in [scripts/apiml_cm.sh](https://github.com/zowe/api-layer/blob/master/scripts/apiml_cm.sh.\nIt is a UNIX shell script that can be executed by Bash or z/OS Shell. For Windows, you need to install Bash, for example by using "),i("a",{attrs:{href:"http://cmder.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cmder"),i("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(32),e._v(" "),e._m(33),e._v(" "),e._m(34),e._v(" "),i("p",[e._v("This creates the certificates and key store for the API Mediation Layer in your current workspace.")]),e._v(" "),e._m(35),e._v(" "),i("p",[e._v("The instructions are described at:\nhttps://github.com/zowe/api-layer/blob/master/keystore/README.md#generating-certificate-for-a-new-service-on-localhost")]),e._v(" "),e._m(36),e._v(" "),i("p",[e._v("This will be documented during work on the following user story: https://waffle.io/zowe/api-layer/cards/5bd8be80283e09001babbf86")]),e._v(" "),e._m(37),e._v(" "),e._m(38),e._v(" "),i("p",[e._v("When you install the Zowe runtime on z/OS from the PAX file following the instructions in "),i("a",{attrs:{href:"https://zowe.github.io/docs-site/latest/user-guide/install-zos.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Installing the Zowe runtime on z/OS"),i("OutboundLink")],1),e._v(", the certificates for the APIML local CA and APIML service are automatically generated.")]),e._v(" "),e._m(39),e._v(" "),e._m(40),e._v(" "),e._m(41),e._v(" "),i("p",[e._v("APIML key store and trust store:")]),e._v(" "),e._m(42),e._v(" "),i("p",[e._v("APIML key and trust stores needs be accessible by the user ID that executes the Zowe runtime.")]),e._v(" "),i("p",[e._v("Local CA:")]),e._v(" "),e._m(43),e._v(" "),i("p",[e._v("Local CA key store can be accessible only by the user that is installing and managing the Zowe runtime.")]),e._v(" "),e._m(44),e._v(" "),i("p",[e._v("Follow the same steps as in https://github.com/zowe/api-layer/blob/master/keystore/README.md#generating-certificate-for-a-new-service-on-localhost.")]),e._v(" "),e._m(45),e._v(" "),e._m(46),e._v(" "),i("p",[e._v("This will be documented during work on the following user story: https://waffle.io/zowe/api-layer/cards/5bd8be80283e09001babbf86")])])},r,!1,null,null,null);s.options.__file="api-mediation-security.md";t.default=s.exports}}]);