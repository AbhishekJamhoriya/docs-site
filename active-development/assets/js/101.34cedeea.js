(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{398:function(e,t,a){"use strict";a.r(t);var i=a(15),r=Object(i.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"zowe-application-framework-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zowe-application-framework-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Zowe Application Framework configuration")]),e._v(" "),a("p",[e._v("After you install Zowe, you can optionally configure the Zowe Application Framework as a Mediation Layer client, configure connections for the terminal application plug-ins, or modify the Zowe Application Server and Zowe System Services (ZSS) configuration, as needed.")]),e._v(" "),a("h2",{attrs:{id:"configuring-the-framework-as-a-mediation-layer-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-framework-as-a-mediation-layer-client","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuring the framework as a Mediation Layer client")]),e._v(" "),a("p",[e._v("For simpler Zowe administration and better security, you can install an instance of the Zowe Application Framework as an API Mediation Layer client.")]),e._v(" "),a("p",[e._v("This configuration is simpler to administer because the framework servers are accessible externally through a single port. It is more secure because you can implement stricter browser security policies for accessing cross-origin content.")]),e._v(" "),a("p",[e._v("You must use SSL certificates to configure the Zowe Application Server to communicate with the SSL-enabled Mediation Layer. Those certificates were created during the Zowe installation process, and are located in the "),a("code",[e._v("zlux-app-server/deploy/instance/ZLUX/serverConfig")]),e._v(" directory.")]),e._v(" "),a("h3",{attrs:{id:"enabling-the-application-server-to-register-with-the-mediation-layer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-the-application-server-to-register-with-the-mediation-layer","aria-hidden":"true"}},[e._v("#")]),e._v(" Enabling the Application Server to register with the Mediation Layer")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Open the Application Server configuration file:\n"),a("code",[e._v("zlux-app-server/deploy/instance/ZLUX/serverConfig/zluxserver.json")]),e._v("\nThe file might be in the "),a("code",[e._v("zlux-app-server/config")]),e._v(" directory. If so, navigate to the "),a("code",[e._v("zlux-build")]),e._v(" folder and run the "),a("code",[e._v("ant deploy")]),e._v(" command to deploy the file to the correct location.")])]),e._v(" "),a("li",[a("p",[e._v("Specify the following values:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("mediationLayer")]),e._v(": If this object is not there, create it. It contains all of the key-value pairs.")]),e._v(" "),a("li",[a("code",[e._v("server")]),e._v(": Container for most of the key-value pairs.")]),e._v(" "),a("li",[a("code",[e._v("hostname")]),e._v(" (string): Specify the hostname that the Application Server can use to access the Mediation Layer servers. The Mediation Layer servers must be on a single system.")]),e._v(" "),a("li",[a("code",[e._v("port")]),e._v(" (number): Specify the Mediation Layer discovery server TCP port.")]),e._v(" "),a("li",[a("code",[e._v("gatewayPort")]),e._v(" (number): Specify the gateway TCP port (used for single sign-on).")]),e._v(" "),a("li",[a("code",[e._v("isHttps")]),e._v(" (boolean): Specify "),a("code",[e._v("true")]),e._v(" to use HTTPS (recommended).")]),e._v(" "),a("li",[a("code",[e._v("enabled")]),e._v(" (boolean): Specify "),a("code",[e._v("true")]),e._v(" to enable the Application Server to use the Mediation Layer.")])]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    "mediationLayer": {\n      "server": {\n        "hostname": "localhost",\n        "port": 10011,\n        "gatewayPort": 10012,\n        "isHttps": true\n      },\n      "enabled": true\n    }\n')])])])])]),e._v(" "),a("p",[e._v("To verify that the server registered correctly, open the log file in the "),a("code",[e._v("zlux/zlux-app-server/log")]),e._v(" directory. The following line should be at the bottom (with the current date and time):")]),e._v(" "),a("p",[a("code",[e._v("[20xx-xx-xx xx:xx:xx.xxx _zsf.apiml INFO] - Eureka Client Registered")])]),e._v(" "),a("p",[e._v("The registration process might take a few minutes. If the line is not there, make sure that the Mediation Layer values you enabled in the "),a("code",[e._v("zluxserver.json")]),e._v(" file are correct.")]),e._v(" "),a("h3",{attrs:{id:"accessing-the-application-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accessing-the-application-server","aria-hidden":"true"}},[e._v("#")]),e._v(" Accessing the Application Server")]),e._v(" "),a("p",[e._v("To access the Application Server through the Mediation Layer, use the Mediation Layer gateway server hostname and port. For example, when accessed directly, this is Zowe Desktop URL: "),a("code",[e._v("https://<appservername_port>/ZLUX/plugins/org.zowe.zlux.bootstrap/web/index.html")])]),e._v(" "),a("p",[e._v("When accessed through the Mediation Layer, this is the Zowe Desktop URL:\n"),a("code",[e._v("https://<gwsname_port>/ui/v1/zlux/ZLUX/plugins/org.zowe.zlux.bootstrap/web/index.html")])]),e._v(" "),a("h2",{attrs:{id:"setting-up-terminal-application-plug-ins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-terminal-application-plug-ins","aria-hidden":"true"}},[e._v("#")]),e._v(" Setting up terminal application plug-ins")]),e._v(" "),a("p",[e._v("Follow these optional steps to configure the default connection to open for the terminal application plug-ins.")]),e._v(" "),a("h3",{attrs:{id:"setting-up-the-tn3270-mainframe-terminal-application-plug-in"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-tn3270-mainframe-terminal-application-plug-in","aria-hidden":"true"}},[e._v("#")]),e._v(" Setting up the TN3270 mainframe terminal application plug-in")]),e._v(" "),a("p",[a("code",[e._v("_defaultTN3270.json")]),e._v(" is a file in "),a("code",[e._v("tn3270-ng2/")]),e._v(", which is deployed during setup. Within this file, you can specify the following parameters to configure the terminal connection:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('      "host": <hostname>\n      "port": <port>\n      "security": {\n      type: <"telnet" or "tls">\n    }\n')])])]),a("h3",{attrs:{id:"setting-up-the-vt-terminal-application-plug-in"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-vt-terminal-application-plug-in","aria-hidden":"true"}},[e._v("#")]),e._v(" Setting up the VT Terminal application plug-in")]),e._v(" "),a("p",[a("code",[e._v("_defaultVT.json")]),e._v(" is a file in "),a("code",[e._v("vt-ng2/")]),e._v(", which is deployed during setup. Within this file, you can specify the following parameters to configure the terminal connection:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('    "host":<hostname>\n    "port":<port>\n    "security": {\n      type: <"telnet" or "ssh">\n    }\n')])])]),a("h2",{attrs:{id:"configuration-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-file","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuration file")]),e._v(" "),a("p",[e._v("The Zowe Application Server and ZSS rely on many parameters to run, which includes setting up networking, deployment directories, plug-in locations, and more.")]),e._v(" "),a("p",[e._v("For convenience, the Zowe Application Server and ZSS read from a JSON file with a common structure. ZSS reads this file directly as a startup argument, while the Zowe Application Server (as defined in the "),a("code",[e._v("zlux-server-framework")]),e._v(" repository) accepts several parameters, which are intended to be read from a JSON file through an implementer of the server, such as the example in the "),a("code",[e._v("zlux-app-server")]),e._v(" repository, the "),a("code",[e._v("js/zluxServer.js")]),e._v(" file. This file accepts a JSON file that specifies most, if not all, of the parameters needed. Other parameters can be provided through flags, if needed.")]),e._v(" "),a("p",[e._v("An example of a JSON file ("),a("code",[e._v("zluxserver.json")]),e._v(") can be found in the "),a("code",[e._v("zlux-app-server")]),e._v(" repository, in the "),a("code",[e._v("config")]),e._v(" directory.")]),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" All examples are based on the "),a("em",[e._v("zlux-app-server")]),e._v(" repository.")]),e._v(" "),a("h2",{attrs:{id:"network-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Network configuration")]),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" The following attributes are to be defined in the server's JSON configuration file.")]),e._v(" "),a("p",[e._v("The Zowe Application Server can be accessed over HTTP, HTTPS, or both, provided it has been configured for either (or both).")]),e._v(" "),a("h3",{attrs:{id:"http"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http","aria-hidden":"true"}},[e._v("#")]),e._v(" HTTP")]),e._v(" "),a("p",[e._v("To configure the server for HTTP, complete these steps:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Define an attribute "),a("em",[e._v("http")]),e._v(" within the top-level "),a("em",[e._v("node")]),e._v(" attribute.")])]),e._v(" "),a("li",[a("p",[e._v("Define "),a("em",[e._v("port")]),e._v(" within "),a("em",[e._v("http")]),e._v(". Where "),a("em",[e._v("port")]),e._v(" is an integer parameter for the TCP port on which the server will listen. Specify 80 or a value between 1024-65535.")])])]),e._v(" "),a("h3",{attrs:{id:"https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https","aria-hidden":"true"}},[e._v("#")]),e._v(" HTTPS")]),e._v(" "),a("p",[e._v("For HTTPS, specify the following parameters:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Define an attribute "),a("em",[e._v("https")]),e._v(" within the top-level "),a("em",[e._v("node")]),e._v(" attribute.")])]),e._v(" "),a("li",[a("p",[e._v("Define the following within "),a("em",[e._v("https")]),e._v(":")])])]),e._v(" "),a("ul",[a("li",[a("em",[e._v("port")]),e._v(": An integer parameter for the TCP port on which the server will listen. Specify 443 or a value between 1024-65535.")]),e._v(" "),a("li",[a("em",[e._v("certificates")]),e._v(": An array of strings, which are paths to PEM format HTTPS certificate files.")]),e._v(" "),a("li",[a("em",[e._v("keys")]),e._v(": An array of strings, which are paths to PEM format HTTPS key files.")]),e._v(" "),a("li",[a("em",[e._v("pfx")]),e._v(": A string, which is a path to a PFX file which must contain certificates, keys, and optionally Certificate Authorities.")]),e._v(" "),a("li",[a("em",[e._v("certificateAuthorities")]),e._v(" (Optional): An array of strings, which are paths to certificate authorities files.")]),e._v(" "),a("li",[a("em",[e._v("certificateRevocationLists")]),e._v(" (Optional): An array of strings, which are paths to certificate revocation list (CRL) files.")])]),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" When using HTTPS, you must specify "),a("em",[e._v("pfx")]),e._v(", or both "),a("em",[e._v("certificates")]),e._v(" and "),a("em",[e._v("keys")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"network-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#network-example","aria-hidden":"true"}},[e._v("#")]),e._v(" Network example")]),e._v(" "),a("p",[e._v("In the example configuration, both HTTP and HTTPS are specified:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('  "node": {\n    "https": {\n      "port": 8544,\n      //pfx (string), keys, certificates, certificateAuthorities, and certificateRevocationLists are all valid here.\n      "keys": ["../deploy/product/ZLUX/serverConfig/server.key"],\n      "certificates": ["../deploy/product/ZLUX/serverConfig/server.cert"]\n    },\n    "http": {\n      "port": 8543\n    }\n  }\n')])])]),a("h2",{attrs:{id:"deploy-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Deploy configuration")]),e._v(" "),a("p",[e._v("When the Zowe Application Server is running, it accesses the server's settings and reads or modifies the contents of its resource storage. All of this data is stored within the "),a("code",[e._v("Deploy")]),e._v(" folder hierarchy, which is spread out into a several scopes:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Product")]),e._v(": The contents of this folder are not meant to be modified, but used as defaults for a product.")]),e._v(" "),a("li",[a("code",[e._v("Site")]),e._v(": The contents of this folder are intended to be shared across multiple Zowe Application Server instances, perhaps on a network drive.")]),e._v(" "),a("li",[a("code",[e._v("Instance")]),e._v(": This folder represents the broadest scope of data within the given Zowe Application Server instance.")]),e._v(" "),a("li",[a("code",[e._v("Group")]),e._v(": Multiple users can be associated into one group, so that settings are shared among them.")]),e._v(" "),a("li",[a("code",[e._v("User")]),e._v(": When authenticated, users have their own settings and storage for the application plug-ins that they use.")])]),e._v(" "),a("p",[e._v("These directories dictate where the "),a("router-link",{attrs:{to:"/extend/extend-desktop/mvd-configdataservice.html"}},[e._v("Configuration Dataservice")]),e._v(" stores content.")],1),e._v(" "),a("h3",{attrs:{id:"deploy-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy-example","aria-hidden":"true"}},[e._v("#")]),e._v(" Deploy example")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('// All paths relative to zlux-app-server/js or zlux-app-server/bin\n// In real installations, these values will be configured during the installation process.\n  "rootDir":"../deploy",\n  "productDir":"../deploy/product",\n  "siteDir":"../deploy/site",\n  "instanceDir":"../deploy/instance",\n  "groupsDir":"../deploy/instance/groups",\n  "usersDir":"../deploy/instance/users"\n\n')])])]),a("h2",{attrs:{id:"application-plug-in-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#application-plug-in-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Application plug-in configuration")]),e._v(" "),a("p",[e._v("This topic describes application plug-ins that are defined in advance.")]),e._v(" "),a("p",[e._v("In the configuration file, you can specify a directory that contains JSON files, which tell the server what application plug-in to include and where to find it on disk. The backend of these application plug-ins use the server's plug-in structure, so much of the server-side references to application plug-ins use the term "),a("em",[e._v("plug-in")]),e._v(".")]),e._v(" "),a("p",[e._v("To include application plug-ins, define the location of the plug-ins directory in the configuration file, through the top-level attribute "),a("strong",[e._v("pluginsDir")]),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" In this example, the directory for these JSON files is "),a("code",[e._v("/plugins")]),e._v(". Yet, to separate configuration files from runtime files, the "),a("code",[e._v("zlux-app-server")]),e._v(" repository copies the contents of this folder into "),a("code",[e._v("/deploy/instance/ZLUX/plugins")]),e._v(". So, the example configuration file uses the latter directory.")]),e._v(" "),a("h3",{attrs:{id:"plug-ins-directory-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plug-ins-directory-example","aria-hidden":"true"}},[e._v("#")]),e._v(" Plug-ins directory example")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('// All paths relative to zlux-app-server/js or zlux-app-server/bin\n// In real installations, these values will be configured during the install process.\n//...\n  "pluginsDir":"../deploy/instance/ZLUX/plugins",\n')])])]),a("h2",{attrs:{id:"logging-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logging-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" Logging configuration")]),e._v(" "),a("p",[e._v("For more information, see "),a("router-link",{attrs:{to:"/extend/extend-desktop/mvd-logutility.html"}},[e._v("Logging Utility")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"zss-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zss-configuration","aria-hidden":"true"}},[e._v("#")]),e._v(" ZSS configuration")]),e._v(" "),a("p",[e._v("Running ZSS requires a JSON configuration file that is similar or the same as the one used for the Zowe Application Server. The attributes that are needed for ZSS, at minimum, are:"),a("em",[e._v("rootDir")]),e._v(", "),a("em",[e._v("productDir")]),e._v(", "),a("em",[e._v("siteDir")]),e._v(", "),a("em",[e._v("instanceDir")]),e._v(", "),a("em",[e._v("groupsDir")]),e._v(", "),a("em",[e._v("usersDir")]),e._v(", "),a("em",[e._v("pluginsDir")]),e._v(" and "),a("em",[e._v("zssPort")]),e._v(". All of these attributes have the same meaning as described above for the server, but if the Zowe Application Server and ZSS are not run from the same location, then these directories can be different.")]),e._v(" "),a("p",[e._v("The "),a("em",[e._v("zssPort")]),e._v(" attribute is specific to ZSS. This is the TCP port on which ZSS listens in order to be contacted by the Zowe Application Server. Define this port in the configuration file as a value between 1024-65535.")]),e._v(" "),a("h3",{attrs:{id:"connecting-the-zowe-application-server-to-zss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connecting-the-zowe-application-server-to-zss","aria-hidden":"true"}},[e._v("#")]),e._v(" Connecting the Zowe Application Server to ZSS")]),e._v(" "),a("p",[e._v("When you run the Zowe Application Server, specify the following flags to declare which ZSS instance the Zowe Application Framework will proxy ZSS requests to:")]),e._v(" "),a("ul",[a("li",[a("em",[e._v("-h")]),e._v(': Declares the host where ZSS can be found. Use as "-h <hostname>"')]),e._v(" "),a("li",[a("em",[e._v("-P")]),e._v(': Declares the port at which ZSS is listening. Use as "-P <port>"')])]),e._v(" "),a("h3",{attrs:{id:"configuring-zss-for-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-zss-for-https","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuring ZSS for HTTPS")]),e._v(" "),a("p",[e._v("To secure ZSS, you can use Application Transparent Transport Layer Security (AT-TLS) to enable Hyper Text Transfer Protocol Secure (HTTPS) on communication with ZSS.")]),e._v(" "),a("p",[e._v("Before you begin, you must have a basic knowledge of RACF and AT-TLS, and you must have Policy Agent configured. For more information on "),a("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.halx001/transtls.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("AT-TLS"),a("OutboundLink")],1),e._v(" and "),a("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.2.0/com.ibm.zos.v2r2.halz002/pbn_pol_agnt.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Policy Agent"),a("OutboundLink")],1),e._v(", see the "),a("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.2.0/com.ibm.zos.v2r2/en/homepage.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("z/OS Knowledge Center"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("To configure ZSS for HTTPS, you create a certificate authority (CA) certificate and a personal certificate, and add the personal certificate to a key ring. Then you define an AT-TLS rule. Then you copy the certificate to the Zowe App Server and specify values in the Zowe App Server configuration file.")]),e._v(" "),a("p",[e._v("By default, the Zowe App Server is the only client that communicates with the ZSS server. In these steps, you configure HTTPS between them by creating a CA certificate and using it to sign a personal certificate. If you want to configure other clients to communicate with ZSS, best practice is to sign their certificates using a recognized certificate authority, such as Symantec. For more information, see documentation for that client.")]),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" Bracketed values below (including the brackets) are variables. Replace them with values relevant to your organization.")]),e._v(" "),a("h4",{attrs:{id:"creating-certificates-and-a-key-ring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-certificates-and-a-key-ring","aria-hidden":"true"}},[e._v("#")]),e._v(" Creating certificates and a key ring")]),e._v(" "),a("p",[e._v("Use the IBM Resource Access Control Facility (RACF) to create a CA certificate and a personal certificate, and sign the personal certificate with the CA certificate. Then create a key ring with the personal certificate attached.")]),e._v(" "),a("ol",[a("li",[e._v("Enter the following command to generate a RACF (CA) certificate:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RACDCERT CERTAUTH GENCERT +                          \n  SUBJECTSDN(CN('[common_name]') +                        \n  OU('[organizational_unit]') +                                       \n  O('[organization_name]') +                                         \n  L('[locality]') SP('[state_or_province]') C('[country]')) +           \n  KEYUSAGE(HANDSHAKE DATAENCRYPT DOCSIGN CERTSIGN) + \n  WITHLABEL('[ca_label]') +                            \n  NOTAFTER(DATE([xxxx/xx/xx])) +                       \n  SIZE(2048)\n")])])]),a("p",[a("strong",[e._v("Note:")]),e._v(" "),a("code",[e._v("[common_name]")]),e._v(" must be the ZSS server host name.")]),e._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[e._v("Enter the follow command to generate a RACF personal certificate signed by the CA certificate:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RACDCERT ID('[cert_owner]') GENCERT +                          \n  SUBJECTSDN(CN('[common_name]') +                        \n  OU('[organizational_unit]') +                                       \n  O('[organization_name]') +                                         \n  L('[locality]') SP('[state_or_province]') C('[country]')) +           \n  KEYUSAGE(HANDSHAKE DATAENCRYPT DOCSIGN CERTSIGN) + \n  WITHLABEL('[personal_label]') +                            \n  NOTAFTER(DATE([xxxx/xx/xx])) +                       \n  SIZE(2048) +\n  SIGNWITH(CERTAUTH LABEL('[ca_label]'))\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[e._v("Enter the following command to create a RACF key ring and connect the personal certificate to the key ring:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RACDCERT ID([cert_owner]) ADDRING([ring_name])                \nRACDCERT CONNECT(ID([cert_owner]) LABEL('[cert_label]') RING([ring_name])) \n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("Enter the following command to refresh the DIGTRING and DIGTCERT classes to activate your changes:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("SETROPTS RACLIST(DIGTRING,DIGTCERT) REFRESH\n")])])]),a("ol",{attrs:{start:"5"}},[a("li",[e._v("Enter the following command to verify your changes:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RACDCERT LISTRING([ring_name]) ID([cert_owner])\n")])])]),a("ol",{attrs:{start:"6"}},[a("li",[e._v("Enter the following command to export the RACF CA certificate to a dataset:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("RACDCERT EXPORT(LABEL('[ca_label]')) CERTAUTH DSN('[output_dataset_name]') FORMAT(CERTB64)\n")])])]),a("h4",{attrs:{id:"defining-the-at-tls-rule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#defining-the-at-tls-rule","aria-hidden":"true"}},[e._v("#")]),e._v(" Defining the AT-TLS rule")]),e._v(" "),a("p",[e._v("To define the AT-TLS rule, use the sample below to specify values in your AT-TLS Policy Agent Configuration file:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("TTLSRule                          ATTLS1~ZSS\n{\n  LocalAddr                       All\n  RemoteAddr                      All\n  LocalPortRange                  [zss_port]\n  Jobname                         *\n  Userid                          *\n  Direction                       Inbound\n  Priority                        255\n  TTLSGroupActionRef              gAct1~ZSS\n  TTLSEnvironmentActionRef        eAct1~ZSS\n  TTLSConnectionActionRef         cAct1~ZSS\n}  \nTTLSGroupAction                   gAct1~ZSS\n{ \n  TTLSEnabled                     On\n  Trace                           1\n} \nTTLSEnvironmentAction             eAct1~ZSS\n{ \n  HandshakeRole                   Server\n  EnvironmentUserInstance         0\n  TTLSKeyringParmsRef             key~ZSS\n  Trace                           1\n}  \nTTLSConnectionAction              cAct1~ZSS\n{ \n  HandshakeRole                   Server\n  TTLSCipherParmsRef              cipherZSS\n  TTLSConnectionAdvancedParmsRef  cAdv1~ZSS\n  Trace                           1\n}  \nTTLSConnectionAdvancedParms       cAdv1~ZSS\n{\n  SSLv3                           Off\n  TLSv1                           Off\n  TLSv1.1                         Off\n  TLSv1.2                         On\n  CertificateLabel                [personal_label]\n}  \nTTLSKeyringParms                  key~ZSS\n{ \n  Keyring                         [ring_name]\n} \nTTLSCipherParms                   cipher~ZSS                          \n{                                                                       \n  V3CipherSuites                  TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n  V3CipherSuites                  TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n  V3CipherSuites                  TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 \n  V3CipherSuites                  TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 \n  V3CipherSuites                  TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n  V3CipherSuites                  TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n  V3CipherSuites                  TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 \n  V3CipherSuites                  TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 \n}       \n")])])]),a("h4",{attrs:{id:"configuring-the-zowe-app-server-for-https-communication-with-zss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-zowe-app-server-for-https-communication-with-zss","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuring the Zowe App Server for HTTPS communication with ZSS")]),e._v(" "),a("p",[e._v("Copy the CA certificate to the ZSS server. Then in the Zowe App Server configuration file, specify the location of the certificate, and add a parameter to specify that ZSS uses AT-TLS.")]),e._v(" "),a("ol",[a("li",[e._v("Enter the following command to copy the CA certificate to the correct location in UNIX System Services (USS):")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cp \"//'[output_dataset_name]'\" 'zlux-app-server/deploy/instance/ZLUX/serverConfig/[ca_cert]'\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("In the "),a("code",[e._v("zlux-app-server/deploy/instance/ZLUX/serverConfig")]),e._v(" directory, open the "),a("code",[e._v("zluxserver.json")]),e._v(" file.")]),e._v(" "),a("li",[e._v("In the "),a("strong",[e._v("node.https.certificateAuthorities")]),e._v(" object, add the CA certificate file path, for example:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"certificateAuthorities": ["../deploy/instance/ZLUX/serverConfig/[ca_cert]"]\n')])])]),a("ol",{attrs:{start:"4"}},[a("li",[e._v("In the "),a("strong",[e._v("agent.http")]),e._v(" object add the key-value pair "),a("code",[e._v('"attls": true')]),e._v(", for example:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"agent": {\n  "host": "localhost",\n  "http": {\n    "ipAddresses": ["127.0.0.1"],\n    "port": 8542,\n    "attls": true\n  }\n}\n')])])]),a("h3",{attrs:{id:"installing-additional-zss-instances"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing-additional-zss-instances","aria-hidden":"true"}},[e._v("#")]),e._v(" Installing additional ZSS instances")]),e._v(" "),a("p",[e._v("After you install Zowe, you can install and configure additional instances of ZSS on the same z/OS server. You might want to do this to test different ZSS versions.")]),e._v(" "),a("p",[e._v("The following steps assume you have installed a Zowe runtime instance (which includes ZSS), and that you are installing a second runtime instance to install an additional ZSS.")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("To stop the installed Zowe runtime, in SDSF enter the following command:")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/C ZOWESVR\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Install a new Zowe runtime by following steps in "),a("router-link",{attrs:{to:"/user-guide/install-zos.html#obtaining-and-preparing-the-installation-file"}},[e._v("Installing Zowe on z/OS")]),e._v(".")],1),e._v(" "),a("p",[a("strong",[e._v("Note:")]),e._v(" In the "),a("code",[e._v("zowe-install.yaml")]),e._v(" configuration file, specify ports that are not used by the first Zowe runtime.")])]),e._v(" "),a("li",[a("p",[e._v("To restart the first Zowe runtime, in SDSF enter the following command:")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/S ZOWESVR,SRVRPATH='$ZOWE_ROOT_DIR'\n")])])]),a("p",[e._v("Where "),a("code",[e._v("'$ZOWE_ROOT_DIR'")]),e._v(" is the first Zowe runtime root directory. By default the command starts the most recently installed runtime unless you specify the root directory of the runtime that you want to start.")])]),e._v(" "),a("li",[a("p",[e._v("To specify a name for the new ZSS instance, follow these steps:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Copy the PROCLIB member JCL named ZWESIS01 that was installed with the new runtime.")])]),e._v(" "),a("li",[a("p",[e._v("Rename the copy to uniquely identify it as the JCL that starts the new ZSS, for example ZWESIS02.")])]),e._v(" "),a("li",[a("p",[e._v("Edit the JCL, and in the  "),a("code",[e._v("NAME")]),e._v(" parameter specify a unique name for the cross-memory server, for example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("//ZWESIS02  PROC NAME='ZWESIS_MYSRV',MEM=00,RGN=0M\n")])])]),a("p",[e._v("Where "),a("code",[e._v("ZWESIS_MYSRV")]),e._v(" is the unique name of the new ZSS.")])])])]),e._v(" "),a("li",[a("p",[e._v("To start the new ZSS, in SDSF enter the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" /S ZWESIS02\n")])])])]),e._v(" "),a("li",[a("p",[e._v("Make sure that the TSO user ID that runs the first ZSS started task also runs the new ZSS started task. The default ID is IZUSVR.")])]),e._v(" "),a("li",[a("p",[e._v("In the new ZSS "),a("code",[e._v("zluxserver.json")]),e._v(" configuration file, add a "),a("code",[e._v('"privilegedServerName"')]),e._v(" parameter and specify the new ZSS name, for example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"rootDir":"../deploy",\n"productDir":"../deploy/product",\n"siteDir":"../deploy/site",\n"instanceDir":"../deploy/instance",\n"groupsDir":"../deploy/instance/groups",\n"usersDir":"../deploy/instance/users",\n"pluginsDir":"../deploy/instance/ZLUX/plugins",\n"privilegedServerName":"ZWESIS_MYSRV",\n"dataserviceAuthentication": { ... }\n')])])]),a("p",[a("strong",[e._v("Note:")]),e._v(" The default location of "),a("code",[e._v("zluxserver.json")]),e._v(" is "),a("code",[e._v("$ZOWE_ROOT_DIR/zlux-app-server/deploy/instance/ZLUX/serverConfig/zluxserver.json")])])]),e._v(" "),a("li",[a("p",[e._v("Run the "),a("code",[e._v("zlux-build/deploy.sh")]),e._v(" command redeploy and make the "),a("code",[e._v("zluxserver.json")]),e._v(" change take effect.")])]),e._v(" "),a("li",[a("p",[e._v("To start the new Zowe runtime, in SDSF enter the following command:")]),e._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("/S ZOWESVR\n")])])])]),e._v(" "),a("li",[a("p",[e._v("To verify that the new cross-memory server is being used, check for the following messages in the "),a("code",[e._v("ZOWESVR")]),e._v(" server job log:")])])]),e._v(" "),a("p",[a("code",[e._v("ZIS status - Ok (name='ZWESIS_MYSRV ', cmsRC=0, description='Ok', clientVersion=2)")])]),e._v(" "),a("h2",{attrs:{id:"applying-role-based-access-control-to-dataservices"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#applying-role-based-access-control-to-dataservices","aria-hidden":"true"}},[e._v("#")]),e._v(" Applying role-based access control to dataservices")]),e._v(" "),a("p",[e._v("To use role-based access control (RBAC) for Zowe dataservice endpoints, enable RBAC for Zowe, and then use a z/OS security product such as RACF to map roles and authorities to the endpoints.")]),e._v(" "),a("p",[e._v("After you configure RBAC, Zowe checks users' authority to access dataservices.")]),e._v(" "),a("h3",{attrs:{id:"how-it-works"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works","aria-hidden":"true"}},[e._v("#")]),e._v(" How it works")]),e._v(" "),a("p",[e._v("Most Zowe functionality is available as dataservices. For example, Zowe Application Framework plug-in services provide the infrastructure for creating web applications, and application plug-in dataservices provide data and services from that application.")]),e._v(" "),a("p",[e._v("Plug-ins can also use "),a("router-link",{attrs:{to:"/extend/extend-desktop/mvd-configdataservice.html#configuration-dataservice"}},[e._v("configuration service endpoints")]),e._v(". These endpoints have scope at the product, site, instance, and user level, and the data is stored and retrieved by path name.")],1),e._v(" "),a("p",[e._v("Dataservice endpoints are identified by URLs that are formatted like this:")]),e._v(" "),a("p",[a("code",[e._v("/<product>/plugins/<plugin id>/services/<service>/<version>/<path>")])]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("p",[a("code",[e._v("/ZLUX/plugins/org.zowe.foo/services/baz/_current/users/fred")])]),e._v(" "),a("p",[e._v("Where product is "),a("code",[e._v("ZLUX")]),e._v(", plugin id is "),a("code",[e._v("org.zowe.foo")]),e._v(", service is "),a("code",[e._v("baz")]),e._v(", version is "),a("code",[e._v("_current")]),e._v(", and path is "),a("code",[e._v("/users/fred")]),e._v(".")]),e._v(" "),a("p",[e._v("To access dataservice endpoints when RBAC is enabled, users must have READ access to a corresponding System Authorization Facility (SAF) profile in the ZOWE class. SAF profiles have this format:")]),e._v(" "),a("p",[a("code",[e._v("<product>.<instance id>.SVC.<pluginid_with_underscores>.<service>.<HTTP method>.<url with forward slashes '/' replaced by periods '.'>")])]),e._v(" "),a("p",[e._v("For example, to issue a POST request to the dataservice endpoint documented above, users must have READ access to the following profile:")]),e._v(" "),a("p",[a("code",[e._v("ZLUX.DEFAULT.SVC.ORG_ZOWE_FOO.BAZ.POST.USERS.FRED")])]),e._v(" "),a("p",[e._v("Configuration endpoints have profiles with this format:")]),e._v(" "),a("p",[a("code",[e._v("<product>.<instance id>.CFG.<pluginid_with_underscores>.<service>.<HTTP method>.<url with forward slashes '/' replaced by periods '.'>")])]),e._v(" "),a("p",[e._v('For example, users must have READ access to the following profile to access the instance-scoped configuration element "files":')]),e._v(" "),a("p",[a("code",[e._v("ZLUX.DEFAULT.CFG.ORG_ZOWE_FOO.GET.INSTANCE.FILES")])]),e._v(" "),a("h3",{attrs:{id:"enabling-rbac"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-rbac","aria-hidden":"true"}},[e._v("#")]),e._v(" Enabling RBAC")]),e._v(" "),a("p",[e._v("By default, RBAC is disabled and all authenticated Zowe users can access all dataservices. To enable RBAC, follow these steps:")]),e._v(" "),a("ol",[a("li",[e._v("Open the Zowe Application Server configuration JSON file. In the default server instance, the configuration file is "),a("code",[e._v("/zlux-app-server/config/zluxserver.json")]),e._v(".")]),e._v(" "),a("li",[e._v("In the "),a("code",[e._v("dataserviceAuthentication")]),e._v(" object, add "),a("code",[e._v('"rbac": true')]),e._v(".")])]),e._v(" "),a("h3",{attrs:{id:"creating-generic-authorization-profiles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-generic-authorization-profiles","aria-hidden":"true"}},[e._v("#")]),e._v(" Creating generic authorization profiles")]),e._v(" "),a("p",[e._v("Some endpoints can generate an unlimited number of URLs. For example, an endpoint that performs a DELETE action on any file would generate a different URL for each file, and users can create an unlimited number of files. To apply RBAC to this type of endpoint you must create a generic profile, for example:")]),e._v(" "),a("p",[a("code",[e._v("ZLUX.DEFAULT.SVC.ORG_ZOWE_FOO.BAZ.DELETE.**")])]),e._v(" "),a("p",[e._v("You can create generic profile names using wildcards, such as asterisks (*). For information on generic profile naming, see "),a("a",{attrs:{href:"https://www.ibm.com/support/knowledgecenter/en/SSLTBW_2.1.0/com.ibm.zos.v2r1.icha100/egnoff.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("IBM documentation"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"configuring-basic-authorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-basic-authorization","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuring basic authorization")]),e._v(" "),a("p",[e._v("We recommend configuring the following basic authorization:")]),e._v(" "),a("ul",[a("li",[e._v("To give administrators access to everything in Zowe, create a "),a("code",[e._v("ZLUX.**")]),e._v(" profile and give them UPDATE access to it.")]),e._v(" "),a("li",[e._v("To give non-administrators basic access to the site and product, create a "),a("code",[e._v("ZLUX.*.ORG_ZOWE_*")]),e._v("  profile and give them READ access to it.")]),e._v(" "),a("li",[e._v("To prevent non-administrators from configuring endpoints at the product and instance levels, create a "),a("code",[e._v("ZLUX.DEFAULT.CFG.**")]),e._v(" profile and do not give them access to it.")]),e._v(" "),a("li",[e._v("To give non-administrators all access to user, create a "),a("code",[e._v("ZLUX.DEFAULT.CFG.*.*.USER.**")]),e._v(" profile and give them UPDATE access to it.")])]),e._v(" "),a("h3",{attrs:{id:"endpoint-url-length-limitations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#endpoint-url-length-limitations","aria-hidden":"true"}},[e._v("#")]),e._v(" Endpoint URL length limitations")]),e._v(" "),a("p",[e._v("SAF profiles cannot contain more than 246 characters. If the path section of an endpoint URL is long enough that the profile name exceeds the limit, the path is trimmed to only include elements that do not exceed the limit. To avoid this issue, we recommend that appliction developers maintain relatively short endpoint URL paths.")]),e._v(" "),a("p",[e._v("For information on endpoint URLs, see "),a("router-link",{attrs:{to:"/extend/extend-desktop/mvd-dataservices.html#limiting-the-length-of-dataservice-paths-for-rbac"}},[e._v("Dataservice endpoint URL lengths and RBAC")])],1),e._v(" "),a("h2",{attrs:{id:"enabling-tracing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-tracing","aria-hidden":"true"}},[e._v("#")]),e._v(" Enabling tracing")]),e._v(" "),a("p",[e._v("To obtain more information about how a server is working, you can enable tracing within the "),a("code",[e._v("zluxserver.json")]),e._v(" file.")]),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"logLevels": {\n  "_zsf.routing": 0,\n  "_zsf.install": 0,\n  "_zss.traceLevel": 0,\n  "_zss.fileTrace": 1\n}\n')])])]),a("p",[e._v("Specify the following settings inside the "),a("strong",[e._v("logLevels")]),e._v(" object.")]),e._v(" "),a("p",[e._v("All settings are optional.")]),e._v(" "),a("h3",{attrs:{id:"zowe-application-server-tracing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zowe-application-server-tracing","aria-hidden":"true"}},[e._v("#")]),e._v(" Zowe Application Server tracing")]),e._v(" "),a("p",[e._v("To determine how the Zowe Application Server ("),a("code",[e._v("zlux-app-server")]),e._v(") is working, you can assign a logging level to one or more of the pre-defined logger names in the "),a("code",[e._v("zluxserver.json")]),e._v(" file.")]),e._v(" "),a("p",[e._v("The log prefix for the Zowe Application Server is "),a("strong",[e._v("_zsf")]),e._v(", which is used by the server framework. (Applications and plug-ins that are attached to the server do not use the "),a("strong",[e._v("_zsf")]),e._v(" prefix.)")]),e._v(" "),a("p",[e._v("The following are the logger names that you can specify:")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.bootstrap")]),e._v("\nLogging that pertains to the startup of the server.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.auth")]),e._v("\nLogging for network calls that must be checked for authentication and authorization purposes.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.static")]),e._v("\nLogging of the serving of static files (such as images) from an application's "),a("code",[e._v("/web")]),e._v(" folder.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.child")]),e._v("\nLogging of child processes, if any.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.utils")]),e._v("\nLogging for miscellaneous utilities that the server relies upon.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.proxy")]),e._v("\nLogging for proxies that are set up in the server.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.install")]),e._v("\nLogging for the installation of plug-ins.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.apiml")]),e._v("\nLogging for communication with the api mediation layer.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.routing")]),e._v("\nLogging for dispatching network requests to plug-in dataservices.")]),e._v(" "),a("p",[a("strong",[e._v("_zsf.network")]),e._v("\nLogging for the HTTPS server status (connection, ports, IP, and so on)")]),e._v(" "),a("h3",{attrs:{id:"log-levels"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-levels","aria-hidden":"true"}},[e._v("#")]),e._v(" Log levels")]),e._v(" "),a("p",[e._v("The log levels are:")]),e._v(" "),a("ul",[a("li",[e._v("SEVERE = 0,")]),e._v(" "),a("li",[e._v("WARNING = 1,")]),e._v(" "),a("li",[e._v("INFO = 2,")]),e._v(" "),a("li",[e._v("FINE = 3,")]),e._v(" "),a("li",[e._v("FINER = 4,")]),e._v(" "),a("li",[e._v("FINEST = 5")])]),e._v(" "),a("p",[e._v("FINE, FINER, and FINEST are log levels for debugging, with increasing verbosity.")]),e._v(" "),a("h3",{attrs:{id:"enabling-tracing-for-zss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enabling-tracing-for-zss","aria-hidden":"true"}},[e._v("#")]),e._v(" Enabling tracing for ZSS")]),e._v(" "),a("p",[e._v("To increase logging for ZSS, you can assign a logging level (an integer value greater than zero) to one or more of the pre-defined logger names in the "),a("code",[e._v("zluxserver.json")]),e._v(" file.")]),e._v(" "),a("p",[e._v("A higher value specifies greater verbosity.")]),e._v(" "),a("p",[e._v("The log prefix for ZSS is "),a("strong",[e._v("_zss")]),e._v(". The following are the logger names that you can specify:")]),e._v(" "),a("p",[a("strong",[e._v("_zss.traceLevel:")]),e._v("\nControls general server logging verbosity.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.fileTrace:")]),e._v("\nLogs file serving behavior (if file serving is enabled).")]),e._v(" "),a("p",[a("strong",[e._v("_zss.socketTrace:")]),e._v("\nLogs general TCP Socket behavior.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpParseTrace:")]),e._v("\nLogs parsing of HTTP messages.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpDispatchTrace:")]),e._v("\nLogs dispatching of HTTP messages to dataservices.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpHeadersTrace:")]),e._v("\nLogs parsing and setting of HTTP headers.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpSocketTrace:")]),e._v("\nLogs TCP socket behavior for HTTP.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpCloseConversationTrace:")]),e._v("\nLogs HTTP behavior for when an HTTP conversation ends.")]),e._v(" "),a("p",[a("strong",[e._v("_zss.httpAuthTrace:")]),e._v("\nLogs behavior for session security.")]),e._v(" "),a("p",[e._v("When you are finished specifying the settings, save the "),a("code",[e._v("zluxserver.json")]),e._v(" file.")]),e._v(" "),a("h2",{attrs:{id:"zowe-application-framework-logging"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zowe-application-framework-logging","aria-hidden":"true"}},[e._v("#")]),e._v(" Zowe Application Framework logging")]),e._v(" "),a("p",[e._v("The Zowe Application Framework log files contain processing messages and statistics. The log files are generated in the following default locations:")]),e._v(" "),a("ul",[a("li",[e._v("Zowe Application Server: "),a("code",[e._v("zlux-app-server/log/nodeServer-yyyy-mm-dd-hh-mm.log")])]),e._v(" "),a("li",[e._v("ZSS: "),a("code",[e._v("zlux-app-server/log/zssServer-yyyy-mm-dd-hh-mm.log")])])]),e._v(" "),a("p",[e._v("The logs are timestamped in the format yyyy-mm-dd-hh-mm and older logs are deleted when a new log is created at server startup.")]),e._v(" "),a("h3",{attrs:{id:"controlling-the-logging-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#controlling-the-logging-location","aria-hidden":"true"}},[e._v("#")]),e._v(" Controlling the logging location")]),e._v(" "),a("p",[e._v("The log information is written to a file and to the screen. (On Windows, logs are written to a file only.)")]),e._v(" "),a("h4",{attrs:{id:"zlux-node-log-dir-and-zss-log-dir-environment-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zlux-node-log-dir-and-zss-log-dir-environment-variables","aria-hidden":"true"}},[e._v("#")]),e._v(" ZLUX_NODE_LOG_DIR and ZSS_LOG_DIR environment variables")]),e._v(" "),a("p",[e._v("To control where the information is logged, use the environment variable "),a("em",[e._v("ZLUX_NODE_LOG_DIR")]),e._v(", for the Zowe Application Server, and "),a("em",[e._v("ZSS_LOG_DIR")]),e._v(", for ZSS. While these variables are intended to specify a directory, if you specify a location that is a file name, Zowe will write the logs to the specified file instead (for example: "),a("code",[e._v("/dev/null")]),e._v(" to disable logging).")]),e._v(" "),a("p",[e._v("When you specify the environment variables "),a("em",[e._v("ZLUX_NODE_LOG_DIR")]),e._v(" and "),a("em",[e._v("ZSS_LOG_DIR")]),e._v(" and you specify directories rather than files, Zowe will timestamp the logs and delete the older logs that exceed the "),a("em",[e._v("ZLUX_NODE_LOGS_TO_KEEP")]),e._v(" threshold.")]),e._v(" "),a("h4",{attrs:{id:"zlux-node-log-file-and-zss-log-file-environment-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zlux-node-log-file-and-zss-log-file-environment-variables","aria-hidden":"true"}},[e._v("#")]),e._v(" ZLUX_NODE_LOG_FILE and ZSS_LOG_FILE environment variables")]),e._v(" "),a("p",[e._v("If you set the log file name for the Zowe Application Server by setting the "),a("em",[e._v("ZLUX_NODE_LOG_FILE")]),e._v(" environment variable, or if you set the log file for ZSS by setting the "),a("em",[e._v("ZSS_LOG_FILE")]),e._v(" environment variable, there will only be one log file, and it will be overwritten each time the server is launched.")]),e._v(" "),a("p",[a("strong",[e._v("Note")]),e._v(": When you set the "),a("em",[e._v("ZLUX_NODE_LOG_FILE")]),e._v(" or "),a("em",[e._v("ZSS_LOG_FILE")]),e._v(" environment variables, Zowe will not override the log names, set a timestamp, or delete the logs.")]),e._v(" "),a("p",[e._v("If the directory or file cannot be created, the server will run (but it might not perform logging properly).")]),e._v(" "),a("h3",{attrs:{id:"retaining-logs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#retaining-logs","aria-hidden":"true"}},[e._v("#")]),e._v(" Retaining logs")]),e._v(" "),a("p",[e._v("By default, the last five logs are retained. To specify a different number of logs to retain, set "),a("em",[e._v("ZLUX_NODE_LOGS_TO_KEEP")]),e._v(" (Zowe Application Server logs) or "),a("em",[e._v("ZSS_LOGS_TO_KEEP")]),e._v(" (ZSS logs) to the number of logs that you want to keep. For example, if you set "),a("em",[e._v("ZLUX_NODE_LOGS_TO_KEEP")]),e._v(" to 10, when the eleventh log is created, the first log is deleted.")])])},[],!1,null,null,null);t.default=r.exports}}]);