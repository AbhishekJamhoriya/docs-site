<?xml version="1.0" encoding="UTF-8"?><?workdir /opt/dita-ot/out/.tmp?><?workdir-uri file:/opt/dita-ot/out/.tmp/?><?path2project ../../?><?path2project-uri ../../?><?path2rootmap-uri ../../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="error-reporting-ui" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:1;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:1;182:3">Error reporting UI</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:1;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:1;182:3">The <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:1;182:3">zLUX Widgets</codeph> repository contains shared widget-like components of the Zowe Desktop, including Button, Checkbox, Paginator, various pop-ups, and others. To maintain consistency in desktop styling across all applications, use, reuse, and customize existing widgets to suit the purpose of the application's function and look.</p><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:2;182:3">Ideally, a program should have little to no logic errors. Once in a while a few occur, but more commonly an error occurs from misconfigured user settings. A user might request an action or command that requires certain prerequisites, for example: a proper ZSS-Server configuration. If the program or method fails, the program should notify the user through the UI about the error and how to fix it. For the purposes of this discussion, we will use the Workflow application plug-in in the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:2;182:3">zlux-workflow</codeph> repository.</p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zluxpopupmanagerservice" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:2;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:2;182:3">ZluxPopupManagerService</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:2;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:3;182:3">The <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:3;182:3">ZluxPopupManagerService</codeph> is a standard popup widget that can, through its <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:4;182:3">reportError()</codeph> method, be used to display errors with attributes that specify the title or error code, severity, text, whether it should block the user from proceeding, whether it should output to the logger, and other options you want to add to the error dialog. <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:5;182:3">ZluxPopupManagerService</codeph> uses both <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:6;182:3">ZluxErrorSeverity</codeph> and <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:7;182:3">ErrorReportStruct</codeph>.</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeblock:1;182:3">`export declare class ZluxPopupManagerService {`

    eventsSubject: any;
    listeners: any;
    events: any;
    logger: any;
    constructor();
    setLogger(logger: any): void;
    on(name: any, listener: any): void;
    broadcast(name: any, ...args: any[]): void;
    processButtons(buttons: any[]): any[];
    block(): void;
    unblock(): void;
    getLoggerSeverity(severity: ZluxErrorSeverity): any;
    reportError(severity: ZluxErrorSeverity, title: string, text: string, options?: any): Rx.Observable&lt;any&gt;;
`}`</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="zluxerrorseverity" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:3;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:3;182:3">ZluxErrorSeverity</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:3;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:4;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:8;182:3">ZluxErrorSeverity</codeph> classifies the type of report. Under the popup-manager, there are the following types: error, warning, and information. Each type has its own visual style. To accurately indicate the type of issue to the user, the error or pop-up should be classified accordingly.</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeblock:2;182:3">`export declare enum ZluxErrorSeverity {`

    ERROR = "error",
    WARNING = "warning",
    INFO = "info",
`}`</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="errorreportstruct" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:4;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:4;182:3">ErrorReportStruct</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:4;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:5;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:9;182:3">ErrorReportStruct</codeph> contains the main interface that brings the specified parameters of <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:10;182:3">reportError()</codeph> together.</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeblock:3;182:3">`export interface ErrorReportStruct {`

    severity: string;
    modal: boolean;
    text: string;
    title: string;
    buttons: string[];
`}`</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="implementation" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:5;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:5;182:3">Implementation</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:5;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:6;182:3">Import <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:11;182:3">ZluxPopupManagerService</codeph> and <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:12;182:3">ZluxErrorSeverity</codeph> from widgets. If you are using additional services with your error prompt, import those too (for example, <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:13;182:3">LoggerService</codeph> to print to the logger or <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:14;182:3">GlobalVeilService</codeph> to create a visible semi-transparent gray veil over the program and pause background tasks). Here, widgets is imported from <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:15;182:3">node_modules\@zlux\</codeph> so you must ensure zLUX widgets is used in your <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:16;182:3">package-lock.json</codeph> or <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:17;182:3">package.json</codeph> and you have run <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:18;182:3">npm install</codeph>.</p><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:7;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:19;182:3">import { ZluxPopupManagerService, ZluxErrorSeverity } from '@zlux/widgets';</codeph></p></body><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="declaration" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:6;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:6;182:3">Declaration</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:6;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:8;182:3">Create a member variable within the constructor of the class you want to use it for. For example, in the Workflow application plug-in under <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:20;182:3">\zlux-workflow\src\app\app\zosmf-server-config.component.ts</codeph> is a <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:21;182:3">ZosmfServerConfigComponent</codeph> class with the pop-up manager service variable. To automatically report the error to the console, you must set a logger.</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeblock:4;182:3">`export class ZosmfServerConfigComponent {`

    constructor(
    private popupManager: ZluxPopupManagerService, )
    {  popupManager.setLogger(logger); } //Optional
`}`</codeblock></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="usage" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:7;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:7;182:3">Usage</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:7;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:9;182:3">Now that you have declared your variable within the scope of your program's class, you are ready to use the method. The following example describes an instance of the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:22;182:3">reload()</codeph> method in Workflow that catches an error when the program attempts to retrieve a configuration from a <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:23;182:3">configService</codeph> and set it to the program's <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:24;182:3">this.config</codeph>. This method fails when the user has a faulty zss-Server configuration and the error is caught and then sent to the class' <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:25;182:3">popupManager</codeph> variable from the constructor above.</p><codeblock class="+ topic/pre pr-d/codeblock " xml:space="preserve" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeblock:5;182:3">`reload(): void {`

    this.globalVeilService.showVeil();
    this.configService
      .getConfig()
      .then(config =&gt; (this.config = config))
      .then(_ =&gt; setTimeout(() =&gt; this.test(), 0))
      .then(_ =&gt; this.globalVeilService.hideVeil())
      .catch(err =&gt; {
        this.globalVeilService.hideVeil()
        let errorTitle: string = "Error";
        let errorMessage: string = "Server configuration not found. Please check your zss server.";
        const options = {
          blocking: true
        };
          this.popupManager.reportError(ZluxErrorSeverity.ERROR, errorTitle.toString()+": "+err.status.toString(), errorMessage+"\n"+err.toString(), options);  
        });
`}`</codeblock><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:10;182:3">Here, the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:26;182:3">errorMessage</codeph> clearly describes the error with a small degree of ambiguity as to account for all types of errors that might occur from that method. The specifics of the error are then generated dynamically and are printed with the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:27;182:3">err.toString()</codeph>, which contains the more specific information that is used to pinpoint the problem. The <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:28;182:3">this.popupManager.report()</codeph> method triggers the error prompt to display. The error severity is set with <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:29;182:3">ZluxErrorSeverity.ERROR</codeph> and the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:30;182:3">err.status.toString()</codeph> describes the status of the error (often classified by a code, for example: <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:31;182:3">404</codeph>). The optional parameters in <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:32;182:3">options</codeph> specify that this error will block the user from interacting with the application plug-in until the error is closed or it until goes away on its own. <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:33;182:3">globalVeilService</codeph> is optional and is used to create a gray veil on the outside of the program when the error is caused. You must import <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:34;182:3">globalVeilService</codeph> separately (see the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:35;182:3">zlux-workflow</codeph> repository for more information).</p></body></topic><topic class="- topic/topic " ditaarch:DITAArchVersion="1.2" domains="(topic hi-d) (topic ut-d) (topic indexing-d) (topic hazard-d) (topic abbrev-d) (topic pr-d) (topic sw-d) (topic ui-d)" id="html" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="topic:8;182:3"><title class="- topic/title " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="title:8;182:3">HTML</title><body class="- topic/body " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="body:8;182:3"><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:11;182:3">The final step is to have the recently created error dialog display in the application plug-in. If you do <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:36;182:3">this.popupManager.report()</codeph> without adding the component to your template, the error will not be displayed. Navigate to your component's <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:37;182:3">.html</codeph> file. On the Workflow application plug-in, this file will be in <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:38;182:3">\zlux-workflow\src\app\app\zosmf-server-config.component.html</codeph> and the only item left is to add the popup manager component alongside your other classes.</p><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:12;182:3"><codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:39;182:3">&lt;zlux-popup-manager&gt;&lt;/zlux-popup-manager&gt;</codeph></p><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:13;182:3">So now when the error is called, the new UI element should resemble the following:</p><image class="- topic/image " href="285e6fce81c422b8a47e14ff2ec9909241add850.png" placement="break" xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="image:1;182:3"><alt class="- topic/alt " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="alt:1;182:3">UI element</alt></image><p class="- topic/p " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="p:14;182:3">The order in which you place the pop-up manager determines how the error dialog will overlap in your UI. If you want the error dialog to overlap other UI elements, place it at the end of the <codeph class="+ topic/ph pr-d/codeph " xtrf="file:/opt/dita-ot/data/extend/extend-desktop/mvd-errorreportingui.md" xtrc="codeph:40;182:3">.html</codeph> file. You can also create custom styling through a CSS template, and add it within the scope of your application plug-in.</p></body></topic></topic></topic>